!function(e){function t(t){for(var r,c,a=t[0],u=t[1],l=t[2],s=0,p=[];s<a.length;s++)c=a[s],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={0:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var f=u;i.push([661,1]),n()}({10:function(e,t,n){"use strict";(function(e){n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return v})),n.d(t,"j",(function(){return m})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return P})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"h",(function(){return k})),n.d(t,"k",(function(){return x})),n.d(t,"o",(function(){return C})),n.d(t,"i",(function(){return T})),n.d(t,"l",(function(){return D}));var r=n(17),o=n.n(r),i=n(50),c=n.n(i),a=n(203),u=n.n(a),l=n(593),f=n.n(l),s=n(146);n(2);function p(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d,h=function(t){e((function(){throw t})),alert(t)},v=window.alert,m=function(){return window.LIST_ANIMATION_DELAY||300},g=function(e){return new Promise((function(t,n){e.onfinish=t}))},O=function(e){return g(e.animate([{opacity:"0"},{opacity:"1"}],{duration:m()}))},j=function(e){return g(e.animate([{opacity:"1"},{opacity:"0"}],{duration:m()}))},w=function(e,t,n){var r=t&&function(e,n){return t(e.data.present,n,e)};return Object(s.b)(r,n)(e)},P=function(e,t,n){var r=t&&function(){return function(e,n){return t()(e.data.present,n,e)}};return Object(s.b)(r,n)(e)},R=function(){return window._engine._store.getState()},S=function(){return window._engine._getActionsList()},E=function(){return window._engine._getUserInfo()},k=function(e,t){var n=(t&&t.length?t:"file")+".json";!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),n.remove()}(function(e,t){var n=JSON.stringify(e,null,"\t"),r=new Blob([n],{type:t});return URL.createObjectURL(r)}(e,"application/javascript"),n)},_=JSON.stringify,x=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return null===t?null:void 0===t?"$undefined$":f()(t)?"$NaN$":"object"!==b(t)?t:n.has(t)?"$circular:".concat(_(n.get(t))):(n.set(t,r),Array.isArray(t)?u()(t,(function(t,o){return e(t,n,[].concat(p(r),[o]))})):c()(t,(function(t,o,i){t[i]=e(o,n,[].concat(p(r),[i]))}),{}))},C=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(-1===n&&(n=t),"string"==typeof t){if("$undefined$"===t)return;if("$NaN$"===t)return NaN;if(t.startsWith("$circular")){var r=JSON.parse(t.slice(10)),i=o()(n,r);return i}}return"object"!==b(t)||null===t?t:c()(t,(function(t,r,o){t[o]=e(r,n)}),t)},T=function(e){return new Promise((function(t,n){d&&d.remove();var r=d=document.createElement("input");r.type="file",r.accept=e,document.body.append(r),r.style.visibility="hidden",r.style.position="absolute",r.style.left="-9999px",r.onchange=function(e){r.files.length?t(r.files[0]):n()},r.click()}))},D=function(e){return function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){return t(r.result)},r.readAsText(e)}))}(e).then(JSON.parse)}}).call(this,n(62).setImmediate)},100:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(207),o=n(2),i=Object(o.b)("MOD_AUDIO"),c=Object(r.a)("MOD_RENAME"),a=i.create("SET","mid, audio"),u=i.create("DEL","mid")},101:function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return w}));var r=n(2),o=n(58);function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=["paragraph","text","heading"],f=function(e){return e?48<=(t=e).charCodeAt(0)&&t.charCodeAt(0)<=57?parseInt(e,10):parseInt(Object(r.g)(e),10):null;var t},s=/^(?:\[m([\d\w])\])?(.+)$/,p=/[()"«».?!,:;―\s]+/g,y=function(e,t){return function(e){var t,n=[],r=0,o=i((e=e.replace("&#39;","'")).matchAll(p));try{for(o.s();!(t=o.n()).done;){var c=t.value,a=c[0],u=c.index;u>r&&n.push({type:"word",text:e.substring(r,u)}),n.push({type:"space",text:a}),r=u+a.length}}catch(e){o.e(e)}finally{o.f()}return r<e.length-1&&n.push({type:"word",text:e.substring(r)}),n}(e).map((function(e,n){return"word"===e.type?function(e,t,n){var r=c(e.match(s),3),o=r[1],i=r[2],a=function(e,t){return"".concat(e.replace(/\./g,"-"),"::").concat(t)}(n,t);return{type:o?"mark":"basic",word:i,answer:f(o),attrs:{wid:a},wid:a}}(e.text,n,t):e}))},b=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,c=i(e);try{for(c.s();!(o=c.n()).done;){var a=o.value;"space"!==a.type&&m.apply(void 0,[a].concat(n))}}catch(e){c.e(e)}finally{c.f()}return e},d={content:[]},h=function(e,t,n){e.attrs.mark=t,e.mark=t;var r=n[t-1]||d;e.attrs.color=r.color,e.attrs.underline=r.underline},v=function(e,t,n){if(!n)return e;var r,o=i(e);try{for(o.s();!(r=o.n()).done;){var c=r.value;"mark"===c.type&&(c.attrs["answer-color"]=t[c.answer-1].color,c.attrs["answer-underline"]=t[c.answer-1].underline)}}catch(e){o.e(e)}finally{o.f()}return e},m=function(e,t,n){!0===t?e.answer&&h(e,e.answer,n):e.wid in t&&h(e,t[e.wid],n)},g=function(e){return e.map((function(e){return O(e)})).join("")},O=function(e){switch(e.type){case"space":return e.text;case"mark":case"basic":return j(e);default:throw new Error("unknown word-type")}},j=function(e){if(null==e.word)throw new Error("Mark word object must have `word` property");var t=Object.entries(e.attrs).filter((function(e){return void 0!==c(e,2)[1]})).map((function(e){var t=c(e,2),n=t[0],r=t[1];return"data-".concat(n,'="').concat(r,'"')})).join(" "),n=e.icon?function(e){return'<span class="bllp-mark-icon bllp-icon-'.concat(e,'"></span>')}(e.icon):"";return"<x-word ".concat(t,">").concat(n).concat(e.word,"</x-word>")},w=function(e){var t={};return o.a.walk(e,(function(e,n){l.includes(o.a.type(e))&&(t=Object.assign(t,function(e){var t=e.el,n=e.cid,r=o.a.parse(t).text;return y(r,n).filter((function(e){return"mark"===e.type})).reduce((function(e,t){var n=t.wid,r=t.answer;return e[n]=parseInt(r,10),e}),{})}({el:e,cid:n})))})),t}},102:function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"g",(function(){return P})),n.d(t,"b",(function(){return R})),n.d(t,"f",(function(){return S})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return _}));var r=n(122),o=n.n(r),i=n(598),c=n.n(i),a=n(79),u=n.n(a),l=n(5);function f(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t){var n={};return{connected:e.filter((function(e,r){return e.includes(t)?(n[t]=r,!0):!!e.includes(t-1)&&(n[t-1]=r,!0)})),groupIdxs:n}},y=function(e,t){return e.findIndex((function(e){return e.some((function(e){return e===t}))}))},b=function(e,t){return e.findIndex((function(e){return e[0]>t}))},d=function(e,t){var n=e.indexOf(t);if(-1===n)return e;var r=Object(l.l)(e,n,1);return r.length<2?[]:r},h=function(e,t){return t.map((function(t,n){return t.map((function(t,r){return e[n][0]+r}))}))},v=function(e,t,n){return e.map((function(e,r){return r<t?e:e.map((function(e){return e+n}))}))},m=function(e,t,n){return t<0?e:e.map((function(e,r){return r<t?e:e.map((function(e){return e-n}))}))},g=function(e,t){if(0===e.length)return 0;var n=u()(e,(function(e){return e[0]>t}));return-1===n?e.length:n},O=function(e,t,n){if(!e[t])return e;var r=c()(e[t],n),o=Object(l.a)(e[t],r,n);return Object(l.i)(e,t,o)},j=function(e,t){var n=g(e,t);return Object(l.a)(e,n,[t-1,t])},w=function(e,t){return u()(e,(function(e){var n=!1,r=!1;return e.some((function(e){return e===t-1&&(n=!0),e===t&&(r=!0),n&&r}))}))},P=function(e,t,n){var r=e[t].indexOf(n);if(-1===r)return e;var o=e[t].slice(0,r),i=e[t].slice(r),c=t,a=Object(l.l)(e,t,1);return o.length>1&&(a=Object(l.a)(a,c,o),c++),i.length>1&&(a=Object(l.a)(a,c,i)),a},R=function(e,t){if(t<1)return e;var n=p(e,t),r=n.connected,o=n.groupIdxs;switch(r.length){case 2:var i=[].concat(f(r[0]),f(r[1]));return Object(l.l)(e,o[t-1],2,i);case 1:return void 0!==o[t]?O(e,o[t],t-1):O(e,o[t-1],t);default:return j(e,t)}},S=function(e,t){var n=new Map,r=e;return t.forEach((function(t){var o=y(r,t),i=r[o],c=y(e,t);if(-1===c?c=b(e,t):c++,n.has(c)?n.set(c,n.get(c)+1):n.set(c,1),i){var a=d(i,t);r=a.length?Object(l.l)(r,o,1,a):Object(l.l)(r,o,1)}})),r=h(e,r),Array.from(n.keys()).reverse().forEach((function(e){return r=m(r,e,n.get(e))})),r},E=function(e,t,n){t--;var r=y(e,t);if(-1===r){var i=b(e,t);return-1===i?e:v(e,i,n)}var c=e[r],a=c.length+c[0],u=l.l.apply(void 0,[c,c.length,0].concat(f(o()(a,a+n)))),s=Object(l.l)(e,r,1,u);return s=v(s,e.indexOf(c)+1,n)},k=function(e,t){var n=e.find((function(e){return e.some((function(e){return e===t}))}));return n?n.indexOf(t):-1},_=function(e,t){var n=y(e,t);if(-1!==n)return e[n]}},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(208),o=n(1),i=n.n(o),c={app:i.a.createContext(),t:i.a.createContext()},a=Object(r.a)(c),u=(a.provideContext,a.contextHOC,a.renderContext);a.i18nContext},1078:function(e,t,n){},108:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return h}));var r,o=n(2);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=Object(o.b)("TimeMashine"),l=u.create("UNDO"),f=u.create("REDO"),s=u.create("ClEAR"),p={present:void 0,stack:[],pos:-1},y=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"skip";return"skip"===r?n=e.stack:(n=c(e.stack))[e.pos]=t,{pos:e.pos,stack:n,present:t}},b=function(e,t,n){var r,o=e.pos,i=e.stack,c=i.length;if(o>=c-1){var a=Math.max(0,c-n);r=i.slice(a)}else{var u=o+1,l=Math.max(0,u-n+1);r=i.slice(l,u)}return r.push(t),{pos:r.length-1,stack:r,present:t}},d=function(e){return e.pos>0},h=function(e){return e.pos<e.stack.length-1},v=(i(r={},s,(function(){return p})),i(r,l,(function(e,t){return{pos:t.pos-1,stack:t.stack,present:t.stack[t.pos-1]}})),i(r,f,(function(e,t){return{pos:t.pos+1,stack:t.stack,present:t.stack[t.pos+1]}})),r);t.e=function(e,t){var n=new Set(t.initTypes||["@@INIT"]),r=t.filter||function(){return!0},o=t.limit||10,i=t.replaceMode||function(){return"skip"};return t.reducer=e,function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0;if(a.type.startsWith("TimeMashine"))return v[a.type](t,c,a);n.has(a.type)&&(c=p);var l=e(c.present,a,u);return l===c.present?c:r(a)?b(c,l,o):y(c,l,i(a))}}},1081:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t),n.d(t,"aToggle",(function(){return p})),n.d(t,"aAdd",(function(){return y})),n.d(t,"aDel",(function(){return b})),n.d(t,"aMove",(function(){return d})),n.d(t,"aToggleIsMultiple",(function(){return h})),n.d(t,"aToggleRandomOrder",(function(){return v})),n.d(t,"def",(function(){return m})),n.d(t,"map",(function(){return g})),n.d(t,"blank",(function(){return j}));var r,o=n(17),i=n.n(o),c=n(5),a=n(2);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=Object(a.b)("MOD_CHOICE"),p=s.create("TOGGLE_RIGHT","idx"),y=s.create("ADD","idx"),b=s.create("DEL","idx"),d=s.create("MOVE","destination, source"),h=s.create("TOGGLE_IS_MULTIPLE"),v=s.create("TOGGLE_RANDOM_ORDER"),m={},g=(f(r={},p.type,(function(e,t,n){var r=t.idx;n.isMultiple||(n=l(l({},n),{},{options:n.options.map((function(e){return e.right?l(l({},e),{},{right:!1}):e}))}));var o=["options",r,"right"],a=!i()(n,o);return{mod:Object(c.p)(n,o,a)}})),f(r,y.type,(function(e,t,n){var r=t.idx,o=O(Object(c.l)(n.options,r,0,{right:!1,content:["P:Text"]}));return{mod:Object(c.p)(n,"options",o)}})),f(r,b.type,(function(e,t,n){var r=t.idx,o=O(Object(c.l)(n.options,r,1));return{mod:Object(c.p)(n,"options",o)}})),f(r,d.type,(function(e,t,n){var r=t.destination,o=t.source,i=O(Object(c.h)(n.options,r,o));return{mod:Object(c.p)(n,"options",i)}})),f(r,h.type,(function(e,t,n){return{mod:Object(c.m)(n,"isMultiple")}})),f(r,v.type,(function(e,t,n){return{mod:Object(c.m)(n,"randomOrder")}})),r),O=function(e){return e.map((function(e,t){return e.id!==String(t)?l(l({},e),{},{id:String(t)}):e}))},j={description:["P:description"],isMultiple:!0,randomOrder:!0,options:[{content:["P:option 1"],id:"0",right:!0},{content:["P:option 2"],id:"1",right:!1}],hints:{right:[],wrong:[],solution:[]}}},110:function(e,t,n){"use strict";n.r(t),n.d(t,"aDel",(function(){return g})),n.d(t,"aSel",(function(){return O})),n.d(t,"aToggle",(function(){return j})),n.d(t,"aClean",(function(){return w})),n.d(t,"aAdd",(function(){return P})),n.d(t,"aSetMode",(function(){return R})),n.d(t,"def",(function(){return E})),n.d(t,"map",(function(){return k})),n.d(t,"genConnLines",(function(){return _})),n.d(t,"blank",(function(){return x})),n.d(t,"canSetSingleMode",(function(){return C}));var r,o=n(144),i=n.n(o),c=n(48),a=n.n(c),u=n(28),l=n.n(u),f=n(8),s=n(5),p=n(2);function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=Object(p.b)("MOD_CONN"),g=m.create("DEL","mode, id"),O=m.createIgnore("SEL","mode, id"),j=m.create("TOGGLE","l, r"),w=m.createIgnore("CLEAN"),P=m.create("ADD","mode"),R=m.create("SET_MODE","mode"),S={left:null,right:null},E={sel:S},k=(v(r={},g.type,(function(e,t,n){var r,o=t.mode,i=t.id,c=l()(n[o],i),u="right"===o?a()(n.left,(function(e){return e.val.includes(i)?h(h({},e),{},{val:e.val.filter((function(e){return e!==i}))}):e})):n.right;return{mod:h(h({},n),{},(v(r={},o,c),v(r,"right"===o?"left":"right",u),r)),state:h(h({},e),{},{sel:S})}})),v(r,O.type,(function(e,t){var n=t.mode,r=t.id;return{state:Object(s.p)(e,"sel.".concat(n),r)}})),v(r,j.type,(function(e,t,n){var r=t.l,o=t.r,i=n.left[r],c=i.val.includes(o),a=h(h({},i),{},{val:c?Object(s.d)(i.val,(function(e){return e==o})):[].concat(y(i.val),[o])}),u=h(h({},n),{},{left:h(h({},n.left),{},v({},r,a))});return"single"!==u.mode||C(u)||(u.mode="multiple"),{mod:u}})),v(r,w.type,(function(e){return{state:h(h({},e),{},{sel:S})}})),v(r,P.type,(function(e,t,n){var r=t.mode,o=function(e,t){var n="left"===t?1:97;if("left"===t)for(;n in e;)++n;else for(;String.fromCharCode(n)in e;)++n;return"left"===t?String(n):String.fromCharCode(n)}(n[r],r),i={id:o,content:["P:text"]};return"left"===r&&(i.val=[]),{mod:Object(s.p)(n,[r,o],i)}})),v(r,R.type,(function(e,t,n){var r=t.mode;return{mod:h(h({},n),{},{mode:r})}})),r);var _=Object(f.a)((function(e){return e.left}),(function(e){return i()(e,(function(e){var t=e.id;return e.val.map((function(e){return{left:t,right:e}}))}))})),x={hints:{right:[],wrong:[],solution:[]},description:["P:description"],left:{1:{content:["P:Left option"],id:"1",val:[]}},right:{a:{content:["P:Right option"],id:"a"}},mode:"multiple"},C=function(e){var t=e.left;return Object.values(t).every((function(e){return e.val.length<2}))}},1143:function(e,t,n){},1144:function(e,t,n){},1185:function(e,t,n){},1186:function(e,t,n){},1187:function(e,t,n){},1188:function(e,t,n){},1189:function(e,t,n){},1190:function(e,t,n){},1191:function(e,t,n){},1192:function(e,t,n){},1193:function(e,t,n){},1194:function(e,t,n){},1195:function(e,t,n){},1196:function(e,t,n){},1201:function(e,t){},1222:function(e,t,n){},1223:function(e,t,n){},1224:function(e,t,n){},1225:function(e,t,n){},1226:function(e,t,n){},1227:function(e,t,n){},1228:function(e,t,n){},1229:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t),n.d(t,"aReorderMarksList",(function(){return p})),n.d(t,"aSetMarkProp",(function(){return y})),n.d(t,"aDelMark",(function(){return b})),n.d(t,"aAddMark",(function(){return d})),n.d(t,"def",(function(){return h})),n.d(t,"map",(function(){return v})),n.d(t,"blank",(function(){return m}));var r,o=n(2),i=n(5);function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=Object(o.b)("MOD_MARKWORDS"),p=s.create("REORDER_MARKS_LIST","dest, src"),y=s.create("SET_MARK_PROP","propType, idx, val"),b=s.create("DEL_MARK","idx"),d=s.create("ADD_MARK"),h={marks:[]},v=(f(r={},p,(function(e,t,n){var r=t.dest,o=t.src;return{mod:l(l({},n),{},{marks:Object(i.h)(n.marks,r,o)})}})),f(r,y,(function(e,t,n){var r=t.propType,o=t.idx,c=t.val;return{mod:Object(i.p)(n,"marks.".concat(o,".").concat(r),c)}})),f(r,b,(function(e,t,n){var r=t.idx,o=Object(i.l)(n.marks,r,1);return{mod:Object(i.p)(n,"marks",o)}})),f(r,d,(function(e,t,n){var r=n.marks.length,o={content:["P: Item".concat(r+1)]},a=[].concat(c(n.marks),[o]);return{mod:Object(i.p)(n,"marks",a)}})),r),m={description:["P:description"],hints:{wrong:[],right:[],solution:[]},content:["P:Some text"],marks:[{color:"red",content:["P:Mark"]}]}},1230:function(e,t,n){},1231:function(e,t,n){},1233:function(e,t){!function(e){var t=null,n=null;function r(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<(e||5);++r)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function o(){return(new Date).getTime()}function i(i){if(!e.localStorage)throw new"localStorage not available";var a="polyBC_"+i,u=null===t;return this.channelId=a,n=n||r(),(t=t||{})[a]=t[a]||[],t[a].push(this),this.name=a+"::::"+r()+o(),u&&e.addEventListener("storage",c.bind(this),!1),this}function c(r){var o=r.key,i=r.newValue,c=!i,a=null;if(o.includes("eomBCmessage_")&&!c){try{a=JSON.parse(i)}catch(e){throw new Error("Message conversion has resulted in an error.")}if(a.tabId!==n&&a.channelId&&t&&t[a.channelId]){var u=t[a.channelId];for(var l in u)!u[l].closed&&u[l].onmessage&&u[l].onmessage(a.message);e.localStorage.removeItem(o)}}}i.prototype.onmessage=function(e){},i.prototype.postMessage=function(i){if(t){if(this.closed)throw new"This BroadcastChannel is closed.";var c=function(t){return{timestamp:o(),isTrusted:!0,target:null,currentTarget:null,data:t,bubbles:!1,cancelable:!1,defaultPrevented:!1,lastEventId:"",origin:e.location.origin}}(i),a=t[this.channelId]||[];for(var u in a)a[u].closed||a[u].name===this.name||a[u].onmessage&&a[u].onmessage(c);var l,f={channelId:this.channelId,bcId:this.name,tabId:n,message:c};try{var s=JSON.stringify(f);l="eomBCmessage_"+r()+"_"+this.channelId,e.localStorage.setItem(l,s)}catch(e){throw new Error("Message conversion has resulted in an error.")}setTimeout((function(){e.localStorage.removeItem(l)}),1e3)}},i.prototype.close=function(){this.closed=!0;var n=t[this.channelId].indexOf(this);n>-1&&t[this.channelId].splice(n,1),t[this.channelId].length||delete t[this.channelId],function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(t)&&e.removeEventListener("storage",c.bind(this))},e.BroadcastChannel=e.BroadcastChannel||i}(window.top)},1234:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return jv}));var r=n(23),o=n.n(r),i=n(1),c=n.n(i),a=n(0),u=n.n(a),l=n(8),f=n(315),s=n(220),p=n.n(s),y=n(17),b=n.n(y),d=n(71),h=n.n(d),v=n(2),m=n(215),g=n(219),O=n(313),j=n(326),w=n(3);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var R=null,S=function(e,t){return e.map((function(e,n){return c.a.createElement(R,{data:e,key:n,cid:"".concat(t?t+".":"").concat(n)})}),this)},E=function(e){return c.a.createElement(O.a,P({},e,{renderContent:S}))},k=Object(w.a)((function(e){var t=e.lessonApi,n=e.audio;return n?c.a.createElement(j.a,{audio:t.getAssetUrl(n)}):null}),"lessonApi"),_=n(6);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e){z(n,e);var t=N(n);function n(){return D(this,n),t.apply(this,arguments)}return q(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=t.list,r=t.listType,o=e.cid,i="numeric"===r?"ol":"ul";return c.a.createElement(i,{className:"bllp-list"},S(n,"".concat(o,".list")))}}]),n}(c.a.PureComponent);B(U,"isContentItem",!0),B(U,"propTypes",{data:u.a.shape({list:u.a.array.isRequired,listType:u.a.oneOf(["numeric"])}).isRequired,cid:u.a.string.isRequired});var H=function(e){z(n,e);var t=N(n);function n(){return D(this,n),t.apply(this,arguments)}return q(n,[{key:"getFirst",value:function(){var e=x(this.props.data.list,1)[0];return e?_.a.type(e):null}},{key:"render",value:function(){var e=this.props,t=e.data.list,n=e.cid;return c.a.createElement("li",{className:"bllp-list-item","data-first-item":this.getFirst()},S(t,"".concat(n,".list")))}}]),n}(c.a.PureComponent);B(H,"isContentItem",!0),B(H,"propTypes",{data:u.a.shape({list:u.a.array.isRequired}).isRequired,cid:u.a.string.isRequired});var F,W,G,V,$=U,K=H,X=n(158);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oe,ie,ce,ae,ue,le,fe,se=(F=Object(w.g)("cpayload"),V=G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(i,e);var t,n,r,o=te(i);function i(){return Z(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=e.isReadonly,n=this.props,r=n.data,o=n.onChange,i=n.val,a=n.status,u=n.className,l=r.id,f=r.width,s=Object(v.h)("bllp-c-input",u);return c.a.createElement(X.a,J({onChange:o,width:f,status:a},{cls:s,type:"text","data-id":l,disabled:t,value:i||"",role:"input-expression"}))}}])&&Q(t.prototype,n),r&&Q(t,r),i}(c.a.PureComponent),oe=G,ie="propTypes",ce={data:u.a.shape({id:u.a.string.isRequired,value:u.a.string.isRequired,width:u.a.string}).isRequired,status:u.a.string,onChange:u.a.func.isRequired,className:u.a.oneOfType([u.a.string,u.a.instanceOf(null)])},ie in oe?Object.defineProperty(oe,ie,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[ie]=ce,function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((W=V).prototype,"render",[F],Object.getOwnPropertyDescriptor(W.prototype,"render"),W.prototype),W),pe=n(59),ye=n(106),be=n.n(ye);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?je(e):t}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=(ae=Object(w.g)("cpayload"),fe=le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(i,e);var t,n,r,o=ge(i);function i(){var e;he(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pe(je(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){e.props.onChangeSub(e.id(),t)})),e}return t=i,(n=[{key:"id",value:function(){var e=this.props,t=e.expId,n=e.el;return Object(pe.b)(t,n)}},{key:"getSize",value:function(e){var t;return t=e.size?e.size:e.values.length?be()(e.values,"length").length:5,Math.max(3,t)}},{key:"render",value:function(e){var t=e.val,n=e.status,r=e.isReadonly,o=this.props,i=o.el,a=o.expId;return c.a.createElement(X.a,{onChange:this.onChange,cls:"bllp-c-exp-math-input",status:n[a],value:t[this.id()]||"",disabled:r,size:this.getSize(i)})}}])&&ve(t.prototype,n),r&&ve(t,r),i}(c.a.PureComponent),Pe(le,"propTypes",{el:u.a.shape({id:u.a.string.isRequired,kind:u.a.string.isRequired,values:u.a.arrayOf(u.a.string).isRequired}).isRequired,expId:u.a.string.isRequired,onChangeSub:u.a.func.isRequired}),Pe(le,"cxPropTypes",{cpayload:u.a.shape({isReadonly:u.a.bool.isRequired,val:u.a.object.isRequired,status:u.a.object.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ue=fe).prototype,"render",[ae],Object.getOwnPropertyDescriptor(ue.prototype,"render"),ue.prototype),ue),Se=function(e){var t=e.children,n=e.mode;return c.a.createElement("span",{className:"bllp-c-exp-math-str","data-mode":n},t)};function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var o=Ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return De(this,n)}}function De(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(a,e);var t,n,r,i=Te(a);function a(){return _e(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return c.a.createElement("span",{className:"bllp-c-math-region"},this.props.data.map((function(e,t){return["string"===e.kind?c.a.createElement(Se,{key:"0"},Object(pe.e)(e.text)):null,"nonmath"===e.kind?c.a.createElement(Se,{mode:"nonmath",key:"1"},e.text):null,"input"===e.kind?c.a.createElement(Re,ke({el:e},o()(this.props,"expId","onChangeSub"),{key:"2"})):null]}),this))}}])&&xe(t.prototype,n),r&&xe(t,r),a}(c.a.PureComponent);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(qe,"propTypes",{data:u.a.array.isRequired,expId:u.a.string.isRequired,onChangeSub:u.a.func.isRequired});var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(i,e);var t,n,r,o=Be(i);function i(){return Ne(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.onChangeSub,r=e.className,o=Object(pe.d)(t.mask),i=o.left,a=o.right,u=Object(v.h)("bllp-c-math-box",r),l={onChangeSub:n,expId:t.id};return c.a.createElement("span",{className:u},c.a.createElement(qe,Ie({data:i},l)),c.a.createElement(Se,null,"="),c.a.createElement(qe,Ie({data:a},l)))}}])&&Le(t.prototype,n),r&&Le(t,r),i}(c.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Fe,"propTypes",{data:u.a.shape({mask:u.a.string.isRequired}).isRequired,onChangeSub:u.a.func.isRequired,className:u.a.oneOfType([u.a.string,u.a.instanceOf(null)])});var We=n(640),Ge=n.n(We),Ve=n(155),$e=n.n(Ve);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=et(e);if(t){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tt,nt,rt,ot,it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(i,e);var t,n,r,o=Ze(i);function i(){return Xe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getPrefix",value:function(){return"bllp"}}])&&Ye(t.prototype,n),r&&Ye(t,r),i}(n(63).a),ct=function e(t){if(function(e){if(e.clientHeight<=0)return!1;if(e.scrollHeight-e.clientHeight<=0)return!1;if(e===document.body)return!1;var t=getComputedStyle(e).overflowY;return"scroll"===t||"auto"===t}(t))return t;var n=t.parentElement;return n?e(n):null},at=function(e){return e.offsetHeight>e.clientHeight+2*e.clientTop},ut=function(){var e=document.documentElement,t=document.body;return at(e)?e:at(t)?t:e},lt=function(e,t,n){e.addEventListener(t,n,{passive:!1})},ft=function(e,t,n){e.removeEventListener(t,n)},st=function(){return{top:0,bottom:window.innerHeight}},pt=function(e,t,n){var r="top"===t?-1:1;e.scrollBy(0,r*n)};function yt(e,t){var n=st(),r="none";n.bottom<=t?r="bottom":n.top>=e&&(r="top"),r!==this.edge.state&&(this.edge.state=r,v.r.dispose(this.edge.interval),"none"!==r&&(this.edge.interval=Object(v.r)(this.doScroll)))}function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=vt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function ht(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=St(e);if(t){var o=St(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pt(this,n)}}function Pt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?Rt(e):t}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt,_t,xt,Ct,Tt="bllp-c-exp",Dt=(tt=Object(w.g)("cpayload"),ot=rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(i,e);var t,n,r,o=wt(i);function i(){var e;gt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Et(Rt(e=o.call.apply(o,[this].concat(n))),"setBlock",(function(t){e.block=t})),Et(Rt(e),"delItem",(function(t){var n=t.currentTarget,r=e.props,o=r.val,i=r.onChange;if(!e.cx.cpayload.isReadonly){var c=n.getAttribute("data-eid");i(o.filter((function(e){return e.eid!==c})))}})),e}return t=i,r=[{key:"reg",value:function(e,t){this._map.set(e,t)}},{key:"unreg",value:function(e){this._map.delete(e)}},{key:"dragStart",value:function(e){var t=this;this._list=ht(this._map.keys()).filter((function(t){return t.startsWith(e)})).map((function(e){return t._map.get(e)}));var n,r=dt(this._list);try{for(r.s();!(n=r.n()).done;)n.value.dragBefore()}catch(e){r.e(e)}finally{r.f()}}},{key:"dragMove",value:function(e,t){var n=this._list.filter((function(n){return n.check(e,t)}));this._active=Ge()(n,(function(e){return e.cpos()}));var r,o=dt(this._list);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.dragHover(i===this._active)}}catch(e){o.e(e)}finally{o.f()}}},{key:"dragStop",value:function(e,t){var n,r=dt(this._list);try{for(r.s();!(n=r.n()).done;)n.value.dragAfter()}catch(e){r.e(e)}finally{r.f()}this._active&&this._active.dragFinish(e,t),this._active=this._list=null}}],(n=[{key:"nid",value:function(){var e=this.props.data.id,t=this.cx.cpayload.mid;return"".concat(t,":").concat(e)}},{key:"componentDidMount",value:function(){this.constructor.reg(this.nid(),this)}},{key:"componentWillUnmount",value:function(){this.constructor.unreg(this.nid())}},{key:"check",value:function(e,t){var n=this.block.getBoundingClientRect();if(t.left>n.right||t.right<n.left||t.top>n.bottom||t.bottom<n.top)return!1;var r=this.props.val;return!(void 0===r?[]:r).some((function(t){return t.eid===e}))}},{key:"dragBefore",value:function(){this.scrollBox=ct(this.block)}},{key:"dragAfter",value:function(){this.scrollBox=null,this.dragHover(!1)}},{key:"cpos",value:function(){var e=this.block.getBoundingClientRect();return Math.ceil(e.left)}},{key:"dragHover",value:function(e){e?this.block.setAttribute("data-hover",!0):this.block.removeAttribute("data-hover")}},{key:"dragFinish",value:function(e,t){var n=this.props,r=n.onChange,o=n.val,i=void 0===o?[]:o,c=n.data,a={isDragNode:!0,eid:e,content:t};$e()(i,{eid:e})||("single"===c.mode?r([a]):r([].concat(ht(i),[a])),this.blink())}},{key:"blink",value:function(){this.block&&Object(v.d)(this.block)}},{key:"renderContent",value:function(){var e=this.props,t=e.cid,n=e.val,r=void 0===n?[]:n,o=e.data;return r.length?r.map((function(e,n){return c.a.createElement("div",{className:"".concat(Tt,"-dn-landed"),"data-eid":e.eid,key:e.eid,onClick:this.delItem},S(e.content,"".concat(t,".land.").concat(e.eid)))}),this):S(o.list,"".concat(t,".list"))}},{key:"render",value:function(e){var t=this.props,n=t.status,r=t.val,o=void 0===r?[]:r,i=t.data,a=t.className,u=e.isReadonly,l=Object(v.h)("".concat(Tt,"-dragnest"),!u&&"".concat(Tt,"-dn-enabled"),o.length&&"".concat(Tt,"-dn-filled"),a);return c.a.createElement("div",{className:l,ref:this.setBlock,"data-status":n,"data-has-ph":i.list.length>0},c.a.createElement(it,{icon:"target",cls:"".concat(Tt,"-dn-icon")}),c.a.createElement("div",{className:"".concat(Tt,"-dn-inner")},this.renderContent()))}}])&&Ot(t.prototype,n),r&&Ot(t,r),i}(c.a.PureComponent),Et(rt,"_map",new Map),Et(rt,"propTypes",{data:u.a.shape({id:u.a.string.isRequired,list:u.a.array.isRequired,value:u.a.arrayOf(u.a.string).isRequired,mode:u.a.oneOf(["single"])}).isRequired,onChange:u.a.func.isRequired,val:u.a.array,cid:u.a.string.isRequired,className:u.a.oneOfType([u.a.string,u.a.instanceOf(null)])}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((nt=ot).prototype,"render",[tt],Object.getOwnPropertyDescriptor(nt.prototype,"render"),nt.prototype),nt),At=n(127);function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bt(e);if(t){var o=Bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(e,t){return!t||"object"!==qt(t)&&"function"!=typeof t?Mt(e):t}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ht="bllp-c-exp",Ft=(kt=Object(w.g)("cpayload"),Ct=xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(a,e);var t,n,r,o=Nt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ut(Mt(t=o.call(this,e)),"state",{isDragging:!1}),Ut(Mt(t),"setBlock",(function(e){t.block=e,e&&lt(e,"touchstart",t.touchStart)})),Ut(Mt(t),"dragStart",(function(e){var n;t.canDrag()&&!t.unmounted&&(t.dndReset(),e.preventDefault(),t.scrollBox=ct(e.target)||ut(),t.scrollReceiver=(n=t.scrollBox)===document.body||n===document.documentElement?window:t.scrollBox,t.scrollReceiver.addEventListener("scroll",t.onBoxScroll),t.mouseEvent=e,t.prevScrollTop=t.scrollBox.scrollTop,t.x=e.clientX,t.y=e.clientY,t.calcDragLimits(),lt(window,"mousemove",t.dragMove),lt(window,"mouseup",t.dragStop),lt(window,"touchmove",t.touchMove),lt(window,"touchend",t.touchEnd),At.a.activate(),Dt.dragStart(t.cx.cpayload.mid))})),Ut(Mt(t),"touchStart",Object(v.u)(t.dragStart)),Ut(Mt(t),"dragMove",(function(e){e.preventDefault(),t.y-=t.scrollBox.scrollTop-t.prevScrollTop,t.state.isDragging||(t.setState({isDragging:!0}),t.block.setAttribute("bllp-in-drag",!0)),t.mouseEvent=e,t.prevScrollTop=t.scrollBox.scrollTop;var n=e.clientX-t.x,r=e.clientY-t.y;t.moveBlock(n,r),t.position=t.block.getBoundingClientRect(),Dt.dragMove(t.props.data.id,t.position),t.checkEdge()})),Ut(Mt(t),"touchMove",Object(v.u)(t.dragMove)),Ut(Mt(t),"doScroll",(function(){pt(t.scrollBox,t.edge.state,10)})),Ut(Mt(t),"onBoxScroll",(function(e){t.dragMove(t.mouseEvent)})),Ut(Mt(t),"dragStop",(function(e){if(!t.unmounted){t.dndClear(),t.setState({isDragging:!1});var n=t.props.data,r=n.id,o=n.list;Dt.dragStop(r,o)}})),Ut(Mt(t),"touchEnd",Object(v.u)(t.dragStop,"ignore")),t.dndReset(),t.checkEdgeBound=yt.bind(Mt(t)),t}return t=a,(n=[{key:"canDrag",value:function(){var e=this.props.data.isMultiple;return!(this.cx.cpayload.isReadonly||!e&&this.isLanded())}},{key:"dndReset",value:function(){this.x=null,this.y=null,this.prevScrollTop=null,this.mouseEvent=null,this.scrollBox=null,this.scrollReceiver=null,this.position=null,this.edge={interval:null,state:"none"},this.minTop=0,this.maxTop=Number.MAX_SAFE_INTEGER}},{key:"calcDragLimits",value:function(){var e=this.scrollBox,t=e.scrollTop,n=e.scrollHeight,r=st().top,o=this.block.getBoundingClientRect().top,i=this.block.offsetHeight;this.minTop=o-r+t,this.maxTop=n-this.minTop-i}},{key:"moveBlock",value:function(e,t){var n=Math.min(Math.max(-this.minTop,t),this.maxTop);this.block.style.transform="translate(".concat(e,"px, ").concat(n,"px)")}},{key:"checkEdge",value:function(){this.checkEdgeBound(this.position.top,this.position.bottom)}},{key:"dndClear",value:function(){this.block&&(this.block.removeAttribute("bllp-in-drag"),this.block.style.transform=""),ft(window,"mousemove",this.dragMove),ft(window,"mouseup",this.dragStop),ft(window,"touchmove",this.touchMove),ft(window,"touchend",this.touchEnd),this.scrollBox&&this.scrollReceiver.removeEventListener("scroll",this.onBoxScroll),v.r.dispose(this.edge.interval),At.a.deactivate(),this.dndReset()}},{key:"componentWillUnmount",value:function(){this.unmounted=!0,this.dndClear()}},{key:"isDragValues",value:function(e){return!0===b()(e,"0.isDragNode")}},{key:"isLanded",value:function(){var e=this.props.data.id,t=this.cx.cpayload.val;return Object.values(t).filter(this.isDragValues).some((function(t){return t.some((function(t){return t.eid===e}))}))}},{key:"render",value:function(e){var t=e.isReadonly,n=this.props,r=n.cid,o=n.data.isMultiple,i=this.state.isDragging,a=Object(v.h)("".concat(Ht,"-dragitem"),this.isLanded()&&"".concat(Ht,"-di-landed"),!t&&"".concat(Ht,"-di-enabled"),o&&"".concat(Ht,"-di-multiple"),!o&&"".concat(Ht,"-di-standalone")),u=c.a.createElement("div",{className:a,onMouseDown:this.dragStart,ref:this.setBlock,"data-indrag":Object(v.v)(i)},this.renderContent("".concat(r,".list")));return o?c.a.createElement("div",{className:"".concat(Ht,"-dragitem-wrapper")},i?c.a.createElement("div",{className:"".concat(Ht,"-dragitem"),"data-di-bg":!0},this.renderContent("bg")):null,u):u}},{key:"renderContent",value:function(e){return c.a.createElement(i.Fragment,null,c.a.createElement(it,{icon:"move",cls:"".concat(Ht,"-di-icon")}),c.a.createElement("div",{className:"".concat(Ht,"-di-inner")},S(this.props.data.list,e)))}}])&&zt(t.prototype,n),r&&zt(t,r),a}(c.a.PureComponent),Ut(xt,"propTypes",{data:u.a.shape({id:u.a.string.isRequired,list:u.a.array.isRequired,isMultiple:u.a.bool}).isRequired,onChange:u.a.func.isRequired,cid:u.a.string.isRequired}),Ut(xt,"cxPropTypes",{cpayload:u.a.shape({mid:u.a.string.isRequired,isReadonly:u.a.bool.isRequired,val:u.a.object.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((_t=Ct).prototype,"render",[kt],Object.getOwnPropertyDescriptor(_t.prototype,"render"),_t.prototype),_t),Wt=n(5),Gt=n(251),Vt=n.n(Gt);function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e){return function(e){if(Array.isArray(e))return Xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nn(e);if(t){var o=nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return en(this,n)}}function en(e,t){return!t||"object"!==$t(t)&&"function"!=typeof t?tn(e):t}function tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var on=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(i,e);var t,n,r,o=Qt(i);function i(){var e;Yt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rn(tn(e=o.call.apply(o,[this].concat(n))),"focus",(function(e){e.target.focus()})),rn(tn(e),"onKeyUp",(function(t){var n=t.key,r=t.target;/^\d$/.test(n)?(e.props.set(Number(n)),e.jumpNext(r)):"Backspace"===n&&e.props.set(void 0)})),e}return t=i,(n=[{key:"jumpNext",value:function(e){var t=e.closest(".".concat(mr)).querySelectorAll(".".concat(Fn,"-input")),n=Kt(t).indexOf(e);t[n+1]&&t[n+1].focus()}},{key:"render",value:function(){var e=this.props,t=e.isReadonly,n=e.value,r=e.cell;return c.a.createElement("div",{className:"".concat(Fn,"-input"),tabIndex:Object(v.v)(!t&&"0"),onClick:Object(v.v)(!t&&this.focus),onKeyUp:Object(v.v)(!t&&this.onKeyUp),"data-correct":Object(v.v)(r.v===n),"data-incorrect":Object(v.v)(r.v!==n)},c.a.createElement("div",{className:"".concat(Fn,"-cursor")}),Vt()(n)?c.a.createElement("span",{className:"".concat(Fn,"-val")},n):null)}}])&&Jt(t.prototype,n),r&&Jt(t,r),i}(c.a.PureComponent);rn(on,"propTypes",{isReadonly:u.a.bool.isRequired,value:u.a.number,cell:u.a.object.isRequired,set:u.a.func.isRequired});var cn=n(316),an=n.n(cn);function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dn(e);if(t){var o=dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yn(this,n)}}function yn(e,t){return!t||"object"!==un(t)&&"function"!=typeof t?bn(e):t}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sn(e,t)}(i,e);var t,n,r,o=pn(i);function i(){var e;ln(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hn(bn(e=o.call.apply(o,[this].concat(n))),"setValue",(function(t){var n=t.target.value,r=/^\d+$/.test(n)?Number(n):n;10===r&&(r="A"),e.props.set(r)})),e}return t=i,(n=[{key:"getDisplay",value:function(e){return"A"===e?"10":an()(e)?"":String(e)}},{key:"render",value:function(){var e=this.props,t=e.cell,n=e.value,r=e.isReadonly,o=this.getDisplay(n);return c.a.createElement("input",{className:"".concat(Fn,"-mindval"),maxLength:2,onChange:this.setValue,value:o,disabled:r,"data-correct":Object(v.v)(t.v===n),"data-incorrect":Object(v.v)(t.v!==n)})}}])&&fn(t.prototype,n),r&&fn(t,r),i}(c.a.PureComponent);function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn(e);if(t){var o=Sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pn(this,n)}}function Pn(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?Rn(e):t}function Rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}hn(vn,"propTypes",{isReadonly:u.a.bool.isRequired,cell:u.a.object.isRequired,set:u.a.func.isRequired,value:u.a.oneOfType([u.a.string,u.a.number])});var kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(i,e);var t,n,r,o=wn(i);function i(){var e;gn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return En(Rn(e=o.call.apply(o,[this].concat(n))),"setValue",(function(t){e.props.set(Number(t))})),e}return t=i,(n=[{key:"getDisplay",value:function(e){return"A"===e?"10":an()(e)?"":String(e)}},{key:"render",value:function(){var e=this.props,t=e.cell,n=e.value,r=e.isReadonly,o=this.getDisplay(n);return c.a.createElement(X.a,{inputMode:"numeric",pattern:"[0-9]",maxLength:"1",className:"".concat(Fn,"-mobileval"),width:"100%",min:0,max:9,style:{height:"100%"},onChange:this.setValue,value:o,disabled:r,"data-correct":Object(v.v)(t.v===n),"data-incorrect":Object(v.v)(t.v!==n)})}}])&&On(t.prototype,n),r&&On(t,r),i}(c.a.PureComponent);function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t){return(Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function An(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=In(e);if(t){var o=In(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qn(this,n)}}function qn(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?zn(e):t}function zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){Mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Un(e){return function(e){if(Array.isArray(e))return Hn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}En(kn,"propTypes",{isReadonly:u.a.bool.isRequired,cell:u.a.object.isRequired,set:u.a.func.isRequired,value:u.a.oneOfType([u.a.string,u.a.number])});var Fn="bllp-c-exp-lm",Wn={"+":"+","-":"–","*":"×","center+":"+"},Gn=function(e){var t=e.sign;return t?c.a.createElement("div",{className:"".concat(Fn,"-sign"),"data-sign":t},Wn[t]):null},Vn=function(e){return e.point?c.a.createElement("div",{className:"".concat(Fn,"-point")}):null},$n=function(e){var t=e.border;return t?Un(t).map((function(e,t){return c.a.createElement("div",{className:"".concat(Fn,"-bline"),"data-kind":e,key:e})}),this):null},Kn=function(e){var t=e.cell;return c.a.createElement("div",{className:"".concat(Fn,"-display")},"A"===t.v?10:t.v)},Xn=function(e){var t=e.cell,n=(e.path,e.isMobile),r=Bn(e,["cell","path","isMobile"]);if(n)return c.a.createElement(kn,Ln({cell:t},r));var o="mind"===t.t?vn:on;return c.a.createElement(o,Ln({cell:t},r))},Yn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(i,e);var t,n,r,o=An(i);function i(){var e;Cn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mn(zn(e=o.call.apply(o,[this].concat(n))),"setNum",(function(t){var n=e.props,r=n.path;(0,n.setCellNum)(r,t)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.cell,n=e.isActive,r=e.isReadonly,o=e.isMobile,i=e.value,a="empty"!==t.t;return c.a.createElement("div",{className:"".concat(Fn,"-cell"),"data-border":Object(v.v)(t.b),"data-filled":Object(v.v)(a),"data-active":Object(v.v)(n)},a?[n?null:c.a.createElement(Kn,xn({cell:t},{key:"0"})),n?c.a.createElement(Xn,xn({cell:t,isReadonly:r,isMobile:o,value:i},{set:this.setNum,key:"1"})):null]:null,c.a.createElement($n,{border:t.b}),c.a.createElement(Gn,{sign:t.sign}),c.a.createElement(Vn,{point:t.point}))}}])&&Tn(t.prototype,n),r&&Tn(t,r),i}(c.a.PureComponent);function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(){return(Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=or(e);if(t){var o=or(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rr(this,n)}}function rr(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Mn(Yn,"propTypes",{cell:u.a.shape({sign:u.a.string,t:u.a.string,point:u.a.bool,v:u.a.oneOfType([u.a.number,u.a.oneOf(["A","."])])}).isRequired,path:u.a.string.isRequired,isReadonly:u.a.bool.isRequired,isMobile:u.a.bool.isRequired,setCellNum:u.a.func.isRequired,value:u.a.oneOfType([u.a.string,u.a.number])});var ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(i,e);var t,n,r,o=nr(i);function i(){return Qn(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"renderCell",value:function(e,t){var n=this.props,r=n.isReadonly,o=n.setCellNum,i=n.path,a=n.active,u=n.val,l=n.isMobile,f="".concat(i,"-").concat(t),s=u[f];return c.a.createElement(Yn,Zn({key:t},{path:i,cell:e,isReadonly:r,setCellNum:o,value:s,isMobile:l},{isActive:f in a,path:f}))}},{key:"render",value:function(){var e=this.props.row,t=e.some((function(e){return"mind"===e.t})),n=Object(v.h)("bllp-c-exp-lm-row",t&&"bllp-c-exp-lm-mind");return c.a.createElement("div",{className:n},e.map((function(e,t){return this.renderCell(e,t)}),this))}}])&&er(t.prototype,n),r&&er(t,r),i}(c.a.PureComponent);function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(){return(ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yr(e);if(t){var o=yr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pr(this,n)}}function pr(e,t){return!t||"object"!==cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ir,"propTypes",{row:u.a.arrayOf(u.a.object).isRequired,path:u.a.number.isRequired,isReadonly:u.a.bool.isRequired,isMobile:u.a.bool.isRequired,active:u.a.object.isRequired,setCellNum:u.a.func.isRequired,val:u.a.object.isRequired});var br,dr,hr,vr,mr="".concat("bllp-c-exp-lm","-table"),gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(i,e);var t,n,r,o=sr(i);function i(){return ur(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.table,n=e.isReadonly,r=e.isMobile,o=e.active,i=e.setCellNum,a=e.val,u=t.some((function(e){return e[0].sign})),l=r||!1;return c.a.createElement("div",{className:mr,"data-signed":Object(v.v)(u)},t.map((function(e,t){return c.a.createElement(ir,ar({key:t,row:e,isReadonly:n,active:o,setCellNum:i,val:a,isMobile:l},{path:t}))}),this))}}])&&lr(t.prototype,n),r&&lr(t,r),i}(c.a.PureComponent);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(){return(jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_r(e);if(t){var o=_r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(e,t){return!t||"object"!==Or(t)&&"function"!=typeof t?kr(e):t}function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(gr,"propTypes",{table:u.a.arrayOf(u.a.array).isRequired,isReadonly:u.a.bool.isRequired,isMobile:u.a.bool,active:u.a.object.isRequired,setCellNum:u.a.func.isRequired,val:u.a.object.isRequired});var Cr,Tr,Dr,Ar,qr=(br=Object(w.g)("cprops","cpayload"),vr=hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(i,e);var t,n,r,o=Sr(i);function i(){var e;wr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xr(kr(e=o.call.apply(o,[this].concat(n))),"setCellNum",(function(t,n){var r=e.props,o=r.val,i=void 0===o?{}:o;(0,r.onChange)(Object(Wt.p)(i,t,n))})),e}return t=i,(n=[{key:"render",value:function(e,t){var n=e.isMobile,r=t.isReadonly,o=this.props,i=o.data,a=o.status,u=o.className,l=o.val,f=void 0===l?{}:l,s=i.table,p=Object(v.h)("bllp-c-exp-lm",a&&"bllp-".concat(a),u);return s?c.a.createElement("div",{className:p,"data-id":i.id},c.a.createElement(gr,jr({table:s,isReadonly:r,isMobile:n,val:f},{active:i.active,setCellNum:this.setCellNum}))):c.a.createElement("div",{className:p},c.a.createElement(m.a,{err:"longMath: empty data"}))}}])&&Pr(t.prototype,n),r&&Pr(t,r),i}(c.a.PureComponent),xr(hr,"propTypes",{data:u.a.shape({op:u.a.oneOf(["sub","add","div","multiply"]),a:u.a.number.isRequired,b:u.a.number.isRequired,table:u.a.array.isRequired}).isRequired,className:u.a.oneOfType([u.a.string,u.a.instanceOf(null)])}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((dr=vr).prototype,"render",[br],Object.getOwnPropertyDescriptor(dr.prototype,"render"),dr.prototype),dr),zr=n(302);function Ir(e){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wr(e);if(t){var o=Wr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr(this,n)}}function Hr(e,t){return!t||"object"!==Ir(t)&&"function"!=typeof t?Fr(e):t}function Fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vr=(Cr=Object(w.g)("cpayload"),Ar=Dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(i,e);var t,n,r,o=Ur(i);function i(){var e;Lr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gr(Fr(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){e.props.onChange(t)})),Gr(Fr(e),"Content",(function(t){var n=t.el,r=e.props.cid;return S(n,r)})),e}return t=i,(n=[{key:"render",value:function(e){var t=e.isReadonly,n=this.props,r=n.data,o=n.val,i=n.status,a=n.className,u=r.list,l=r.right,f=r.width,s=Object(v.h)("bllp-c-choice",a);return c.a.createElement(zr.a,Nr({cls:s},{list:u,right:l,width:f,status:i},{value:o,Content:this.Content,onChange:this.onChange,disabled:t}))}}])&&Mr(t.prototype,n),r&&Mr(t,r),i}(c.a.PureComponent),Gr(Dr,"propTypes",{data:u.a.shape({list:u.a.array.isRequired,right:u.a.number.isRequired,width:u.a.string}).isRequired,onChange:u.a.func.isRequired,className:u.a.oneOfType([u.a.string,u.a.instanceOf(null)])}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Tr=Ar).prototype,"render",[Cr],Object.getOwnPropertyDescriptor(Tr.prototype,"render"),Tr.prototype),Tr),$r=n(216),Kr=n.n($r),Xr=n(325),Yr=n(309),Jr=n(57),Zr=n.n(Jr);function Qr(e){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ro(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=co(e);if(t){var o=co(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oo(this,n)}}function oo(e,t){return!t||"object"!==Qr(t)&&"function"!=typeof t?io(e):t}function io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function co(e){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}(i,e);var t,n,r,o=ro(i);function i(){var e;eo(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ao(io(e=o.call.apply(o,[this].concat(n))),"isCorrect",(function(e){var t=e.status,n=e.outerList,r=e.idx,o=e.data;return t?Zr()(n[r],o)?"correct":"incorrect":null})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.data,r=e.idx,o=n.list;return c.a.createElement("div",{"data-id":r,"data-status":Object(v.v)(this.isCorrect(this.props)),className:"bllp-c-exp-sortable-item"},S(o,"".concat(t,".list")))}}])&&to(t.prototype,n),r&&to(t,r),i}(c.a.PureComponent);ao(uo,"propTypes",{data:u.a.shape({list:u.a.array.isRequired}).isRequired,cid:u.a.string.isRequired,outerList:u.a.array.isRequired,idx:u.a.oneOfType([u.a.number,u.a.string]).isRequired,status:u.a.string});var lo,fo,so,po,yo=uo,bo=n(310);function ho(e){return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vo(){return(vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function go(e,t){return(go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Po(e);if(t){var o=Po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jo(this,n)}}function jo(e,t){return!t||"object"!==ho(t)&&"function"!=typeof t?wo(e):t}function wo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var So,Eo,ko,_o,xo=(lo=Object(w.g)("cpayload"),po=so=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&go(e,t)}(i,e);var t,n,r,o=Oo(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ro(wo(t=o.call(this,e)),"onDragEnd",(function(){v.r.dispose(t.edge.interval)})),Ro(wo(t),"onMouseMove",(function(e){e.clientX==t.clientX&&e.clientY==t.clientY||(t.checkEdge({x:e.clientX,y:e.clientY}),t.clientX=e.clientX,t.clientY=e.clientY)})),Ro(wo(t),"onTouchMove",Object(v.u)(t.onMouseMove)),Ro(wo(t),"doScroll",(function(){pt(t.scrollBox,t.edge.state,10)})),Ro(wo(t),"prevent",(function(e){return e.preventDefault()})),Ro(wo(t),"handleDragStart",(function(e){t.dragStart(),t.scrollBox=ct(e.target)||ut(),t.setState({dragging:!0})})),Ro(wo(t),"handleDragEnd",(function(){t.dragStop(),t.setState({dragging:!1})})),Ro(wo(t),"getSortableList",(function(e){var n=e.val,r=t.state.shuffled;return n||r})),Ro(wo(t),"onChange",(function(e){var n=e.map((function(e){return t.getSortableList(t.props)[e]}));t.props.onChange(n)})),Ro(wo(t),"shuffle",(function(e){var n,r=t.props.data;if(Object(bo.a)(r.list))return r.list;do{n=Kr()(r.list)}while(Xr.a.sortable(r)(n));return n})),t.edge={interval:null,state:"none"},t.clientX=null,t.clientY=null,t.checkEdgeBound=yt.bind(wo(t)),t.state={dragging:!1,shuffled:t.shuffle()},t}return t=i,(n=[{key:"checkEdge",value:function(e){this.checkEdgeBound(e.y-20,e.y+20)}},{key:"dragStart",value:function(){lt(window,"drag",this.onMouseMove),lt(window,"dragover",this.prevent),lt(window,"dragend",this.onDragEnd),lt(window,"touchend",this.onDragEnd),lt(window,"touchmove",this.onTouchMove)}},{key:"dragStop",value:function(){ft(window,"drag",this.onMouseMove),ft(window,"dragover",this.prevent),ft(window,"dragend",this.onDragEnd),ft(window,"touchend",this.onDragEnd),ft(window,"touchmove",this.onTouchMove)}},{key:"render",value:function(e){var t=e.isReadonly,n=this.props,r=n.cid,o=n.status,i=n.data,a=n.className,u=this.state.dragging,l=i.list,f=this.getSortableList(this.props),s=Object(v.h)("".concat("bllp-c-exp","-sortable-box"),a);return c.a.createElement(Yr.a,{className:s,"data-dragging":u,"data-status":Object(v.v)(o),onChange:this.onChange,options:{animation:150,disabled:t,onStart:this.handleDragStart,onEnd:this.handleDragEnd}},f.map((function(e,t){return c.a.createElement(yo,vo({key:t,data:e,cid:"".concat(r,".list.").concat(t),outerList:l},{idx:t,status:o}))}),this))}}])&&mo(t.prototype,n),r&&mo(t,r),i}(c.a.PureComponent),Ro(so,"propTypes",{data:u.a.shape({id:u.a.string.isRequired,list:u.a.array.isRequired}).isRequired,className:u.a.oneOfType([u.a.string,u.a.instanceOf(null)])}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((fo=po).prototype,"render",[lo],Object.getOwnPropertyDescriptor(fo.prototype,"render"),fo.prototype),fo);function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function To(){return(To=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Do(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qo(e,t){return(qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lo(e);if(t){var o=Lo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Io(this,n)}}function Io(e,t){return!t||"object"!==Co(t)&&"function"!=typeof t?No(e):t}function No(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bo,Uo,Ho,Fo,Wo={math:Fe,input:se,dragnest:Dt,dragitem:Ft,longMath:qr,choice:Vr,sortable:xo,sortableItem:yo},Go=(So=Object(w.g)("cpayload","hintedElement"),_o=ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qo(e,t)}(i,e);var t,n,r,o=zo(i);function i(){var e;Do(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mo(No(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){var n=e.props.data.id;(0,e.cx.cpayload.onChange)(n,t)})),Mo(No(e),"onChangeSub",(function(t,n){e.cx.cpayload.onChange(t,n)})),Mo(No(e),"isHinted",(function(e,t){return e===t?"bllp-item-hinted":null})),e}return t=i,(n=[{key:"render",value:function(e,t){var n=this.isHinted,r=this.props,o=r.cid,i=r.data,a=i.kind,u=i.id,l=n(t,i.id),f=Wo[a];if(!f)return c.a.createElement("err",null,"Error: Unknown exp-control: ".concat(a));var s=e.val[u],p=e.status[u];return c.a.createElement(f,To({className:l,onChange:this.onChange,onChangeSub:this.onChangeSub},{data:i,val:s,status:p,cid:o}))}}])&&Ao(t.prototype,n),r&&Ao(t,r),i}(c.a.PureComponent),Mo(ko,"isContentItem",!0),Mo(ko,"propTypes",{data:u.a.shape({kind:u.a.string.isRequired,id:u.a.string.isRequired,data:u.a.string,width:u.a.string}).isRequired,cid:u.a.string.isRequired}),Mo(ko,"cxPropTypes",{cpayload:u.a.shape({onChange:u.a.func.isRequired,status:u.a.object.isRequired,val:u.a.object.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Eo=_o).prototype,"render",[So],Object.getOwnPropertyDescriptor(Eo.prototype,"render"),Eo.prototype),Eo);function Vo(e){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xo(e,t){return(Xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo(e);if(t){var o=Zo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo(this,n)}}function Jo(e,t){return!t||"object"!==Vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ei,ti,ni,ri,oi=(Bo=Object(w.g)("cprops"),Fo=Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xo(e,t)}(i,e);var t,n,r,o=Yo(i);function i(){return $o(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.cid,r=t.data,o=this.cx.cprops.isStudentOnlineLesson,i=r.num,a=r.list,u=o?null:function(){return e.setPage(i)},l=o?"bllp-page-link--disabled":"";return c.a.createElement("span",{className:"bllp-page-link ".concat(l),onClick:u},S(a,"".concat(n,".list")))}}])&&Ko(t.prototype,n),r&&Ko(t,r),i}(c.a.PureComponent),Qo(Ho,"isContentItem",!0),Qo(Ho,"propTypes",{data:u.a.shape({list:u.a.array.isRequired}).isRequired,cid:u.a.string.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Uo=Fo).prototype,"render",[Bo],Object.getOwnPropertyDescriptor(Uo.prototype,"render"),Uo.prototype),Uo),ii=n(658);function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(n),!0).forEach((function(t){hi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=di(e);if(t){var o=di(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yi(this,n)}}function yi(e,t){return!t||"object"!==ci(t)&&"function"!=typeof t?bi(e):t}function bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function di(e){return(di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vi=(ei=Object(w.g)("cprops","cpayload"),ri=ni=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(i,e);var t,n,r,o=pi(i);function i(){var e;li(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hi(bi(e=o.call.apply(o,[this].concat(n))),"blockContextMenu",(function(e){return e.preventDefault()})),hi(bi(e),"createBtn",(function(e,t){var n=document.createElement("div"),r=document.createElement("div");n.className="vjs-control bllp-video-btn",r.className="bllx-icon bllp-video-btn-icon",r.style.backgroundImage="url('".concat(e,"')"),n.appendChild(r);var o=document.getElementsByClassName("vjs-control-bar")[0],i=document.getElementsByClassName("vjs-volume-panel")[0];o.insertBefore(n,i),n.onclick=t})),hi(bi(e),"onBackBtnClick",(function(){var t=e.player.currentTime()-10;e.player.currentTime(t<0?0:t)})),hi(bi(e),"onNextBtnClick",(function(){var t=e.player.duration(),n=e.player.currentTime()+10;e.player.currentTime(n>t?t:n)})),hi(bi(e),"setIntervals",(function(t){var n=e.cx.cpayload.onVideoTick;e.progress=t,e.timeInterval=setInterval((function(){var t,r,o=e.player.currentTime(),i=null!==(t=e.player.duration())&&void 0!==t?t:0,c=Math.round(o/i*100),a=c-c%10,u=null!==(r=e.progress)&&void 0!==r?r:0,l={currentTime:o};o>=e.player.duration()-6&&(l.watched=!0),a-u>5&&(l.progress=a,e.progress=a),n(ui({},l))}),2e3)})),hi(bi(e),"setVideo",(function(t){return e.video=t})),e}return t=i,(n=[{key:"onFullscreenChange",value:function(){var e=document.querySelector(".video-watermark");e&&(e.classList.contains("video-watermark-large")?e.classList.remove("video-watermark-large"):e.classList.add("video-watermark-large"))}},{key:"isWatermarked",value:function(){var e=this.cx.cprops.assets,t=this.props.data.video;return e[t]&&e[t].watermark}},{key:"componentDidMount",value:function(){var e=this.onFullscreenChange,t=this.onBackBtnClick,n=this.onNextBtnClick,r=this.video,o=this.props,i=this.cx.cprops.isStudentOnlineLesson,c=this.cx.cprops.assetPath;c&&"/"!==c.slice(-1)&&(c+="/");var a=this.isWatermarked();if(r&&(this.player=Object(ii.a)(r,ui({},o),(function(){if(a){var e=document.createElement("img");e&&(e.setAttribute("src","".concat(c,"watermark.png")),e.classList.add("video-watermark"),this.el().appendChild(e))}})),document.querySelector("video")&&document.querySelector("video").addEventListener("dblclick",e),document.querySelector(".vjs-fullscreen-control")&&document.querySelector(".vjs-fullscreen-control").addEventListener("click",e),i)){var u,l,f=this.createBtn,s=this.setIntervals,p=this.cx.cpayload,y=p.onVideoTick,b=p.videoState;"function"==typeof y&&(this.player.currentTime(null!==(u=null==b?void 0:b.currentTime)&&void 0!==u?u:0),s(null!==(l=null==b?void 0:b.progress)&&void 0!==l?l:0)),f("".concat(c,"back-btn.svg"),t),f("".concat(c,"next-btn.svg"),n)}}},{key:"componentWillUnmount",value:function(){var e=this.player,t=this.timeInterval;e&&e.dispose(),t&&clearInterval(t)}},{key:"render",value:function(e){var t=e.getAssetUrl,n=(e.lang,this.props.data),r=n.preview&&"none"!==n.preview?t(n.preview):null,o=n.video&&"none"!==n.video?t(n.video):null,i=Object(v.h)("bllp-c-video",!o&&"bllp-video-empty");return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:i},o?c.a.createElement("div",{"data-vjs-player":!0,className:"bllp-c-video-wrapper"},c.a.createElement("video",{id:"my-video",className:"video-js vjs-default-ski vjs-big-play-centered",ref:this.setVideo,controls:!0,controlsList:"nodownload",poster:r,"data-setup":'{"fluid": true}',onContextMenu:this.blockContextMenu},c.a.createElement("source",{src:o}))):null,o?null:[c.a.createElement(it,{icon:"play",key:"0"}),c.a.createElement("div",{className:"bllp-video-info-text",key:"1"},"Видеоматериал недоступен")]))}}])&&fi(t.prototype,n),r&&fi(t,r),i}(c.a.PureComponent),hi(ni,"isContentItem",!0),hi(ni,"propTypes",{data:u.a.shape({preview:u.a.string,video:u.a.string.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ti=ri).prototype,"render",[ei],Object.getOwnPropertyDescriptor(ti.prototype,"render"),ti.prototype),ti);function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ji(e,t){return(ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ri(e);if(t){var o=Ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pi(this,n)}}function Pi(e,t){return!t||"object"!==mi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ri(e){return(Ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ji(e,t)}(i,e);var t,n,r,o=wi(i);function i(){return gi(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.cid,r=t.list||t;return c.a.createElement("div",{className:"bllp-c-group"},S(r,n))}}])&&Oi(t.prototype,n),r&&Oi(t,r),i}(c.a.PureComponent);Si(Ei,"isContentItem",!0),Si(Ei,"propTypes",{data:u.a.oneOfType([u.a.array,u.a.shape({type:u.a.string.isRequired,list:u.a.array.isRequired})]).isRequired,cid:u.a.string.isRequired});var ki,_i,xi,Ci,Ti=n(319);function Di(e){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zi(e,t){return(zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ii(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mi(e);if(t){var o=Mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ni(this,n)}}function Ni(e,t){return!t||"object"!==Di(t)&&"function"!=typeof t?Li(e):t}function Li(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ui=["T:I18N:mods.content.tblockDefLabel"],Hi=(ki=Object(w.g)("cprops","cpayload"),Ci=xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zi(e,t)}(i,e);var t,n,r,o=Ii(i);function i(){var e;Ai(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bi(Li(e=o.call.apply(o,[this].concat(n))),"toggle",(function(){var t=e.props.cid,n=e.cx.cpayload.id;(0,e.cx.cprops.contentDispatch)(Object(Ti.conTBlockToggle)(n,t))})),e}return t=i,(n=[{key:"renderCollapsed",value:function(e){var t=this.props,n=t.cid,r=t.data.label;return h()(r)&&(r=Ui),c.a.createElement("div",{className:"bllp-c-tb-cut",onClick:this.toggle},c.a.createElement(it,{cls:"bllp-c-tb-labelicon",icon:"book"}),c.a.createElement("div",{className:"bllp-c-tb-label"},S(r,"".concat(n,".label"))))}},{key:"renderExpanded",value:function(e){var t=this.props,n=t.cid,r=t.data.list;return c.a.createElement("div",{className:"bllp-c-tb-open"},c.a.createElement(it,{cls:"bllp-c-tb-labelicon",icon:"book",onClick:this.toggle}),c.a.createElement("div",{className:"bllp-c-tb-list"},S(r,"".concat(n,".list"))),c.a.createElement(it,{cls:"bllp-c-tb-closebtn",icon:"cancel",onClick:this.toggle}))}},{key:"isExpanded",value:function(e){var t=this.props.cid,n=this.cx.cpayload.id,r=e.contentState.tblock;return"".concat(n,":").concat(t)in r}},{key:"render",value:function(e){var t=this.isExpanded(e),n=Object(v.h)("bllp-c-toggleblock",t&&"bllp-c-expanded",!t&&"bllp-c-collapsed");return c.a.createElement("div",{className:n},this.renderCollapsed(e),this.renderExpanded(e))}}])&&qi(t.prototype,n),r&&qi(t,r),i}(c.a.PureComponent),Bi(xi,"isContentItem",!0),Bi(xi,"propTypes",{data:u.a.shape({label:u.a.array.isRequired,list:u.a.array.isRequired}).isRequired,cid:u.a.string.isRequired}),Bi(xi,"cxPropTypes",{cprops:u.a.shape({contentDispatch:u.a.func.isRequired,contentState:u.a.shape({tblock:u.a.object.isRequired}).isRequired}).isRequired,cpayload:u.a.shape({id:u.a.string.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((_i=Ci).prototype,"render",[ki],Object.getOwnPropertyDescriptor(_i.prototype,"render"),_i.prototype),_i);function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e,t){return(Vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xi(e);if(t){var o=Xi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ki(this,n)}}function Ki(e,t){return!t||"object"!==Fi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xi(e){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vi(e,t)}(i,e);var t,n,r,o=$i(i);function i(){return Wi(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.data,r=e.width,o=e.cAlign,i=e.cValign,a=n.align,u=n.valign,l=n.list,f="heading"===n.kind?"th":"td",s={style:{width:r?r+"%":void 0},"data-align":a||o,"data-valign":u||i},p=S(l,"".concat(t,".list"));return c.a.createElement(f,s,p)}}])&&Gi(t.prototype,n),r&&Gi(t,r),i}(c.a.PureComponent);function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qi(){return(Qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ec(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nc(e,t){return(nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ic(e);if(t){var o=ic(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oc(this,n)}}function oc(e,t){return!t||"object"!==Zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Yi(Ji,"isContentItem",!0),Yi(Ji,"propTypes",{data:u.a.shape({list:u.a.array.isRequired,align:u.a.string,valign:u.a.string}).isRequired,width:u.a.number,cAlign:u.a.string,cValign:u.a.string,cid:u.a.string.isRequired});var ac=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nc(e,t)}(i,e);var t,n,r,o=rc(i);function i(){return ec(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"cellProps",value:function(e){var t=this.props,n=t.columnWidths,r=t.columnAligns,o=void 0===r?{}:r,i=t.columnValigns,c=void 0===i?{}:i;return{width:n[e],cAlign:o[e],cValign:c[e]}}},{key:"render",value:function(){var e=this.props,t=e.cid,n=e.data.list;return c.a.createElement("tr",null,n.map((function(e,n){return c.a.createElement(Ji,Qi({data:e,key:n},this.cellProps(n),{cid:"".concat(t,".list.").concat(n)}))}),this))}}])&&tc(t.prototype,n),r&&tc(t,r),i}(c.a.PureComponent);function uc(e){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lc(){return(lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pc(e,t){return(pc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dc(e);if(t){var o=dc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bc(this,n)}}function bc(e,t){return!t||"object"!==uc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc(ac,"isContentItem",!0),cc(ac,"propTypes",{data:u.a.shape({list:u.a.array.isRequired}).isRequired,columnWidths:u.a.object.isRequired,columnAligns:u.a.object,columnValigns:u.a.object,cid:u.a.string.isRequired});var vc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pc(e,t)}(a,e);var t,n,r,i=yc(a);function a(){return fc(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"isTableFixed",value:function(){var e=this.props.data,t=e.columnWidths,n=e.list;return Object.keys(t||{}).length===n[0].list.length}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.cid,r=t.list,i=t.border,a=Object(v.h)("bllp-c-table",i&&"bllp-c-table-border-".concat(i)),u=o()(t,"columnWidths","columnAligns","columnValigns");return c.a.createElement("table",{className:a,"data-fixed":Object(v.v)(this.isTableFixed())},c.a.createElement("tbody",null,r.map((function(e,t){return c.a.createElement(ac,lc({data:e,key:t},u,{cid:"".concat(n,".list.").concat(t)}))}),this)))}}])&&sc(t.prototype,n),r&&sc(t,r),a}(c.a.PureComponent);hc(vc,"isContentItem",!0),hc(vc,"propTypes",{data:u.a.shape({list:u.a.array.isRequired,columnWidths:u.a.object.isRequired,columnAligns:u.a.object,columnValigns:u.a.object,border:u.a.string}).isRequired,cid:u.a.string.isRequired});var mc,gc,Oc,jc,wc=n(294);function Pc(e){return(Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rc(){return(Rc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kc(e,t){return(kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cc(e);if(t){var o=Cc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xc(this,n)}}function xc(e,t){return!t||"object"!==Pc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cc(e){return(Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dc,Ac,qc,zc,Ic=(mc=Object(w.g)("cprops"),jc=Oc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kc(e,t)}(i,e);var t,n,r,o=_c(i);function i(){return Sc(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=e.getAssetUrl,n=e.assets,r=this.props.data,o=r.asset,i=r.align,a=!o||"none"===o,u=!a&&i&&i.indexOf("base64"),l=!a&&u>-1?(o+":"+i).slice(10,-2):t(o),f=Object(v.h)("bllp-c-image",a&&"bllc-c-empty");return c.a.createElement("div",{className:f,style:{textAlign:i,width:"100%"}},a?null:c.a.createElement(wc.a,Rc({src:l},{asset:n[o]})))}}])&&Ec(t.prototype,n),r&&Ec(t,r),i}(c.a.PureComponent),Tc(Oc,"isContentItem",!0),Tc(Oc,"propTypes",{data:u.a.shape({asset:u.a.string.isRequired,align:u.a.string}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((gc=jc).prototype,"render",[mc],Object.getOwnPropertyDescriptor(gc.prototype,"render"),gc.prototype),gc);function Nc(e){return(Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bc(e,t){return(Bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fc(e);if(t){var o=Fc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hc(this,n)}}function Hc(e,t){return!t||"object"!==Nc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fc(e){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gc,Vc,$c,Kc,Xc=(Dc=Object(w.g)("t","cpayload"),zc=qc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bc(e,t)}(i,e);var t,n,r,o=Uc(i);function i(){return Lc(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e,t){var n=this.props.data,r=n.text,o=n.audio,i=t.transformHTML?t.transformHTML.bind(null,this.props.cid):void 0,a=Object(v.i)(e.check(r),i);return c.a.createElement("h4",{className:"bllp-c-heading"},c.a.createElement(v.a,{html:a}),c.a.createElement(k,{audio:o}))}}])&&Mc(t.prototype,n),r&&Mc(t,r),i}(c.a.PureComponent),Wc(qc,"isContentItem",!0),Wc(qc,"propTypes",{data:u.a.shape({text:u.a.string.isRequired,audio:u.a.string}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Ac=zc).prototype,"render",[Dc],Object.getOwnPropertyDescriptor(Ac.prototype,"render"),Ac.prototype),Ac);function Yc(e){return(Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qc(e,t){return(Qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na(e);if(t){var o=na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ta(this,n)}}function ta(e,t){return!t||"object"!==Yc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oa,ia,ca,aa,ua=(Gc=Object(w.g)("t","cpayload"),Kc=$c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qc(e,t)}(i,e);var t,n,r,o=ea(i);function i(){return Jc(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e,t){var n=this.props.data,r=n.audio,o=n.text,i=t.transformHTML?t.transformHTML.bind(null,this.props.cid):void 0,a=Object(v.i)(e.check(o),i);return c.a.createElement("span",{className:"bllp-c-text"},c.a.createElement(v.a,{html:a}),c.a.createElement(k,{audio:r}))}}])&&Zc(t.prototype,n),r&&Zc(t,r),i}(c.a.PureComponent),ra($c,"isContentItem",!0),ra($c,"propTypes",{data:u.a.shape({text:u.a.string.isRequired,audio:u.a.string}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Vc=Kc).prototype,"render",[Gc],Object.getOwnPropertyDescriptor(Vc.prototype,"render"),Vc.prototype),Vc);function la(e){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e,t){return(pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=da(e);if(t){var o=da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ba(this,n)}}function ba(e,t){return!t||"object"!==la(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var va,ma,ga,Oa,ja=(oa=Object(w.g)("cpayload"),aa=ca=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pa(e,t)}(i,e);var t,n,r,o=ya(i);function i(){return fa(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=this.props.data,n=t.text,r=t.audio,o=e.transformHTML?e.transformHTML.bind(null,this.props.cid):void 0,i=Object(v.i)(n,o);return c.a.createElement("div",{className:"bllp-c-paragraph"},c.a.createElement(v.a,{html:i}),c.a.createElement(k,{audio:r}))}}])&&sa(t.prototype,n),r&&sa(t,r),i}(c.a.PureComponent),ha(ca,"isContentItem",!0),ha(ca,"propTypes",{data:u.a.shape({text:u.a.string.isRequired,audio:u.a.string}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ia=aa).prototype,"render",[oa],Object.getOwnPropertyDescriptor(ia.prototype,"render"),ia.prototype),ia);function wa(e){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ra(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ka(e,t){return(ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ca(e);if(t){var o=Ca(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xa(this,n)}}function xa(e,t){return!t||"object"!==wa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ca(e){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Da,Aa,qa,za,Ia=(va=Object(w.g)("cprops"),Oa=ga=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(i,e);var t,n,r,o=_a(i);function i(){return Sa(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"genHref",value:function(e,t){if(/^#\d+$/.test(e)){var n=Pa(e.match(/^#(\d+)$/),2)[1];return t?t.replace(/:id/g,n):null}return e}},{key:"render",value:function(e){var t=e.lessonLinkMask,n=this.props.data,r=n.href,o=n.text,i=this.cx.cprops,a=i.isMobile,u=i.isEmbeded,l=this.genHref(r,t),f=a&&!u?null:l,s=a&&!u?"bllp-link--disabled":"";return c.a.createElement("a",{className:"bllp-c-text bllp-c-link ".concat(s),href:f,target:"_blank",dangerouslySetInnerHTML:{__html:Object(v.i)(o)}})}}])&&Ea(t.prototype,n),r&&Ea(t,r),i}(c.a.PureComponent),Ta(ga,"isContentItem",!0),Ta(ga,"propTypes",{data:u.a.shape({href:u.a.string.isRequired,text:u.a.string.isRequired}).isRequired}),Ta(ga,"cxPropTypes",{cprops:u.a.shape({lessonLinkMask:u.a.string.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ma=Oa).prototype,"render",[va],Object.getOwnPropertyDescriptor(ma.prototype,"render"),ma.prototype),ma);function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t){return(Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wa(e);if(t){var o=Wa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ha(this,n)}}function Ha(e,t){return!t||"object"!==Na(t)&&"function"!=typeof t?Fa(e):t}function Fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Va,$a,Ka,Xa,Ya=(Da=Object(w.g)("cprops"),za=qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(i,e);var t,n,r,o=Ua(i);function i(){var e;La(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ga(Fa(e=o.call.apply(o,[this].concat(n))),"onClick",(function(){var t=e.props.data.asset,n=e.cx.cprops.getAssetUrl,r="none"===t?null:n(t);void 0!==window.webkit&&void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.check&&window.webkit.messageHandlers.check.postMessage(r)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.data,t=this.cx.cprops,n=t.getAssetUrl,r=t.moduleFullName,o=t.isMobile,i=t.isEmbeded,a=e.asset,u=e.text,l="none"===a?null:n(a),f=/[^.]+(?=\?)/.exec(l);return c.a.createElement("a",{className:"bllp-c-text bllp-c-link",href:l,target:"_blank",dangerouslySetInnerHTML:{__html:Object(v.i)(u)},onClick:this.onClick,download:(i||!o)&&"".concat(r,"_").concat(u,".").concat(f)})}}])&&Ma(t.prototype,n),r&&Ma(t,r),i}(c.a.PureComponent),Ga(qa,"isContentItem",!0),Ga(qa,"propTypes",{data:u.a.shape({asset:u.a.string.isRequired,text:u.a.string.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Aa=za).prototype,"render",[Da],Object.getOwnPropertyDescriptor(Aa.prototype,"render"),Aa.prototype),Aa);function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eu(e,t){return(eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ou(e);if(t){var o=ou(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nu(this,n)}}function nu(e,t){return!t||"object"!==Ja(t)&&"function"!=typeof t?ru(e):t}function ru(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ou(e){return(ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cu,au,uu,lu,fu=(Va=Object(w.g)("cprops"),Xa=Ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eu(e,t)}(i,e);var t,n,r,o=tu(i);function i(){var e;Za(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return iu(ru(e=o.call.apply(o,[this].concat(n))),"onClick",(function(){var t=e.props.data.asset,n=e.cx.cprops.getAssetUrl,r="none"===t?null:n(t);void 0!==window.webkit&&void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.check&&window.webkit.messageHandlers.check.postMessage(r)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.data,t=this.cx.cprops,n=t.getAssetUrl,r=t.isMobile,o=t.isEmbeded,i=t.lang,a=e.asset,u=e.text,l="none"===a?null:n(a),f=/[^.]+(?=\?)/.exec(l),s=u.split(".")[0];return c.a.createElement("div",{className:"bllp-c-link-beauty-wrapper"},c.a.createElement("div",{className:"bllp-c-link-beauty-tip"},"".concat(s.length>11?s.slice(0,9)+"...":s," - ").concat(f)),c.a.createElement("a",{className:"bllp-c-text bllp-c-link-beauty",href:l,target:"_blank",onClick:this.onClick,download:!(!o&&r)&&"".concat(u)},"ru"===i?"Скачать":"Жүктеу"))}}])&&Qa(t.prototype,n),r&&Qa(t,r),i}(c.a.PureComponent),iu(Ka,"isContentItem",!0),iu(Ka,"propTypes",{data:u.a.shape({asset:u.a.string.isRequired,text:u.a.string.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}(($a=Xa).prototype,"render",[Va],Object.getOwnPropertyDescriptor($a.prototype,"render"),$a.prototype),$a),su=function(e){return!1!==e.visible?c.a.createElement("div",{className:"bllp-spinner"},c.a.createElement(it,{cls:"bllp-spinner-icon",icon:"clock"})):null},pu=n(218);function yu(e){return(yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bu(){return(bu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function du(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vu(e,t){return(vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ju(e);if(t){var o=ju(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gu(this,n)}}function gu(e,t){return!t||"object"!==yu(t)&&"function"!=typeof t?Ou(e):t}function Ou(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ju(e){return(ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pu=function(){return c.a.createElement("div",{className:"bllx-three-container"})},Ru=(cu=Object(w.g)("cprops"),lu=uu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vu(e,t)}(i,e);var t,n,r,o=mu(i);function i(){var e;du(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wu(Ou(e=o.call.apply(o,[this].concat(n))),"state",{isLoaded:!1}),wu(Ou(e),"onLoad",(function(){e.setState({isLoaded:!0})})),e}return t=i,(n=[{key:"render",value:function(e){var t=e.assets,n=e.path,r=this.props.data,o=r.asset,i=r.projection,a=r.bgColor,u=r.height,l=!o||"none"===o,f=this.state.isLoaded,s=Object(v.h)("bllp-c-model",l&&"bllp-c-empty",f&&"bllp-c-model-loaded"),p=!l&&b()(t[o],"hash"),y=window.TEST?Pu:pu.a;return c.a.createElement("div",{className:s,style:{paddingTop:u?"".concat(u,"%"):null}},c.a.createElement(su,{visible:!l&&!f}),l?null:c.a.createElement(y,bu({projection:i,bgColor:a,hash:p},{path:n+o,onLoad:this.onLoad})))}}])&&hu(t.prototype,n),r&&hu(t,r),i}(c.a.PureComponent),wu(uu,"isContentItem",!0),wu(uu,"propTypes",{data:u.a.shape({asset:u.a.string.isRequired,height:u.a.number,bgColor:u.a.string,projection:u.a.object}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((au=lu).prototype,"render",[cu],Object.getOwnPropertyDescriptor(au.prototype,"render"),au.prototype),au),Su=n(147),Eu=n.n(Su),ku=n(180),_u=n.n(ku),xu=n(217),Cu=n(65);n(1222);function Tu(e){return(Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Du(){return(Du=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Au(e){return function(e){if(Array.isArray(e))return qu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zu(Object(n),!0).forEach((function(t){Wu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mu(e,t){return(Mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fu(e);if(t){var o=Fu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uu(this,n)}}function Uu(e,t){return!t||"object"!==Tu(t)&&"function"!=typeof t?Hu(e):t}function Hu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fu(e){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gu,Vu,$u,Ku,Xu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t)}(i,e);var t,n,r,o=Bu(i);function i(){var e;Nu(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wu(Hu(e=o.call.apply(o,[this].concat(n))),"togglePoint",(function(t){var n=t.x,r=t.y,o=e.props,i=o.dispatch,c=o.state;if(e.isOnePointMode()){var a=Eu()(c.points);a&&i(Object(Cu.d)(a.x,a.y))}i(Object(Cu.c)(n,r))})),Wu(Hu(e),"unsetPoint",(function(t){var n=e.props.state.points[t],r=n.x,o=n.y;e.props.dispatch(Object(Cu.d)(r,o))})),Wu(Hu(e),"toggleCurve",(function(t){e.props.dispatch(Object(Cu.b)(t))})),Wu(Hu(e),"onMove",(function(t,n,r){e.props.dispatch(Object(Cu.a)(t,n,r))})),Wu(Hu(e),"genGraph",Object(l.a)((function(e){return e.state.points}),(function(e){return e.state.curves}),(function(e){return e.state.curvesMoved}),(function(e){return e.graph}),(function(e){return e.disabled}),(function(t,n,r,o,i){return Iu(Iu({},o),{},{points:e.genPoints(o.points,t,i),curves:e.genCurves(o.curves,n,r,i)})}))),e}return t=i,(n=[{key:"isOnePointMode",value:function(){var e=this.props.graph,t=e.pointsLimit,n=e.points;return!!t&&1===_u()(n,{role:"choose"}).length}},{key:"getUserPointCls",value:function(e,t){var n=t.has(Object(Cu.k)(e));return Object(v.h)("bllp-plot-user-point",n&&"bllp-plot-p-correct",!n&&"bllp-plot-p-incorrect")}},{key:"getGraphPointCls",value:function(e,t){var n="choose"===e.role,r=n&&t.has(Object(Cu.k)(e));return Object(v.h)("bllp-plot-graph-point",n&&r&&"bllp-plot-p-used",n&&!r&&"bllp-plot-p-unused")}},{key:"genPoints",value:function(e,t,n){var r=this,o=Object(Cu.g)(e),i=new Set(t.map(Cu.k)),c=t.map((function(e,t){return Iu(Iu({},e),{},{label:"",id:t,cls:r.getUserPointCls(e,o),onClick:Object(v.v)(!n&&r.unsetPoint)})})),a=e.map((function(e){return Iu(Iu({},e),{},{cls:r.getGraphPointCls(e,i)})}));return[].concat(Au(a),Au(c))}},{key:"genCurveCss",value:function(e,t,n,r){var o=Object(Cu.i)(e,t,n,r),i="choose"===e.role&&!e.isCorrect&&o&&e.isExcess;return Object(v.h)(n[t]&&"bllp-plot-user-curve-sel",i&&"bllp-plot-curve-excess",o&&"bllp-plot-curve-correct",!o&&"bllp-plot-curve-incorrect")}},{key:"genCurves",value:function(e,t,n,r){var o=this;return e.map((function(e,i){return o.genCurve(e,i,t,n[i],r)}))}},{key:"genCurve",value:function(e,t,n,r,o){if("display"===e.role)return e;var i="choose"===e.role,c="shift"===e.role;return Iu(Iu({},e),{},{id:t,dx:r?r.dx:0,dy:r?r.dy:0,onClick:Object(v.v)(!o&&i&&this.toggleCurve),onMove:Object(v.v)(!o&&c&&this.onMove),cls:this.genCurveCss(e,t,n,r)})}},{key:"canSetPoint",value:function(){var e=this.props,t=e.graph,n=e.disabled,r=e.state;if(n)return!1;var o=Object(Cu.f)(t.points).length,i=t.pointsLimit;return 0!==o&&(!i||!!this.isOnePointMode()||r.points.length<o)}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.disabled?"disabled":"active",r=this.genGraph(this.props);return c.a.createElement(xu.a,Du({t:t,mode:n,graph:r},{onSetPoint:Object(v.v)(this.canSetPoint()&&this.togglePoint)}))}}])&&Lu(t.prototype,n),r&&Lu(t,r),i}(c.a.PureComponent);function Yu(e){return(Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ju(){return(Ju=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(e,t){return(el=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ol(e);if(t){var o=ol(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nl(this,n)}}function nl(e,t){return!t||"object"!==Yu(t)&&"function"!=typeof t?rl(e):t}function rl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Wu(Xu,"propTypes",{t:u.a.func.isRequired,graph:u.a.object.isRequired,state:u.a.shape({points:u.a.array.isRequired,curves:u.a.object.isRequired,curvesMoved:u.a.object.isRequired}).isRequired,disabled:u.a.bool.isRequired,dispatch:u.a.func.isRequired});var cl=(Gu=Object(w.g)("t","cpayload"),Ku=$u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&el(e,t)}(i,e);var t,n,r,o=tl(i);function i(){var e;Zu(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return il(rl(e=o.call.apply(o,[this].concat(n))),"plotDispatch",(function(t){var n=e.props.data,r=e.cx.cpayload.onChange,o=(0,Cu.j[t.type])(e.getPlotState(),t);r(n.id,o)})),e}return t=i,(n=[{key:"getPlotState",value:function(){var e=this.props.data.id,t=this.cx.cpayload.val;return t&&e in t?t[e]:Cu.e}},{key:"render",value:function(e,t){var n=t.val,r=t.status,o=t.isReadonly,i=this.props.data,a=!n||o,u=i.graph,l=b()(r,i.id,"correct"),f=Object(v.h)("bllp-c-plot","bllp-".concat(l)),s=this.getPlotState();return c.a.createElement("div",{className:f},c.a.createElement(Xu,Ju({t:e,state:s,graph:u,disabled:a},{dispatch:this.plotDispatch})))}}])&&Qu(t.prototype,n),r&&Qu(t,r),i}(c.a.PureComponent),il($u,"isContentItem",!0),il($u,"propTypes",{data:u.a.shape({graph:u.a.object.isRequired}).isRequired}),il($u,"cxPropTypes",{cpayload:u.a.shape({isReadonly:u.a.bool.isRequired,val:u.a.object,status:u.a.object,onChange:u.a.func}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Vu=Ku).prototype,"render",[Gu],Object.getOwnPropertyDescriptor(Vu.prototype,"render"),Vu.prototype),Vu),al=n(83),ul=n(125);function ll(e){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fl(){return(fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yl(e,t){return(yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hl(e);if(t){var o=hl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dl(this,n)}}function dl(e,t){return!t||"object"!==ll(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hl(e){return(hl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ml=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yl(e,t)}(i,e);var t,n,r,o=bl(i);function i(){return sl(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.cid,r=e.setAttrs,o=e.setPadding,i=e.setLayout,a=e.setBg,u=t.list||t,l="fit"===i&&t.width?{flexBasis:t.width}:null,f=t.padding||o||"min",s=t.bg||a||"auto";return c.a.createElement("div",fl({className:"bllp-c-setItem","data-valign":t.valign,"data-align":t.align,"data-padding":f,"data-bg":s},r,{style:l}),S(u,"".concat(n,".list")))}}])&&pl(t.prototype,n),r&&pl(t,r),i}(c.a.PureComponent);function gl(e){return(gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ol(){return(Ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pl(e,t){return(Pl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kl(e);if(t){var o=kl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sl(this,n)}}function Sl(e,t){return!t||"object"!==gl(t)&&"function"!=typeof t?El(e):t}function El(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kl(e){return(kl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}vl(ml,"isContentItem",!0),vl(ml,"propTypes",{data:u.a.shape({list:u.a.array.isRequired,type:u.a.string.isRequired,align:u.a.oneOf(["left","center","right"]),valign:u.a.oneOf(["top","middle","bottom"]),padding:u.a.oneOf(["min","medium","max"]),bg:u.a.oneOf(["false","true"])}).isRequired,setAttrs:u.a.object.isRequired,setLayout:u.a.string.isRequired,setPadding:u.a.oneOf(["min","medium","max"]),setBg:u.a.oneOf(["false","true"]),cid:u.a.string.isRequired});var xl,Cl,Tl,Dl,Al=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pl(e,t)}(i,e);var t,n,r,o=Rl(i);function i(){var e;jl(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _l(El(e=o.call.apply(o,[this].concat(n))),"state",{width:900}),_l(El(e),"setBlock",(function(t){e.block=t,t&&(e.ro=Object(al.a)(El(e),t,e.onResize))})),_l(El(e),"onResize",(function(){if(e.block){var t=e.block.offsetWidth;e.state.width!==t&&e.setState({width:t})}})),e}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.ro.dispose()}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.cid,r=this.state.width,o=ul.b.gen(t.list,r),i=ul.b.getColumnsCount(r),a=t.border||"none",u=t.layout||"grid",l="mesh"!==a&&t.margin||"min",f=t.padding||"min";return c.a.createElement("div",{className:"bllp-c-set","data-border":a,"data-layout":u,"data-size":i,"data-margin":l,ref:this.setBlock},c.a.createElement("div",{className:"bllp-c-set-container"},o.map((function(e,r){return c.a.createElement(ml,Ol({key:r},{data:e.item,cid:"".concat(n,".list.").concat(r),setAttrs:e.attrs,setBorder:a,setLayout:u,setPadding:f,setBg:t.bg}))}),this)))}}])&&wl(t.prototype,n),r&&wl(t,r),i}(c.a.PureComponent);function ql(e){return(ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nl(e,t){return(Nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bl(e);if(t){var o=Bl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ml(this,n)}}function Ml(e,t){return!t||"object"!==ql(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bl(e){return(Bl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ul(){return(Ul=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}_l(Al,"isContentItem",!0),_l(Al,"propTypes",{data:u.a.shape({list:u.a.array.isRequired,type:u.a.string.isRequired,border:u.a.oneOf(["mesh","inner"]),margin:u.a.oneOf(["medium","max"]),layout:u.a.oneOf(["fit"]),padding:u.a.oneOf(["min","medium","max"]),bg:u.a.oneOf(["false","true"])}).isRequired,cid:u.a.string.isRequired});var Hl=function(e,t){return{backgroundImage:"url(".concat(e(t),")")}},Fl=function(e){return!e||"none"===e},Wl=function(e){var t=e.icon,n=void 0===t?"play":t;return c.a.createElement(it,Ul({icon:n},{cls:"bllc-c-gallery-fallback"}))},Gl=Object(v.p)((function(e){var t=e.node,n=e.url,r=e.onClick;return Fl(t.asset)?c.a.createElement(Wl,{icon:"help"}):c.a.createElement("div",Ul({className:"bllp-c-gallery-img",style:Hl(n,t.asset)},{onClick:r}))}),"GalleryImage"),Vl=Object(v.p)((function(e){var t=e.node,n=e.url,r=e.onClick;return Fl(t.preview)?c.a.createElement(Wl,null):c.a.createElement("div",Ul({className:"bllp-c-gallery-img",style:Hl(n,t.preview)},{onClick:r}))}),"GalleryVideoPreview"),$l=Object(v.p)((function(e){var t=e.node;return c.a.createElement("div",{className:"bllp-c-gallery-vid"},c.a.createElement(vi,{data:t}))}),"GalleryVideo"),Kl=(xl=Object(w.g)("cprops"),Dl=Tl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nl(e,t)}(i,e);var t,n,r,o=Ll(i);function i(){return zl(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=e.getAssetUrl,n=(e.assets,this.props),r=n.node,o=n.onClick,i=n.previewMode;switch(r.type){case"image":return c.a.createElement(Gl,{node:r,url:t,onClick:o});case"video":return i?c.a.createElement(Vl,{node:r,url:t,onClick:o}):c.a.createElement($l,{node:r});default:throw new Error("unknown gallery item type")}}}])&&Il(t.prototype,n),r&&Il(t,r),i}(c.a.PureComponent),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Tl,"propTypes",{node:u.a.shape({type:u.a.oneOf(["video","image"])}).isRequired,onClick:u.a.func,previewMode:u.a.bool}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Cl=Dl).prototype,"render",[xl],Object.getOwnPropertyDescriptor(Cl.prototype,"render"),Cl.prototype),Cl),Xl=n(58);function Yl(e){return(Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ql(e,t){return(Ql=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ef(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nf(e);if(t){var o=nf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tf(this,n)}}function tf(e,t){return!t||"object"!==Yl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nf(e){return(nf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var of=Object(v.p)((function(e){var t=e.label,n=e.cid;return c.a.createElement("div",{className:"bllp-c-gallery-label"},S(t,"".concat(n,".label")))}),"GalleryItemLabel"),cf=Object(v.p)((function(e){var t=e.list,n=(e.cid,e.Prev),r=e.Next,o=e.next;return c.a.createElement("div",{className:"bllp-c-gallery-content"},n?c.a.createElement(n,null):null,c.a.createElement(Kl,{node:Xl.a.parse(t[0]),onClick:o}),r?c.a.createElement(r,null):null)}),"GalleryItemContent"),af=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ql(e,t)}(i,e);var t,n,r,o=ef(i);function i(){return Jl(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.Next,n=e.Prev,r=e.next,o=e.data,i=e.cid,a=e.isGalleryItemActive,u=o.label,l=o.list;return c.a.createElement("div",{className:"bllp-c-gallery-item",style:{display:Object(v.v)(!a&&"none")}},c.a.createElement(cf,{list:l,cid:i,Prev:n,Next:t,next:r}),c.a.createElement(of,{label:u,cid:i}))}}])&&Zl(t.prototype,n),r&&Zl(t,r),i}(c.a.PureComponent);function uf(e){return(uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lf(){return(lf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ff(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pf(e,t){return(pf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hf(e);if(t){var o=hf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bf(this,n)}}function bf(e,t){return!t||"object"!==uf(t)&&"function"!=typeof t?df(e):t}function df(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hf(e){return(hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}rf(af,"isContentItem",!0),rf(af,"propTypes",{data:u.a.shape({list:u.a.array.isRequired,label:u.a.array.isRequired}).isRequired,cid:u.a.string.isRequired,isGalleryItemActive:u.a.bool.isRequired,Next:u.a.func,Prev:u.a.func,next:u.a.func.isRequired});var mf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pf(e,t)}(i,e);var t,n,r,o=yf(i);function i(){var e;ff(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vf(df(e=o.call.apply(o,[this].concat(n))),"onClick",(function(){var t=e.props,n=t.dir,r=t.len,o=t.active;(0,t.setActive)("right"===n?o<r-1?o+1:0:o>0?o-1:r-1)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.dir,t="".concat(e,"-open");return c.a.createElement("div",{className:"bllp-c-gallery-nav-btn","data-dir":e,onClick:this.onClick},c.a.createElement(it,lf({cls:"bllp-c-gallery-nav-icon"},{icon:t})))}}])&&sf(t.prototype,n),r&&sf(t,r),i}(c.a.PureComponent);function gf(e){return(gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Of(){return(Of=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pf(e,t,n){return t&&wf(e.prototype,t),n&&wf(e,n),e}function Rf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sf(e,t)}function Sf(e,t){return(Sf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ef(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xf(e);if(t){var o=xf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kf(this,n)}}function kf(e,t){return!t||"object"!==gf(t)&&"function"!=typeof t?_f(e):t}function _f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xf(e){return(xf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}vf(mf,"propTypes",{len:u.a.number.isRequired,active:u.a.number.isRequired,dir:u.a.oneOf(["left","right"]).isRequired,setActive:u.a.func.isRequired});var Tf=function(e){Rf(n,e);var t=Ef(n);function n(){var e;jf(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cf(_f(e=t.call.apply(t,[this].concat(o))),"setActive",(function(){var t=e.props,n=t.index;(0,t.setActive)(n)})),e}return Pf(n,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.isActive,r=Xl.a.parse(t.list[0]);return c.a.createElement("div",{className:"bllc-c-gallery-previewitem","data-active":Object(v.v)(n),onClick:this.setActive},c.a.createElement(Kl,Of({node:r},{previewMode:!0})))}}]),n}(c.a.PureComponent),Df=function(e){Rf(n,e);var t=Ef(n);function n(){return jf(this,n),t.apply(this,arguments)}return Pf(n,[{key:"render",value:function(){var e=this.props,t=e.list,n=e.active,r=e.setActive;return c.a.createElement("div",{className:"bllc-c-gallery-previewline"},t.map((function(e,t){return c.a.createElement(Tf,Of({item:e,setActive:r,index:t},{isActive:t===n,key:t}))}),this))}}]),n}(c.a.PureComponent);function Af(e){return(Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function If(e,t){return(If=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mf(e);if(t){var o=Mf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lf(this,n)}}function Lf(e,t){return!t||"object"!==Af(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mf(e){return(Mf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Cf(Df,"propTypes",{active:u.a.number.isRequired,list:u.a.array.isRequired,setActive:u.a.func.isRequired});var Bf=Object(v.p)((function(e){var t=e.active,n=e.len;return c.a.createElement("div",{className:"bllc-c-gallery-counter"},c.a.createElement("span",{className:"bllc-c-gallery-active"},t+1),c.a.createElement("span",{className:"bllc-c-gallery-c-delimiter"},"/"),c.a.createElement("span",{className:"bllc-c-gallery-limit"},n))}),"GalleryCounter"),Uf=Object(v.p)((function(e){var t=e.toggleFullscreen;e.isFullscreened;return c.a.createElement(it,{icon:"resize-full-alt",role:"btn-fullscreen",cls:"bllc-c-gallery-fs-btn",onClick:t})}),"GalleryFullscreenButton"),Hf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&If(e,t)}(i,e);var t,n,r,o=Nf(i);function i(){return qf(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.active,n=e.list,r=e.setActive,o=e.isFullscreened,i=e.toggleFullscreen,a=n.length;return c.a.createElement("div",{className:"bllc-c-gallery-listview"},c.a.createElement(Df,{active:t,list:n,setActive:r}),c.a.createElement(Bf,{active:t,len:a}),c.a.createElement(Uf,{isFullscreened:o,toggleFullscreen:i}))}}])&&zf(t.prototype,n),r&&zf(t,r),i}(c.a.PureComponent);function Ff(e){return(Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vf(e,t){return(Vf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yf(e);if(t){var o=Yf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kf(this,n)}}function Kf(e,t){return!t||"object"!==Ff(t)&&"function"!=typeof t?Xf(e):t}function Xf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yf(e){return(Yf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zf(){return(Zf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Hf,"propTypes",{active:u.a.number.isRequired,list:u.a.array.isRequired,setActive:u.a.func.isRequired,toggleFullscreen:u.a.func.isRequired,isFullscreened:u.a.bool.isRequired});var Qf,es,ts,ns,rs=Object(v.p)((function(e){var t=e.cid,n=e.list,r=e.active,o=e.Next,i=e.Prev,a=e.next;return c.a.createElement("div",{className:"bllp-c-gallery-list"},n.map((function(e,n){return c.a.createElement(af,Zf({data:e,cid:"".concat(t,".list.").concat(n),key:n,isGalleryItemActive:r===n,Next:Object(v.v)(r===n&&o),Prev:Object(v.v)(r===n&&i)},{next:a}))}),this))}),"GalleryList"),os=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vf(e,t)}(i,e);var t,n,r,o=$f(i);function i(){var e;Wf(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jf(Xf(e=o.call.apply(o,[this].concat(n))),"state",{isFullscreened:!1,active:0}),Jf(Xf(e),"setActive",(function(t){e.setState({active:t})})),Jf(Xf(e),"next",(function(){var t=e.state.active,n=t<e.props.data.list.length-1?t+1:0;e.setActive(n)})),Jf(Xf(e),"toggleFullscreen",(function(){var t=e.state.isFullscreened;e.setState({isFullscreened:!t})})),Jf(Xf(e),"Next",(function(){return c.a.createElement(mf,{dir:"right",active:e.state.active,len:e.props.data.list.length,setActive:e.setActive})})),Jf(Xf(e),"Prev",(function(){return c.a.createElement(mf,{dir:"left",active:e.state.active,len:e.props.data.list.length,setActive:e.setActive})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.cid,r=t.list,o=this.state,i=o.active,a=o.isFullscreened;return c.a.createElement("div",{className:"bllp-c-gallery"},c.a.createElement("div",{className:"bllp-c-gallery-mainwrapper","data-fullscreen":Object(v.v)(a)},c.a.createElement(rs,Zf({cid:n,list:r,active:i},{next:this.next,Next:this.Next,Prev:this.Prev})),c.a.createElement(Hf,Zf({list:r,active:i,isFullscreened:a},{toggleFullscreen:this.toggleFullscreen,setActive:this.setActive}))))}}])&&Gf(t.prototype,n),r&&Gf(t,r),i}(c.a.PureComponent);function is(e){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function as(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function us(e,t){return(us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ps(e);if(t){var o=ps(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fs(this,n)}}function fs(e,t){return!t||"object"!==is(t)&&"function"!=typeof t?ss(e):t}function ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ps(e){return(ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Jf(os,"isContentItem",!0),Jf(os,"propTypes",{data:u.a.shape({list:u.a.array.isRequired}).isRequired,cid:u.a.string.isRequired});var bs,ds,hs,vs,ms=(Qf=Object(w.g)("t","lessonApi"),ns=ts=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&us(e,t)}(i,e);var t,n,r,o=ls(i);function i(){var e;cs(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ys(ss(e=o.call.apply(o,[this].concat(n))),"state",{isOpen:!1}),ys(ss(e),"block",c.a.createRef()),ys(ss(e),"handleClick",(function(){return e.setState((function(e){return{isOpen:!e.isOpen}}))})),ys(ss(e),"handleModalClose",(function(){return e.setState({isOpen:!1})})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.cx.lessonApi,t=e.isMobile,n=e.setScrollLock;n(!!t&&this.state.isOpen)}},{key:"componentDidUpdate",value:function(e,t){var n=this.cx.lessonApi,r=n.isMobile,o=n.setScrollLock;r&&t.isOpen!==this.state.isOpen&&o(this.state.isOpen)}},{key:"render",value:function(e){var t=this.props,n=t.data,r=t.cid,o=n.text,i=n.list,a=this.state.isOpen,u=Object(v.i)(e.check(o));return c.a.createElement("span",{ref:this.block,className:"bllp-c-tip-outer","data-cid":r},c.a.createElement("span",{onClick:this.handleClick,className:"bllp-c-tip"},c.a.createElement(v.a,{html:u})),a?c.a.createElement(E,{onCloseClick:this.handleModalClose,data:i,tipBlock:this.block.current,parentCid:r,cid:"".concat(r,".list")}):null)}}])&&as(t.prototype,n),r&&as(t,r),i}(c.a.PureComponent),ys(ts,"isContentItem",!0),ys(ts,"propTypes",{data:u.a.shape({text:u.a.string.isRequired,list:u.a.array.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((es=ns).prototype,"render",[Qf],Object.getOwnPropertyDescriptor(es.prototype,"render"),es.prototype),es);function gs(e){return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ws(e,t){return(ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ps(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Es(e);if(t){var o=Es(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rs(this,n)}}function Rs(e,t){return!t||"object"!==gs(t)&&"function"!=typeof t?Ss(e):t}function Ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Es(e){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _s=(bs=Object(w.g)("cprops"),vs=hs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ws(e,t)}(i,e);var t,n,r,o=Ps(i);function i(){var e;Os(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ks(Ss(e=o.call.apply(o,[this].concat(n))),"isEmpty",(function(e){return!e||"none"===e})),e}return t=i,(n=[{key:"genStyle",value:function(){var e=this.props.data.height;return{paddingTop:e?"".concat(e,"%"):null}}},{key:"render",value:function(e){var t=e.getAssetUrl,n=this.props.data.asset,r=this.isEmpty(n),o=Object(v.h)("bllp-c-widget",r&&"bllp-c-empty");return c.a.createElement("div",{className:o,style:this.genStyle()},r?null:c.a.createElement("iframe",{sandbox:"allow-scripts allow-same-origin",src:t(n)}))}}])&&js(t.prototype,n),r&&js(t,r),i}(c.a.PureComponent),ks(hs,"isContentItem",!0),ks(hs,"propTypes",{data:u.a.shape({asset:u.a.string.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ds=vs).prototype,"render",[bs],Object.getOwnPropertyDescriptor(ds.prototype,"render"),ds.prototype),ds);function xs(e){return(xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ds(e,t){return(Ds=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function As(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zs(e);if(t){var o=zs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qs(this,n)}}function qs(e,t){return!t||"object"!==xs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zs(e){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ns=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ds(e,t)}(i,e);var t,n,r,o=As(i);function i(){return Cs(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.cid,r=t.list||t;return c.a.createElement("div",{className:"bllp-c-inline-group"},S(r,n))}}])&&Ts(t.prototype,n),r&&Ts(t,r),i}(c.a.PureComponent);function Ls(e){return(Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ms(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Us(e,t){return(Us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ws(e);if(t){var o=Ws(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fs(this,n)}}function Fs(e,t){return!t||"object"!==Ls(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ws(e){return(Ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Is(Ns,"isContentItem",!0),Is(Ns,"propTypes",{data:u.a.shape({type:u.a.string.isRequired,list:u.a.array.isRequired}).isRequired,cid:u.a.string.isRequired});var Vs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Us(e,t)}(i,e);var t,n,r,o=Hs(i);function i(){return Ms(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e,t=this.props,n=t.data,r=t.cid,o=n.list||n,i=null!==(e=n.justify)&&void 0!==e?e:"start";return c.a.createElement("div",{className:"bllp-c-flex-group",style:{justifyContent:"end"===i?"flex-end":i}},S(o,r))}}])&&Bs(t.prototype,n),r&&Bs(t,r),i}(c.a.PureComponent);function $s(e){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ks(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ys(e,t){return(Ys=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Js(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qs(e);if(t){var o=Qs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zs(this,n)}}function Zs(e,t){return!t||"object"!==$s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qs(e){return(Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Gs(Vs,"isContentItem",!0),Gs(Vs,"propTypes",{data:u.a.shape({type:u.a.string.isRequired,list:u.a.array.isRequired}).isRequired,cid:u.a.string.isRequired});var ep={paragraph:ja,text:ua,heading:Xc,formula:g.a,group:Ei,flexGroup:Vs,list:$,listItem:K,pageLink:oi,image:Ic,video:vi,expression:Go,table:vc,link:Ia,assetLink:Ya,assetLinkBeauty:fu,model:Ru,toggleBlock:Hi,plot:cl,set:Al,setItem:ml,gallery:os,galleryItem:af,tip:ms,widget:_s,inlineGroup:Ns},tp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ys(e,t)}(i,e);var t,n,r,o=Js(i);function i(){return Ks(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.cid,r=Xl.a.parse(t),o=r.type;if(o in ep)return c.a.createElement(ep[o],{data:r,cid:n});throw new Error('Unknown content-item-type: "'.concat(o,'"'))}}])&&Xs(t.prototype,n),r&&Xs(t,r),i}(c.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(tp,"propTypes",{data:u.a.oneOfType([u.a.string,u.a.array,u.a.shape({type:u.a.string.isRequired})]).isRequired,cid:u.a.string.isRequired}),R=tp;var np,rp,op,ip;n(1223);function cp(e){return(cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(n),!0).forEach((function(t){hp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sp(e,t){return(sp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dp(e);if(t){var o=dp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yp(this,n)}}function yp(e,t){return!t||"object"!==cp(t)&&"function"!=typeof t?bp(e):t}function bp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dp(e){return(dp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vp=Object(m.b)((np=Object(w.f)(["cpayload","genPayload"]),ip=op=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sp(e,t)}(i,e);var t,n,r,o=pp(i);function i(){var e;lp(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hp(bp(e=o.call.apply(o,[this].concat(n))),"genPayload",Object(l.a)((function(e){return e.payload}),(function(e){return e.id}),(function(e,t){return up(up({isReadonly:!0},e||{}),{},{id:t})}))),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.id,r=e.cls;return c.a.createElement("div",{className:Object(v.h)("bllp-content",r),"data-con-id":n},S(t,""))}}])&&fp(t.prototype,n),r&&fp(t,r),i}(c.a.PureComponent),hp(op,"isContentRegion",!0),hp(op,"propTypes",{data:u.a.any.isRequired,payload:u.a.object,id:u.a.string.isRequired,cls:u.a.string}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((rp=ip).prototype,"render",[np],Object.getOwnPropertyDescriptor(rp.prototype,"render"),rp.prototype),rp)),mp=function(e,t,n,r,o){var i=o.lang,c=o.moduleFullName,a=void 0===c?null:c,u=o.assetPath,l=void 0===u?null:u,f=o.isEmbeded,s=void 0===f?null:f,p=o.isStudentOnlineLesson,y=void 0!==p&&p;return{contentState:r,contentDispatch:n.contentDispatch,getAssetUrl:n.getAssetUrl,getFormula:n.getFormula,setPage:n.setPage,isMobile:n.isMobile,isTablet:n.isTablet,lessonLinkMask:n.lessonLinkMask,assets:e,path:t,lang:i,moduleFullName:a,assetPath:l,isEmbeded:s,isStudentOnlineLesson:y}};function gp(e){return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Op(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wp(e,t,n){return t&&jp(e.prototype,t),n&&jp(e,n),e}function Pp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rp(e,t)}function Rp(e,t){return(Rp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_p(e);if(t){var o=_p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ep(this,n)}}function Ep(e,t){return!t||"object"!==gp(t)&&"function"!=typeof t?kp(e):t}function kp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _p(e){return(_p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cp=["children","module","isHighlighted","isCorrect","isAttempted"],Tp=function(e){Pp(n,e);var t=Sp(n);function n(){return Op(this,n),t.apply(this,arguments)}return wp(n,[{key:"genChildren",value:function(){var e=this.props.children,t=o.a.apply(void 0,[this.props].concat(Cp));return c.a.Children.map(e,(function(e){return e&&e.type.modExtend?c.a.cloneElement(e,t):e}))}},{key:"render",value:function(){var e=this.props.refBlock;return c.a.createElement("div",{ref:e,className:"bllp-module-content"},this.genChildren())}}]),n}(c.a.PureComponent);xp(Tp,"propTypes",{refBlock:u.a.func});var Dp=function(e){var t=e.module,n=t.description,r=t.id;return h()(n)?null:c.a.createElement(vp,{cls:"bllp-module-desc",data:n,id:"".concat(r,".description")})};Dp.modExtend=!0;var Ap=function(e){var t=e.data,n=e.path,r=e.id,o=e.module,i=e.payload;return t||(n=n||"content",t=b()(o,n),r||(r="".concat(o.id,".").concat(n))),c.a.createElement(vp,{data:t,id:r,payload:i})};Ap.modExtend=!0;var qp=function(e){Pp(n,e);var t=Sp(n);function n(e){var r;return Op(this,n),xp(kp(r=t.call(this,e)),"mid",(function(){return r.props.module.id})),r.render=p()(r.render,(function(e){var t=o.a.apply(void 0,[r.props].concat(Cp)),n=e.apply(kp(r));return null===n?null:c.a.cloneElement(n,t)})),r}return wp(n,[{key:"modDispatch",value:function(e){this.props.lessonApi.dispatch(e)}}]),n}(c.a.PureComponent);function zp(e){return(zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ip(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function Np(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mp(e,t){return(Mp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fp(e);if(t){var o=Fp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Up(this,n)}}function Up(e,t){return!t||"object"!==zp(t)&&"function"!=typeof t?Hp(e):t}function Hp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fp(e){return(Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}xp(qp,"Box",Tp),xp(qp,"Description",Dp),xp(qp,"Content",Ap);var Gp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mp(e,t)}(u,e);var t,n,r,o,i,a=Bp(u);function u(){var e;Np(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wp(Hp(e=a.call.apply(a,[this].concat(n))),"setBlock",(function(t){e.block=t})),Wp(Hp(e),"onVideoTick",(function(t){e.modDispatch(Object(f.aVideoTick)(t))})),Wp(Hp(e),"waitVideoEnd",(function(e){return new Promise((function(t,n){e.addEventListener("ended",t)}))})),Wp(Hp(e),"getPayload",Object(l.a)((function(e){var t;return null!==(t=e.state.progress)&&void 0!==t?t:0}),(function(e){var t;return null!==(t=e.state.currentTime)&&void 0!==t?t:0}),(function(t,n){return{videoState:{progress:t,currentTime:n},onVideoTick:e.onVideoTick}}))),e}return t=u,(n=[{key:"getVideos",value:function(){return Array.from(this.block.querySelectorAll("video"))}},{key:"componentDidMount",value:(o=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.lessonApi,!t.isReadonly){e.next=3;break}return e.abrupt("return");case 3:try{n.checkModule()}catch(e){}case 4:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function c(e){Ip(i,n,r,c,a,"next",e)}function a(e){Ip(i,n,r,c,a,"throw",e)}c(void 0)}))},function(){return i.apply(this,arguments)})},{key:"render",value:function(){var e=this.getPayload(this.props);return c.a.createElement(qp.Box,{refBlock:this.setBlock},c.a.createElement(qp.Content,{payload:e}))}}])&&Lp(t.prototype,n),r&&Lp(t,r),u}(qp);Wp(Gp,"propTypes",{module:u.a.shape({content:u.a.array.isRequired}).isRequired}),Wp(Gp,"propTypes",{lessonApi:u.a.shape({checkModule:u.a.func.isRequired}).isRequired,module:u.a.shape({id:u.a.string.isRequired,content:u.a.array.isRequired}).isRequired});n(1224);function Vp(e){return(Vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xp(e,t){return(Xp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zp(e);if(t){var o=Zp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jp(this,n)}}function Jp(e,t){return!t||"object"!==Vp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zp(e){return(Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xp(e,t)}(i,e);var t,n,r,o=Yp(i);function i(){return $p(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.module;return c.a.createElement(Tp,null,c.a.createElement("pre",{className:"bllp-un-json"},"UnknownModule:",JSON.stringify(e,null,"\t")))}}])&&Kp(t.prototype,n),r&&Kp(t,r),i}(qp),ey=n(55),ty=n.n(ey),ny=n(149);function ry(e){return(ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cy(e,t){return(cy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ay(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fy(e);if(t){var o=fy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uy(this,n)}}function uy(e,t){return!t||"object"!==ry(t)&&"function"!=typeof t?ly(e):t}function ly(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fy(e){return(fy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var py=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cy(e,t)}(i,e);var t,n,r,o=ay(i);function i(){var e;oy(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sy(ly(e=o.call.apply(o,[this].concat(n))),"onChoose",(function(){var t=e.props,n=t.onChoose,r=t.el,o=t.isLeft;n(r.id,o)})),sy(ly(e),"setBlock",(function(t){var n=e.props,r=n.onResize,o=n.el.id;(0,n.setItem)(o,t&&e.updateCoords),e.block=t,t&&(t.addEventListener("touchstart",e.onStartDrag,{passive:!1}),e.ro=Object(al.a)(ly(e),t,r))})),sy(ly(e),"updateCoords",(function(){var t=e.props,n=t.el.id,r=t.isLeft;if(!e.block)return{id:n};var o=e.block,i=o.offsetTop,c=o.offsetHeight;return{top:i,height:c,mid:i+c/2,id:n,isLeft:r}})),sy(ly(e),"onStartDrag",(function(t){var n=e.props,r=n.el,o=n.isLeft;(0,n.onStartDrag)(r,o,t)})),e}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.ro.dispose()}},{key:"render",value:function(){var e=this.props,t=e.mid,n=e.el,r=e.isLeft,o=e.isSelected,i=e.isUsed,a=e.isHighlighted,u=e.isDragOver,l=e.isDragStart,f=e.isFullCorrect,s=r?"left":"right",p=c.a.createElement("label",{className:"bllp-conn-it-cbox-wrapper"},c.a.createElement("div",{className:"bllp-conn-it-cbox"}));return c.a.createElement("li",{className:"bllp-conn-item",onClick:this.onChoose,"data-id":n.id,ref:this.setBlock,onMouseDown:this.onStartDrag,"data-used":Object(v.v)(!a&&i),"data-sel":Object(v.v)(o),"data-drag-over":Object(v.v)(u),"data-drag-start":Object(v.v)(l),"data-correct":Object(v.v)(a&&f),"data-incorrect":Object(v.v)(a&&!f)},r?null:p,c.a.createElement("div",{className:"bllp-conn-it-box"},c.a.createElement(vp,{data:n.content,id:"".concat(t,".").concat(s,".").concat(n.id)})),r?p:null)}}])&&iy(t.prototype,n),r&&iy(t,r),i}(c.a.PureComponent);sy(py,"propTypes",{el:u.a.shape({id:u.a.string.isRequired,content:u.a.array.isRequired,val:u.a.arrayOf(u.a.string)}),onResize:u.a.func.isRequired,setItem:u.a.func.isRequired,isLeft:u.a.bool.isRequired,isSelected:u.a.bool.isRequired,isUsed:u.a.bool.isRequired,isDragOver:u.a.bool.isRequired,isDragStart:u.a.bool.isRequired,isHighlighted:u.a.bool.isRequired,isFullCorrect:u.a.bool.isRequired,mid:u.a.string.isRequired});var yy=n(649);function by(e){return(by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vy(e,t){return(vy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function my(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jy(e);if(t){var o=jy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gy(this,n)}}function gy(e,t){return!t||"object"!==by(t)&&"function"!=typeof t?Oy(e):t}function Oy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jy(e){return(jy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Py=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vy(e,t)}(i,e);var t,n,r,o=my(i);function i(){var e;dy(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wy(Oy(e=o.call.apply(o,[this].concat(n))),"setDrag",(function(t){e.drag=t})),wy(Oy(e),"svg",(function(){return e.drag.parentElement})),wy(Oy(e),"svgWidth",(function(){return e.svg().width.baseVal.value})),wy(Oy(e),"move",(function(t,n){e.drag.setAttribute(t,n)})),wy(Oy(e),"inDrag",!1),wy(Oy(e),"minShiftToStartDrag",10),wy(Oy(e),"onStartDrag",(function(t,n,r){var o;r=e.getEvent(r),e.sx=r.clientX,e.sy=r.clientY,e.dragFrom={id:t.id,isLeft:n},e.aside=e.getAside(n);var i=e.svgWidth();e.svgMargin=(i-e.svg().parentElement.offsetWidth)/2,e.move("x1",n?0:i),e.move("y1",null===(o=e.props.coords[t.id])||void 0===o?void 0:o.mid),e.dragUpdatePosition(r),At.a.activate(),document.body.addEventListener("mouseup",e.onUp),document.body.addEventListener("touchend",e.onUp),document.body.addEventListener("mousemove",e.onMove),document.body.addEventListener("touchmove",e.onMove,{passive:!1})})),wy(Oy(e),"onMove",(function(t){if(!e.inDrag){if(!e.isDragStarted(t))return!1;e.drag.style.display="",e.inDrag=!0,e.props.onDragStart(e.dragFrom)}return t=e.getEvent(t),e.checkHover(t),e.dragUpdatePosition(t),t.preventDefault(),!1})),wy(Oy(e),"onUp",(function(t){e.drag.style.display="none",At.a.deactivate(),document.body.removeEventListener("mouseup",e.onUp),document.body.removeEventListener("touchend",e.onUp),document.body.removeEventListener("mousemove",e.onMove),document.body.removeEventListener("touchmove",e.onMove),e.inDrag&&(e.props.onDragStop(e.dragFrom),e.inDrag=!1,e.dragFrom=e.aside=e.sx=e.sy=e.svgMargin=null)})),e}return t=i,(n=[{key:"getEvent",value:function(e){return e.changedTouches?{clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,preventDefault:e.preventDefault.bind(e)}:e}},{key:"getSvgCoords",value:function(e){var t=this.getEvent(e),n=t.clientX,r=t.clientY,o=this.svg().getBoundingClientRect();return{x:n-o.left,y:r-o.top,w:o.width,h:o.height}}},{key:"dragUpdatePosition",value:function(e){var t=this.getSvgCoords(e),n=t.x,r=t.y,o=t.w,i=t.h;this.move("x2",Math.min(o,Math.max(0,n))),this.move("y2",Math.min(i,Math.max(0,r)))}},{key:"isDragStarted",value:function(e){return e=this.getEvent(e),Math.abs(e.clientX-this.sx)+Math.abs(e.clientY-this.sy)>this.minShiftToStartDrag}},{key:"getAside",value:function(e){return Object.values(this.props.coords).filter((function(t){return t.isLeft!==e}))}},{key:"checkHover",value:function(e){var t=this.getSvgCoords(e),n=t.x,r=t.y,o=t.w,i=this.dragFrom.isLeft,c=(i&&n>=o-this.svgMargin||!i&&n<=this.svgMargin)&&this.aside.find((function(e){return r>=e.top&&r<=e.top+e.height}));this.props.setOver(c)}},{key:"render",value:function(){return c.a.createElement("line",{className:"bllp-conn-drag",x1:"0",y1:"0",x2:"0",y2:"0",key:"conn-drag",style:{display:"none"},ref:this.setDrag})}}])&&hy(t.prototype,n),r&&hy(t,r),i}(c.a.PureComponent);wy(Py,"propTypes",{coords:u.a.object.isRequired,onDragStart:u.a.func.isRequired,onDragStop:u.a.func.isRequired,setOver:u.a.func.isRequired});n(1225);function Ry(e){return(Ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sy(){return(Sy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ey(e){return function(e){if(Array.isArray(e))return Cy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||xy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ky(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||xy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=xy(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function xy(e,t){if(e){if("string"==typeof e)return Cy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cy(e,t):void 0}}function Cy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ty(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ay(e,t){return(Ay=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ny(e);if(t){var o=Ny(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zy(this,n)}}function zy(e,t){return!t||"object"!==Ry(t)&&"function"!=typeof t?Iy(e):t}function Iy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ny(e){return(Ny=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ly(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var My=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ay(e,t)}(i,e);var t,n,r,o=qy(i);function i(){var e;Ty(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ly(Iy(e=o.call.apply(o,[this].concat(n))),"coords",{}),Ly(Iy(e),"state",{over:null,inDrag:!1}),Ly(Iy(e),"onChoose",(function(t,n){e.props.isReadonly||(e.modDispatch(Object(ny.aItemToggle)(t,n)),setTimeout(e.checkSel,At.b))})),Ly(Iy(e),"checkSel",(function(){e.modDispatch(Object(ny.aCheckSel)())})),Ly(Iy(e),"items",new Map),Ly(Iy(e),"setItem",(function(t,n){n?e.items.set(t,n):e.items.delete(t)})),Ly(Iy(e),"onItemResize",ty()((function(){var t,n=_y(e.items);try{for(n.s();!(t=n.n()).done;){var r=(0,ky(t.value,2)[1])();e.coords[r.id]=r}}catch(e){n.e(e)}finally{n.f()}var o,i=_y(e.lines);try{for(i.s();!(o=i.n()).done;){(0,ky(o.value,2)[1])()}}catch(e){i.e(e)}finally{i.f()}}),20)),Ly(Iy(e),"lines",new Map),Ly(Iy(e),"setLine",(function(t,n){n?e.lines.set(t,n):e.lines.delete(t)})),Ly(Iy(e),"getCoords",(function(t){return e.coords[t]})),Ly(Iy(e),"removeLine",(function(t){e.props.isReadonly||e.modDispatch(Object(ny.aRemoveLine)(t))})),Ly(Iy(e),"toggleLine",(function(t){e.props.isReadonly||e.modDispatch(Object(ny.aToggleLine)(t))})),Ly(Iy(e),"setOver",(function(t){e.state.over!==t&&e.setState({over:t})})),Ly(Iy(e),"setDrag",(function(t){e.drag=t})),Ly(Iy(e),"onStartDrag",(function(){var t;e.props.isReadonly||(t=e.drag).onStartDrag.apply(t,arguments)})),Ly(Iy(e),"onDragStart",(function(t){e.modDispatch(Object(ny.aClearSel)()),e.setState({inDrag:!0,dragFrom:t})})),Ly(Iy(e),"onDragStop",(function(t){e.setState({inDrag:!1});var n=e.state.over;if(n&&n.isLeft!==t.isLeft){var r={left:t.isLeft?t.id:n.id,right:t.isLeft?n.id:t.id};e.toggleLine(r)}})),e}return t=i,(n=[{key:"getUsed",value:function(e){var t=e.map((function(e){return e.left})),n=e.map((function(e){return e.right}));return new Set([].concat(Ey(t),Ey(n)))}},{key:"renderItem",value:function(e,t,n){var r=this.state,o=r.inDrag,i=r.dragFrom,a=r.over,u=this.props,l=u.module,f=u.isHighlighted,s=u.state,p=s.sel,y=s.lines;return c.a.createElement(py,Sy({el:e,isLeft:n,isHighlighted:f},{mid:l.id,key:e.id,isSelected:p[n?"left":"right"]===e.id,isUsed:t.has(e.id),isDragOver:Boolean(o&&a&&a.id===e.id),isDragStart:o&&i.id===e.id,onChoose:this.onChoose,setItem:this.setItem,updateCoords:this.updateCoords,onResize:this.onItemResize,onStartDrag:this.onStartDrag,isFullCorrect:Object(ny.isItemFullCorrect)(l,e,y)}))}},{key:"isRight",value:function(e){var t=e.left,n=e.right,r=this.props,o=r.module;return r.isHighlighted&&b()(o.left,[t,"val"],[]).includes(n)}},{key:"isLeftCorrect",value:function(e){var t=this.props,n=t.state.lines,r=t.module,o=n.filter((function(t){return t.left===e})).map((function(e){return e.right})),i=r.left[e].val;return o.length===i.length&&o.every((function(e){return i.includes(e)}))}},{key:"render",value:function(){var e=this.props,t=e.module,n=e.state.lines,r=e.isHighlighted,o=this.getUsed(n);return c.a.createElement(qp.Box,null,c.a.createElement(qp.Description,null),c.a.createElement("div",{className:"bllp-conn-box"},c.a.createElement("ul",{className:"bllp-conn-column","data-dir":"left"},Object.values(t.left).map((function(e,t){return this.renderItem(e,o,!0)}),this)),c.a.createElement("div",{className:"bllp-conn-lines"},c.a.createElement("svg",null,n.map((function(e,t){return c.a.createElement(yy.a,Sy({setLine:this.setLine,key:e.left+":"+e.right,id:e.left+":"+e.right,getCoords:this.getCoords,removeLine:this.removeLine},{isHighlighted:r,line:e},{isRight:this.isRight(e)}))}),this),c.a.createElement(Py,{ref:this.setDrag,coords:this.coords,setOver:this.setOver,onDragStart:this.onDragStart,onDragStop:this.onDragStop}))),c.a.createElement("ul",{className:"bllp-conn-column","data-dir":"right"},Object.values(t.right).map((function(e,t){return this.renderItem(e,o,!1)}),this))))}}])&&Dy(t.prototype,n),r&&Dy(t,r),i}(qp);Ly(My,"propTypes",{module:u.a.shape({left:u.a.object.isRequired,right:u.a.object.isRequired,mode:u.a.oneOf(["single","multiple"])}).isRequired,state:u.a.shape({lines:u.a.arrayOf(u.a.shape({left:u.a.string.isRequired,right:u.a.string.isRequired})).isRequired}).isRequired});var By=n(320);n(1226);function Uy(e){return(Uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wy(e,t){return(Wy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ky(e);if(t){var o=Ky(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vy(this,n)}}function Vy(e,t){return!t||"object"!==Uy(t)&&"function"!=typeof t?$y(e):t}function $y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ky(e){return(Ky=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wy(e,t)}(i,e);var t,n,r,o=Gy(i);function i(){var e;Hy(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xy($y(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){e.modDispatch(Object(By.aSetValue)(t))})),e}return t=i,(n=[{key:"getStatus",value:function(){var e=this.props,t=e.isHighlighted,n=e.isCorrect;return t?n?"correct":"incorrect":null}},{key:"render",value:function(){var e=this.props,t=e.module,n=e.state.sel,r=e.isReadonly,o=t.options,i=t.placeholder;return c.a.createElement(qp.Box,null,c.a.createElement(qp.Description,null),c.a.createElement("div",{className:"bllp-select-box"},c.a.createElement(zr.a.Select,{cls:"bllp-mod-select",value:n,onChange:this.onChange,disabled:r,role:"select-list",status:this.getStatus()},c.a.createElement("option",{value:null,key:"none"},i),o.map((function(e,t){return c.a.createElement("option",{value:t,key:t},e)}),this))))}}])&&Fy(t.prototype,n),r&&Fy(t,r),i}(qp);Xy(Yy,"propTypes",{module:u.a.shape({options:u.a.arrayOf(u.a.string.isRequired).isRequired,right:u.a.number.isRequired,placeholder:u.a.string.isRequired,messages:u.a.shape({right:u.a.arrayOf(u.a.string.isRequired).isRequired,wrong:u.a.arrayOf(u.a.string.isRequired).isRequired})}).isRequired,state:u.a.shape({sel:u.a.number}).isRequired,isReadonly:u.a.bool.isRequired});var Jy=n(222);function Zy(e){return(Zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tb(e,t){return(tb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ib(e);if(t){var o=ib(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rb(this,n)}}function rb(e,t){return!t||"object"!==Zy(t)&&"function"!=typeof t?ob(e):t}function ob(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ib(e){return(ib=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ab=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tb(e,t)}(i,e);var t,n,r,o=nb(i);function i(){var e;Qy(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cb(ob(e=o.call.apply(o,[this].concat(n))),"select",(function(){e.props.onSelect(e.props.opt.id)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.path,n=e.opt,r=e.isHighlighted,o=e.isSelected,i=e.isReadonly,a=n.id,u=n.content,l=n.right===o?"correct":"incorrect";return c.a.createElement("label",{className:"bllp-radio","data-id":a,"data-sel":Object(v.v)(o),"data-status":Object(v.v)(r&&l),disabled:Object(v.v)(i)},c.a.createElement("input",{type:"radio",name:"bllp-choice-".concat(t),value:a,checked:o,onChange:this.select,disabled:i&&"disabled",className:"bllp-choice-inp"}),c.a.createElement("div",{className:"bllp-radio-content"},c.a.createElement(vp,{data:u,id:"".concat(t).concat(a)})))}}])&&eb(t.prototype,n),r&&eb(t,r),i}(c.a.PureComponent);function ub(e){return(ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lb(){return(lb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pb(e,t){return(pb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hb(e);if(t){var o=hb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bb(this,n)}}function bb(e,t){return!t||"object"!==ub(t)&&"function"!=typeof t?db(e):t}function db(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hb(e){return(hb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cb(ab,"propTypes",{opt:u.a.shape({id:u.a.string.isRequired,right:u.a.bool.isRequired,content:u.a.array.isRequired}).isRequired,path:u.a.string.isRequired,isSelected:u.a.bool.isRequired,isReadonly:u.a.bool.isRequired,isHighlighted:u.a.bool.isRequired,onSelect:u.a.func.isRequired});var mb=u.a.arrayOf(u.a.shape({content:u.a.array.isRequired,id:u.a.string.isRequired,right:u.a.bool.isRequired})).isRequired,gb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pb(e,t)}(i,e);var t,n,r,o=yb(i);function i(){var e;fb(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vb(db(e=o.call.apply(o,[this].concat(n))),"onSelect",(function(t){var n=e.props,r=n.onChange;t!==n.sel&&r(t)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.sel,n=e.mid,r=e.isHighlighted,o=e.isReadonly,i=e.options;return c.a.createElement("div",{"data-role":"choice",className:"bllp-mod-choice bllp-radio-box"},i.map((function(e,i){return c.a.createElement(ab,lb({isReadonly:o,isHighlighted:r,opt:e},{key:e.id,path:"".concat(n,".items."),isSelected:t===e.id,onSelect:this.onSelect}))}),this))}}])&&sb(t.prototype,n),r&&sb(t,r),i}(c.a.PureComponent);function Ob(e){return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pb(e,t){return(Pb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kb(e);if(t){var o=kb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sb(this,n)}}function Sb(e,t){return!t||"object"!==Ob(t)&&"function"!=typeof t?Eb(e):t}function Eb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kb(e){return(kb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}vb(gb,"propTypes",{mid:u.a.string.isRequired,onChange:u.a.func.isRequired,isHighlighted:u.a.bool.isRequired,isReadonly:u.a.bool.isRequired,randomOrder:u.a.bool.isRequired,options:mb,sel:u.a.string.isRequired});var xb,Cb,Tb,Db,Ab=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pb(e,t)}(i,e);var t,n,r,o=Rb(i);function i(){var e;jb(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _b(Eb(e=o.call.apply(o,[this].concat(n))),"onToggle",(function(){e.props.onToggle(e.props.opt.id)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.isSelected,n=e.isReadonly,r=e.opt,o=e.path,i=e.isHighlighted,a=r.id,u=r.content,l=r.right===t?"correct":"incorrect";return c.a.createElement("div",{className:"bllp-cbox-item","data-sel":Object(v.v)(t),"data-status":Object(v.v)(i&&l),"data-id":a,onClick:Object(v.v)(!n&&this.onToggle)},c.a.createElement(vp,{data:u,id:o}))}}])&&wb(t.prototype,n),r&&wb(t,r),i}(c.a.PureComponent);function qb(e){return(qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zb(){return(zb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ib(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lb(e,t){return(Lb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hb(e);if(t){var o=Hb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bb(this,n)}}function Bb(e,t){return!t||"object"!==qb(t)&&"function"!=typeof t?Ub(e):t}function Ub(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hb(e){return(Hb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_b(Ab,"propTypes",{opt:u.a.shape({id:u.a.string.isRequired,right:u.a.bool.isRequired,content:u.a.array.isRequired}).isRequired,isSelected:u.a.bool.isRequired,isReadonly:u.a.bool.isRequired,isHighlighted:u.a.bool.isRequired,onToggle:u.a.func.isRequired,path:u.a.string.isRequired});var Wb=(xb=Object(w.g)("cprops"),Db=Tb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lb(e,t)}(i,e);var t,n,r,o=Mb(i);function i(){var e;Ib(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Fb(Ub(e=o.call.apply(o,[this].concat(n))),"countPerRow",5),Fb(Ub(e),"state",{rest:null,size:null}),Fb(Ub(e),"onToggle",(function(t){e.props.onToggle(t)})),Fb(Ub(e),"setBlock",(function(t){e.block=t,e.block&&(e.ro=Object(al.a)(Ub(e),e.block,e.updateBox))})),Fb(Ub(e),"W3",900),Fb(Ub(e),"W2",600),Fb(Ub(e),"updateBox",ty()((function(){return e.updateBoxImmediatly()}))),e}return t=i,(n=[{key:"getBoxRowSize",value:function(){var e=this.props.options.length,t=this.block.offsetWidth;return t>this.W3?Math.min(e,3):t>this.W2?Math.min(e,2):1}},{key:"updateBoxImmediatly",value:function(){if(this.block){var e=this.getBoxRowSize();this.shallowSetState("size",e);var t=this.props.options.length;this.shallowSetState("rest",t%e)}}},{key:"shallowSetState",value:function(e,t){this.state[e]!==t&&this.setState(Fb({},e,t))}},{key:"componentWillUnmount",value:function(){this.ro.dispose()}},{key:"render",value:function(e){var t=e.lang,n=this.props,r=n.options,o=n.isHighlighted,i=n.isReadonly,a=n.mid,u=n.sel,l=n.rightCount,f=this.state,s=f.rest,p=f.size;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"bllp-mod-choice-option-count"},"".concat("kz"!==t?"Верных ответов":"Дұрыс жауап саны",": ").concat(l)),c.a.createElement("div",{"data-role":"choice",className:"bllp-mod-choice bllp-cbox-box",ref:this.setBlock,"bllp-row-rest":s,"bllp-row-size":p},r.map((function(e,t){return c.a.createElement(Ab,zb({path:"".concat(a,".items.").concat(e.id),key:e.id},{isHighlighted:o,isReadonly:i,opt:e},{isSelected:e.id in u,onToggle:this.onToggle}))}),this)))}}])&&Nb(t.prototype,n),r&&Nb(t,r),i}(c.a.PureComponent),Fb(Tb,"propTypes",{mid:u.a.string.isRequired,onToggle:u.a.func.isRequired,isHighlighted:u.a.bool.isRequired,isReadonly:u.a.bool.isRequired,randomOrder:u.a.bool.isRequired,options:u.a.array.isRequired,sel:u.a.object.isRequired,rightCount:u.a.number.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Cb=Db).prototype,"render",[xb],Object.getOwnPropertyDescriptor(Cb.prototype,"render"),Cb.prototype),Cb);n(1227);function Gb(e){return(Gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vb(){return(Vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xb(e,t){return(Xb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qb(e);if(t){var o=Qb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jb(this,n)}}function Jb(e,t){return!t||"object"!==Gb(t)&&"function"!=typeof t?Zb(e):t}function Zb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qb(e){return(Qb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var td=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xb(e,t)}(i,e);var t,n,r,o=Yb(i);function i(){var e;$b(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ed(Zb(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){e.props.isHighlighted||e.modDispatch(Object(Jy.aSetValue)(t))})),ed(Zb(e),"onToggle",(function(t){e.props.isHighlighted||e.modDispatch(Object(Jy.aToggle)(t))})),ed(Zb(e),"genOptions",Object(l.a)((function(e){return e.options}),(function(e){return e.randomOrder}),(function(t,n){return n?e.shuffle(t):t}))),e}return t=i,(n=[{key:"shuffle",value:function(e){return Kr()(e)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.module,n=e.state,r=t.isMultiple,o=this.genOptions(t).reduce((function(e,t){return e+Number(t.right)}),0);r&&!n.rightCount&&this.modDispatch(Object(Jy.aSetRightCount)(o))}},{key:"render",value:function(){var e=this.props,t=e.module,n=e.state,r=e.isReadonly,o=e.isHighlighted,i=t.isMultiple,a=t.randomOrder,u=i?n.selMultiple:n.selSingle,l=this.genOptions(t);return c.a.createElement(qp.Box,null,c.a.createElement(qp.Description,null),i?null:c.a.createElement(gb,Vb({mid:this.mid(),onChange:this.onChange},{isHighlighted:o,isReadonly:r,randomOrder:a,options:l,sel:u})),i?c.a.createElement(Wb,Vb({mid:this.mid(),onToggle:this.onToggle,rightCount:n.rightCount},{isHighlighted:o,isReadonly:r,randomOrder:a,options:l,sel:u})):null)}}])&&Kb(t.prototype,n),r&&Kb(t,r),i}(qp);ed(td,"propTypes",{module:u.a.shape({options:u.a.array.isRequired,isMultiple:u.a.bool.isRequired,randomOrder:u.a.bool.isRequired}).isRequired,state:u.a.shape({selSingle:u.a.string.isRequired,selMultiple:u.a.object.isRequired,rightCount:u.a.number.isRequired}).isRequired});var nd=n(257);function rd(e){return(rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function od(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function id(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cd(e,t){return(cd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ad(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fd(e);if(t){var o=fd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ud(this,n)}}function ud(e,t){return!t||"object"!==rd(t)&&"function"!=typeof t?ld(e):t}function ld(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fd(e){return(fd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pd={},yd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cd(e,t)}(i,e);var t,n,r,o=ad(i);function i(){var e;od(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sd(ld(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t,n){e.modDispatch(Object(nd.aSet)(t,n))})),sd(ld(e),"getPayload",Object(l.a)((function(e){return e.state.val}),(function(e){return e.isReadonly}),(function(e){return e.module.id}),(function(t){return e.genStatus(t.isHighlighted,t.module,t.state.val)}),(function(t,n,r,o){return{mid:r,onChange:e.onChange,isReadonly:n,val:t,status:o}}))),e}return t=i,(n=[{key:"genStatus",value:function(e,t,n){return e?Object(nd.genExpStatusesMap)(t,n):pd}},{key:"render",value:function(){var e=this.getPayload(this.props);return c.a.createElement(qp.Box,null,c.a.createElement(qp.Content,{payload:e}))}}])&&id(t.prototype,n),r&&id(t,r),i}(qp);sd(yd,"propTypes",{module:u.a.shape({content:u.a.array.isRequired,hints:u.a.shape({exp:u.a.array}).isRequired}).isRequired,state:u.a.shape({val:u.a.object.isRequired}).isRequired});var bd=n(128),dd=n(255);function hd(e){return(hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vd(){return(vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach((function(t){Ed(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Od(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wd(e,t){return(wd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sd(e);if(t){var o=Sd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rd(this,n)}}function Rd(e,t){return!t||"object"!==hd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sd(e){return(Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wd(e,t)}(i,e);var t,n,r,o=Pd(i);function i(){return Od(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.snapshot,n=e.provided,r=e.item,o=e.status,i=e.mid,a=e.id,u=t.isDragging,l=n.innerRef,f=n.draggableProps,s=n.dragHandleProps,p=Object(v.h)("bllp-sort-item",u&&"bllp-dragging",o&&"bllp-status-".concat(o));return c.a.createElement("div",null,c.a.createElement("div",vd({className:p,ref:l,style:gd({},f.style)},f,s),c.a.createElement(it,{icon:"resize-vertical",cls:"bllp-draggable-icon"}),c.a.createElement(vp,{data:r,id:"".concat(i,".sort.").concat(a)})),n.placeholder)}}])&&jd(t.prototype,n),r&&jd(t,r),i}(c.a.PureComponent);function _d(){return(_d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xd(e){return(xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dd(e,t){return(Dd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ad(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zd(e);if(t){var o=zd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qd(this,n)}}function qd(e,t){return!t||"object"!==xd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zd(e){return(zd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ed(kd,"render",(function(e,t,n,r){return function(o,i){return c.a.createElement(kd,{provided:o,snapshot:i,item:e,status:t,id:n,mid:r})}})),Ed(kd,"propTypes",{provided:u.a.shape({innerRef:u.a.func.isRequired,draggableProps:u.a.object.isRequired,dragHandleProps:u.a.object}).isRequired,snapshot:u.a.shape({isDragging:u.a.bool.isRequired}).isRequired,item:u.a.array.isRequired,status:u.a.string,id:u.a.number.isRequired,mid:u.a.string.isRequired});var Nd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dd(e,t)}(i,e);var t,n,r,o=Ad(i);function i(){return Cd(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"genStatus",value:function(e){return this.props.isHighlighted?e?"correct":"incorrect":null}},{key:"render",value:function(){var e=this.props,t=e.mid,n=e.items,r=e.ids,o=e.disabled,i=e.isDraggingOver,a=e.innerRef,u=Object(v.h)("bllp-sort-list",i&&"bllp-dragging-over");return c.a.createElement("div",{className:u,ref:a},r.map((function(e,r){return c.a.createElement(bd.b,{key:e,draggableId:e,isDragDisabled:o,index:r},kd.render(n[e],this.genStatus(e===r),e,t))}),this))}}])&&Td(t.prototype,n),r&&Td(t,r),i}(c.a.PureComponent);Id(Nd,"render",(function(e){return function(t,n){var r=t.innerRef,o=n.isDraggingOver;return c.a.createElement(Nd,_d({},e,{isDraggingOver:o,innerRef:r}))}})),Id(Nd,"propTypes",{isDraggingOver:u.a.bool.isRequired,innerRef:u.a.func.isRequired,ids:u.a.arrayOf(u.a.number).isRequired,items:u.a.array.isRequired,disabled:u.a.bool.isRequired,isHighlighted:u.a.bool.isRequired,mid:u.a.string.isRequired});n(1228);function Ld(e){return(Ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Md(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ud(e,t){return(Ud=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gd(e);if(t){var o=Gd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fd(this,n)}}function Fd(e,t){return!t||"object"!==Ld(t)&&"function"!=typeof t?Wd(e):t}function Wd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gd(e){return(Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||Xd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kd(e){return function(e){if(Array.isArray(e))return Yd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Xd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xd(e,t){if(e){if("string"==typeof e)return Yd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yd(e,t):void 0}}function Yd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jd=function(e,t,n){var r=Kd(e),o=$d(r.splice(t,1),1)[0];return r.splice(n,0,o),r},Zd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ud(e,t)}(i,e);var t,n,r,o=Hd(i);function i(){var e;Md(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vd(Wd(e=o.call.apply(o,[this].concat(n))),"onDragEnd",(function(t){var n=t.destination,r=t.source;if(n){var o=e.getIds(),i=Jd(o,r.index,n.index);e.modDispatch(Object(dd.aSetList)(i))}})),e.genIdsList(),e}return t=i,(n=[{key:"shuffle",value:function(e){return Kr()(e)}},{key:"genIdsList",value:function(){var e=this.props.module,t=Kd(e.items.keys());if(t.length<2)return this.ids=t,void alert("incorect list");do{this.ids=this.shuffle(t)}while(Object(dd.isCorrect)(e,{ids:this.ids}))}},{key:"getIds",value:function(){var e=this.props.state.ids;return h()(e)?this.ids:e}},{key:"render",value:function(){var e=this.props,t=e.module,n=e.isHighlighted,r=e.isReadonly,o={mid:t.id,items:t.items,ids:this.getIds(),disabled:r,isHighlighted:n,Content:this.Content};return c.a.createElement(qp.Box,null,c.a.createElement(qp.Description,null),c.a.createElement("div",{className:"bllp-sort-container"},c.a.createElement(bd.a,{className:"bllp-dnd-context",onDragEnd:this.onDragEnd},c.a.createElement(bd.c,{droppableId:"droppable"},Nd.render(o)))))}}])&&Bd(t.prototype,n),r&&Bd(t,r),i}(qp);Vd(Zd,"propTypes",{module:u.a.shape({items:u.a.arrayOf(u.a.array).isRequired}).isRequired,state:u.a.shape({ids:u.a.arrayOf(u.a.number).isRequired}).isRequired});var Qd=n(143),eh=n.n(Qd),th=n(205),nh=n.n(th),rh=n(56),oh=n.n(rh),ih=n(213);function ch(e){return(ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ah(){return(ah=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function uh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fh(e,t){return(fh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bh(e);if(t){var o=bh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ph(this,n)}}function ph(e,t){return!t||"object"!==ch(t)&&"function"!=typeof t?yh(e):t}function yh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bh(e){return(bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fh(e,t)}(i,e);var t,n,r,o=sh(i);function i(){var e;uh(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dh(yh(e=o.call.apply(o,[this].concat(n))),"onClick",(function(){var t=e.props.idx;e.props.markWord(t+1)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.mark,n=e.id,r=e.isActive,o=e.disabled;return c.a.createElement("div",ah({className:Rh+"-mark","data-color":Object(v.v)(t.color),"data-underline":Object(v.v)(t.underline),"data-selected":Object(v.v)(r),"data-role":Rh+"-mark",onClick:Object(v.v)(!o&&this.onClick)},{disabled:o}),c.a.createElement(vp,{id:"".concat(n,".mark"),data:t.content}))}}])&&lh(t.prototype,n),r&&lh(t,r),i}(c.a.PureComponent);function vh(e){return(vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oh(e,t){return(Oh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ph(e);if(t){var o=Ph(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wh(this,n)}}function wh(e,t){return!t||"object"!==vh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ph(e){return(Ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}dh(hh,"propTypes",{mark:ih.a.isRequired,id:u.a.string.isRequired,isActive:u.a.bool.isRequired,disabled:u.a.bool.isRequired,idx:u.a.number.isRequired,markWord:u.a.func.isRequired});var Rh="bllp-markpanel",Sh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oh(e,t)}(i,e);var t,n,r,o=jh(i);function i(){return mh(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.marks,n=e.activeMark,r=e.id,o=e.markWord,i=e.isReadonly;return c.a.createElement("div",{className:Rh,"data-role":Rh},t.map((function(e,t){return c.a.createElement(hh,{markWord:o,key:"".concat(r,".").concat(t),idx:t,mark:e,isActive:t+1===n&&!i,id:"".concat(r,".").concat(t),disabled:i})}),this))}}])&&gh(t.prototype,n),r&&gh(t,r),i}(c.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Sh,"propTypes",{marks:u.a.array.isRequired,activeMark:u.a.number,id:u.a.string.isRequired});var Eh=n(223),kh=n(101);n(1229);function _h(e){return(_h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ch(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Th(e,t){return(Th=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zh(e);if(t){var o=zh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ah(this,n)}}function Ah(e,t){return!t||"object"!==_h(t)&&"function"!=typeof t?qh(e):t}function qh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zh(e){return(zh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ih(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nh(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Lh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lh(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function Lh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,i=Nh(e);try{for(i.s();!(o=i.n()).done;){var c=o.value;Bh.apply(void 0,[c].concat(n))}}catch(e){i.e(e)}finally{i.f()}return e},Bh=function(e,t){if("space"!==e.type&&t&&(e.mark||e.answer)){var n=e.answer===e.mark;e.attrs.status=n?"correct":"incorrect",e.icon=n?"ok":"cancel"}},Uh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Th(e,t)}(i,e);var t,n,r,o=Dh(i);function i(){var e;xh(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ih(qh(e=o.call.apply(o,[this].concat(n))),"isWord",(function(t){return t.parentElement?t.parentElement.className.includes("bllp-mark-content-wrapper")?null:"X-WORD"===t.tagName?t:e.isWord(t.parentElement):null})),Ih(qh(e),"handleWordClick",(function(t){var n=t.target;if(!e.props.isReadonly){var r=null;if(r="X-WORD"===n.tagName?n:e.isWord(n)){var o=e.props.state,i=o.activeMark,c=o.sel,a=r.dataset.wid;c[a]===i?e.modDispatch(Object(Eh.aSetVal)(a,void 0)):e.modDispatch(Object(Eh.aSetVal)(a,i))}}})),Ih(qh(e),"handleMarkClick",(function(t){e.props.isReadonly||e.modDispatch(Object(Eh.aSetMark)(t))})),Ih(qh(e),"parseElementText",oh()((function(e,t){return Object(kh.c)(t,e)}))),Ih(qh(e),"genTransformHTML",(function(t,n){return function(r,o){return nh()((function(t){return e.parseElementText(r,t)}),eh.a,(function(e){return Object(kh.b)(e,t.sel,n)}),(function(e){return Object(kh.e)(e,n,t.isHighlighted)}),(function(e){return Mh(e,t.isHighlighted)}),(function(e){return Object(kh.d)(e)}))(o)}})),Ih(qh(e),"genPayload",Object(l.a)((function(e){return e.state.sel}),(function(e){return e.isHighlighted}),(function(e){return e.module.marks}),(function(t,n,r){return{transformHTML:e.genTransformHTML({sel:t,isHighlighted:n},r)}}))),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.module,n=e.state,r=e.isReadonly,o=n.activeMark;return c.a.createElement(qp.Box,null,c.a.createElement(qp.Description,null),c.a.createElement("div",{className:"bllp-mark-content-wrapper",onClick:this.handleWordClick},c.a.createElement(vp,{id:"".concat(t.id,".content"),data:t.content,payload:this.genPayload(this.props)})),c.a.createElement(Sh,{isReadonly:r,marks:t.marks,id:"".concat(t.id,".marks"),activeMark:o,markWord:this.handleMarkClick}))}}])&&Ch(t.prototype,n),r&&Ch(t,r),i}(qp);Ih(Uh,"propTypes",{module:ih.b,state:u.a.shape({sel:u.a.object}).isRequired,isReadonly:u.a.bool.isRequired});var Hh=n(321);function Fh(e){return(Fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vh(e,t){return(Vh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yh(e);if(t){var o=Yh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kh(this,n)}}function Kh(e,t){return!t||"object"!==Fh(t)&&"function"!=typeof t?Xh(e):t}function Xh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yh(e){return(Yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vh(e,t)}(i,e);var t,n,r,o=$h(i);function i(){var e;Wh(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jh(Xh(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){var n=t.target;e.modDispatch(Object(Hh.aSet)(n.value))})),Jh(Xh(e),"getPayload",Object(l.a)((function(e){return e.state.text}),(function(e){return e.module.id}),(function(e){return e.isReadonly}),(function(t,n,r){return{mid:n,onChange:e.onChange,val:t,isReadonly:r}}))),e}return t=i,(n=[{key:"render",value:function(){var e=this.getPayload(this.props);return c.a.createElement(qp.Box,null,c.a.createElement(qp.Content,{payload:e}),c.a.createElement("div",{className:"bllp-essay-textarea-wrapper"},c.a.createElement("textarea",{className:"bllp-essay-textarea",value:this.props.state.text,onChange:this.onChange,disabled:e.isReadonly})))}}])&&Gh(t.prototype,n),r&&Gh(t,r),i}(qp);Jh(Zh,"propTypes",{lessonApi:u.a.shape({checkModule:u.a.func.isRequired}).isRequired,module:u.a.shape({id:u.a.string.isRequired,content:u.a.array.isRequired}).isRequired});var Qh=n(159),ev=n.n(Qh),tv=n(154);function nv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ov,iv,cv,av,uv=[n(650),n(651)].reduce((function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++)for(var o=nv(r[n],2),i=o[0],c=o[1],a=0,u=Object.entries(c);a<u.length;a++){var l=nv(u[a],2),f=l[0],s=l[1];ev()(e,[i,"mods",f],s)}return e}),{}),lv=new tv.a({list:["ru","kz","en","uz"],labels:{ru:"Русский",kz:"Қазақ",en:"English",uz:"Узбекский"},fallbackPath:["ru","kz","en","uz"]}).mix(uv);n(1230);function fv(e){return(fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sv(){return(sv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bv(e,t){return(bv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mv(e);if(t){var o=mv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hv(this,n)}}function hv(e,t){return!t||"object"!==fv(t)&&"function"!=typeof t?vv(e):t}function vv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mv(e){return(mv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ov={simple:Gp,unknown:Qp,connection:My,select:Yy,choice:td,expressions:yd,sort:Zd,markWords:Uh,essay:Zh},jv=(ov=Object(w.f)("lessonApi",["cprops","genCprops"],["t","genT"],["app","getApp"],"hintedElement"),av=cv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bv(e,t)}(a,e);var t,n,r,i=dv(a);function a(){var e;pv(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gv(vv(e=i.call.apply(i,[this].concat(n))),"genCpropsSelector",Object(l.a)((function(e){return e.assets}),(function(e){return e.path}),(function(e){return e.lessonApi}),(function(e){return e.contentState}),(function(e){return e.additionalCprops}),(function(){return mp.apply(void 0,arguments)}))),e}return t=a,(n=[{key:"genCprops",value:function(){return this.genCpropsSelector(this.props)}},{key:"genT",value:function(){return lv.gen(this.props.additionalCprops.lang)}},{key:"getApp",value:function(){return"platform"}},{key:"render",value:function(){var e=this.props.module,t=e.type,n=e.id,r=Ov[t]||Ov.unknown;return c.a.createElement(r,sv({key:n},o()(this.props,"module","path","isReadonly","isCorrect","isFinished","isHighlighted","state","lessonApi","assets","contentState","isAttempted","hintedElement")))}}])&&yv(t.prototype,n),r&&yv(t,r),a}(c.a.PureComponent),gv(cv,"propTypes",{path:u.a.string.isRequired,module:u.a.shape({id:u.a.string,type:u.a.string.isRequired,title:u.a.string,description:u.a.array}).isRequired,isFinished:u.a.bool.isRequired,isReadonly:u.a.bool.isRequired,isCorrect:u.a.bool.isRequired,isHighlighted:u.a.bool.isRequired,state:u.a.object,assets:u.a.object.isRequired,lessonApi:u.a.shape({getAssetUrl:u.a.func.isRequired,setPage:u.a.func.isRequired,dispatch:u.a.func.isRequired}).isRequired,contentState:u.a.object.isRequired,isAttempted:u.a.bool,additionalCprops:u.a.shape({lang:u.a.string.isRequired,moduleFullName:u.a.string,assetPath:u.a.string,isEmbeded:u.a.bool}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((iv=av).prototype,"render",[ov],Object.getOwnPropertyDescriptor(iv.prototype,"render"),iv.prototype),iv)},1235:function(e,t,n){"use strict";n(917),n(918);var r=n(592),o=n.n(r);String.prototype.matchAll||(String.prototype.matchAll=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.a.apply(void 0,[this].concat(t))})},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(2),o=Object(r.b)("CLP"),i=o.create("CLEAR"),c=o.createIgnore("COPY","kind, data")},125:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return b}));var r=n(48),o=n.n(r),i=n(52),c=n.n(i),a=n(616),u=n.n(a),l=n(50),f=n.n(l);function s(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y={getColumnsCount:function(e){return e>800?3:e>285?2:1},attr:function(e,t,n){var r=Math.ceil(n/t),o=Math.floor(e/t),i=e%t,c=o===r-1,a={firstRow:0===o,lastRow:c,first:0===i,last:i===t-1},l=n%t;return c&&l>0&&(a["".concat(l,"in").concat(t)]=!0),f()(a,(function(e,t,n){return!1!==t&&(e[u()("data-set-".concat(n))]=t),e}),{})},gen:function(e,t){var n=y.getColumnsCount(t),r=e.length;return e.map((function(e,t){return{attrs:y.attr(t,n,r),item:e}}))}},b={_fixBounds:function(e){var t=e.parentNode,n=t.getAttribute("width");n&&(e.style.width=n);var r=t.getAttribute("height");r&&(e.style.height=r)},_toEx:function(e,t){return c()(e/t,3)+"ex"},_getEx:function(e,t){var n=Number(e.getAttribute("width").replace(/ex$/,""));return t.width/n},_getBox:function(e){for(var t=e.closest("foreignObject"),n=document.createElementNS("http://www.w3.org/2000/svg","rect"),r=0,o=s(t.attributes);r<o.length;r++){var i=o[r];n.setAttributeNS(null,i.nodeName,i.nodeValue)}t.parentElement.append(n);var c=n.getBoundingClientRect();return n.remove(),c},calcBounds:function(e){if(window.TEST)return{};b._fixBounds(e);var t=e.closest("svg"),n=t.getBoundingClientRect(),r=this._getBox(e),i=this._getEx(t,n);return o()({width:r.width,height:r.height,left:r.left-n.left,top:r.top-n.top},(function(e){return b._toEx(e,i)}))}}},126:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return M})),n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return U}));var r,o,i,c,a,u,l=n(250),f=n.n(l),s=n(206),p=n.n(s),y=n(57),b=n.n(y),d=n(28),h=n.n(d),v=n(71),m=n.n(v),g=n(1),O=n.n(g),j=n(0),w=n.n(j),P=n(8),R=n(3);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={set:Object(R.b)("setErrors"),map:Object(R.b)("map")},B=(r=Object(R.g)(M.set.Consumer,M.map.Consumer),c=i=function(t){x(r,t);var n=T(r);function r(){var e;E(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return L(A(e=n.call.apply(n,[this].concat(o))),"id",p()()),e}return _(r,[{key:"componentWillUnmount",value:function(){this.update(null),this._disposed=!0}},{key:"update",value:function(t){if(!this._disposed){var n=this.cx;!function(t,n,r,o){e((function(){m()(o)?r in n&&t(h()(n,r)):n[r]&&b()(n[r],o)||t(N(N({},n),{},L({},r,o)))}))}(n.setErrors,n.map,this.id,t)}}},{key:"render",value:function(e,t){var n=this.props.errors;if(window.TEST&&!m()(n))throw new Error(n.join("\n"));return window.TEST||this.update(n),null}}]),r}(O.a.PureComponent),L(i,"propTypes",{errors:w.a.arrayOf(w.a.string)}),z((o=c).prototype,"render",[r],Object.getOwnPropertyDescriptor(o.prototype,"render"),o.prototype),o),U=(a=Object(R.g)(M.map.Consumer),z((u=function(e){x(n,e);var t=T(n);function n(){var e;E(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return L(A(e=t.call.apply(t,[this].concat(o))),"genList",Object(P.a)((function(e){return e}),(function(e){return f()(Object.values(e))}))),e}return _(n,[{key:"render",value:function(e){var t=this.genList(e);return t.length?O.a.createElement("div",{className:"bllx-plot-err-box"},t.map((function(e,t){return O.a.createElement("div",{key:t,className:"bllx-error"},e)}),this)):null}}]),n}(O.a.PureComponent)).prototype,"render",[a],Object.getOwnPropertyDescriptor(u.prototype,"render"),u.prototype),u)}).call(this,n(62).setImmediate)},127:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=window.TEST?0:30,o=function(){return document.body.querySelector(".bllp-box")},i={activate:function(){return o().classList.add("bllp-drag")},deactivate:function(){return o().classList.remove("bllp-drag")}}},14:function(e,t,n){"use strict";n.d(t,"s",(function(){return ne})),n.d(t,"i",(function(){return re})),n.d(t,"r",(function(){return oe})),n.d(t,"j",(function(){return ie})),n.d(t,"p",(function(){return ce})),n.d(t,"m",(function(){return ae})),n.d(t,"h",(function(){return ue})),n.d(t,"q",(function(){return le})),n.d(t,"d",(function(){return fe})),n.d(t,"g",(function(){return se})),n.d(t,"b",(function(){return ye})),n.d(t,"a",(function(){return be})),n.d(t,"f",(function(){return de})),n.d(t,"e",(function(){return me})),n.d(t,"n",(function(){return Oe})),n.d(t,"k",(function(){return je})),n.d(t,"l",(function(){return we})),n.d(t,"o",(function(){return Pe})),n.d(t,"c",(function(){return Re}));var r,o=n(78),i=n.n(o),c=n(71),a=n.n(c),u=n(28),l=n.n(u),f=n(46),s=n.n(f),p=n(144),y=n.n(p),b=n(595),d=n.n(b),h=n(17),v=n.n(h),m=n(596),g=n.n(m),O=n(8),j=n(5),w=n(38);function P(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){P(i,r,o,c,a,"next",e)}function a(e){P(i,r,o,c,a,"throw",e)}c(void 0)}))}}function S(e){return(t="".concat(e,"MathJax.js"),new Promise((function(e,n){var r=document.createElement("script");r.src=t,r.onload=e,r.onerror=n,(document.head||document.body).append(r)}))).then((function(){(r=window.MathJax).Ajax.config.root=e,r.Hub.Config({skipStartupTypeset:!0,showMathMenu:!1,jax:["input/TeX","output/SVG"],SVG:{useFontCache:!1},extensions:["TeX/AMSmath.js"]}),function(e){e.Callback.Queue(e.Hub.Register.StartupHook("TeX Jax Ready",(function(){var t=e.InputJax.TeX,n=t.Definitions,r=e.ElementJax.mml,o=e.HTML;n.macros.Input="Input",t.Parse.Augment({Input:function(e){var t=this.GetArgument(e).split(":");if(!t.length)throw new Error("Incorrect \\Input value: ".concat(t));var n=t[0],i=t[1]||String(Math.max("3",n.length));if(i&&!/^\d+$/.test(i))throw new Error("Incorrect \\Input size: ".concat(i));var c=o.Element("input",{type:"text",className:"mathjax-fo-input",size:i.trim()});c.setAttribute("data-value",n.trim()),c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");var a=r["annotation-xml"](r.xml(c)).With({encoding:"application/xhtml+xml",isToken:!0});this.Push(r.semantics(a))}})})))}(r)}));var t}function E(e){var t=document.createElement("script");return t.type="math/tex",document.body.appendChild(t),t.textContent=e,t}function k(e){return new Promise((function(t,n){return r.Hub.Queue((function(){return r.Hub.elementScripts=function(t){return[e]},r.Hub.Process(null,t)}))}))}function _(e){return document.getElementById(e.id+"-Frame")}function x(e){try{_(e).remove(),e.remove()}catch(e){}}function C(e){var t=_(e).querySelector("svg"),n=function(e){return Number(e.replace("ex",""))};return{w:n(t.getAttribute("width")),h:n(t.getAttribute("height")),svg:t.outerHTML}}var T=new Map,D=function(e){return/\\chemfig|\\ce/.test(e)||/^server:/.test(e)};function A(e){return Object(w.t)(e.replace(/^server:/,""))}function q(e,t){return z.apply(this,arguments)}function z(){return(z=R(regeneratorRuntime.mark((function e(t,n){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T.has(n)){e.next=2;break}return e.abrupt("return",T.get(n));case 2:if(!D(n)){e.next=9;break}return e.next=5,A(n);case 5:return e.t0=e.sent,e.next=8,{w:0,h:0,svg:e.t0};case 8:return e.abrupt("return",e.sent);case 9:if(r){e.next=12;break}return e.next=12,S(t);case 12:return o=E(n),e.prev=13,e.next=16,k(o);case 16:return i=C(o),T.set(n,i),e.abrupt("return",i);case 21:throw e.prev=21,e.t1=e.catch(13),e.t1;case 24:return e.prev=24,x(o),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[13,21,24,27]])})))).apply(this,arguments)}var I=n(37),N=n(19),L=n(124),M=n(91),B=n.n(M),U=n(39),H=n.n(U),F=n(10),W=n(72);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e,t){return V(V({},t),{},{mid:t.mid||e})},X={formulas:"data.formulas",contentState:"state.content",assets:function(e){return Object(W.e)(re(e).data.assets)},clipboard:function(e){return e.clipboard},lang:"uiLang",path:"data.path",module:function(e,t){return we(re(e),t)}},Y=function(e,t,n){var r=X[t];return H()(r)?v()(re(e),r):r(e,n)},J=function(e,t){return B()(t)?function(n,r){return t((function(t){var r=/^MOD_/.test(t.type)?K(e,t):t;return n(r)}),(function(e){return Y(r(),e)}))}:K(e,t)},Z=function(e,t,n){var r=new Set(t);return Object(F.f)(e,(function(t,o,i){for(var c={},a=0,u=Object.keys(X);a<u.length;a++){var l=u[a];r.has(l)&&(c[l]=Y(i,l,n))}return e.map(c,o)}))};function Q(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}var ne=function(){return g()()},re=function(e){return e.uiLang?e:e.data.present.lesson},oe=function(e){return!!re(e).data},ie=function(e){return v()(re(e).data,"id")},ce=function(e){return re(e).data.pages.length},ae=function(e){return re(e).page},ue=function(e){return re(e).uiLang},le=Object(O.a)((function(e){return e.data.lessonType}),(function(e){return"newAdaptive"===e})),fe=function(e){return oe(e)?re(e).data.lang:ue(e)},se=Object(j.q)((function(e){return"formula"===e.type&&e.latex?[e.latex]:d()(y()(e,(function(e){return e&&s()(e)?se(e):[]})))})),pe=function(e){return/err-formula|Undefined control/.test(e)},ye=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var o,i,c,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o={},i=Q(n),e.prev=2,i.s();case 4:if((c=i.n()).done){e.next=25;break}if(a=c.value,u=void 0,e.prev=7,!r[a]||pe(r[a].svg)){e.next=12;break}e.t0=r[a],e.next=15;break;case 12:return e.next=14,q(t,a);case 14:e.t0=e.sent;case 15:u=e.t0,e.next=22;break;case 18:e.prev=18,e.t1=e.catch(7),console&&console.error("Couldn't gen math-SVG for ".concat(a,". Error: ").concat(e.t1)),"err: ".concat(a),u={svg:'\n\t\t\t<svg height="3ex" width="14ex">\n\t\t\t\t<text x="0" y="15" fill="red">err-formula</text>\n\t\t\t</svg>'.trim().replace(/[\r\n]+/g,""),w:14,h:3};case 22:o[a]=u;case 23:e.next=4;break;case 25:e.next=30;break;case 27:e.prev=27,e.t2=e.catch(2),i.e(e.t2);case 30:return e.prev=30,i.f(),e.finish(30);case 33:return e.abrupt("return",o);case 34:case"end":return e.stop()}}),e,null,[[2,27,30,33],[7,18]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){te(i,r,o,c,a,"next",e)}function a(e){te(i,r,o,c,a,"throw",e)}c(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),be=function(e){var t=e.formulas,n=l()(e,"formulas","id","assets","path");return n.hasFormulas=!a()(t),{lesson:n,formulas:t}},de=function(e){return e.state.content},he=function(e){return re(e).data},ve=(Object(O.a)(ae,he,(function(e,t){return t.pages[e]})),Object(O.a)(ae,he,(function(e,t){return t.pages[e].modules}))),me=Object(O.a)(ve,(function(e){return e.filter((function(e){return!0!==e.isAdaptive}))})),ge=Object(O.a)((function(e){return e}),(function(e){return e.map((function(e){return e.modules.map((function(e){return e.id}))})).reduce((function(e,t,n){var r,o=Q(t);try{for(o.s();!(r=o.n()).done;){e[r.value]=n}}catch(e){o.e(e)}finally{o.f()}return e}),{})})),Oe=function(e,t){return ge(e)[t]},je=Object(O.a)((function(e){return e.data.pages}),(function(e){return i()(y()(e,"modules"),"id")})),we=function(e,t){return je(e)[t]},Pe=Object(O.a)((function(e){return e}),(function(e){return e.map((function(e){return e.title}))})),Re=Object(O.a)((function(e){return e.getLessonUrl}),(function(e){return e.helpUrl}),(function(e){return e.dispatch}),(function(e,t,n){return{updFormulas:N.s,saveLesson:N.o,chooseAsset:I.k,copy:L.b,getLessonUrl:e,helpUrl:t,modDispatch:function(){return n(J.apply(void 0,arguments))},connect:Z,updateAsset:function(e,t){return n(Object(I.b)(e,t))}}}))},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return x}));var r,o,i,c,a,u,l=n(1),f=n.n(l),s=n(0),p=n.n(s),y=n(107),b=n(63);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var k=(r=Object(y.b)("app"),c=i=function(e){g(n,e);var t=j(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(e){var t=this.props,n=t.err,r=t.cls,o=void 0===r?"":r;if(window.TEST)throw console.error(n),n;var i="constructor"===e?"dot-circled":"cancel";return f.a.createElement("div",{className:"bllx-error ".concat(o)},f.a.createElement(b.a,{icon:i}),"Err: ",n.message||n,n.stack?[f.a.createElement("br",{key:"0"}),f.a.createElement("pre",{key:"1"},n.stack)]:null)}}]),n}(f.a.PureComponent),S(i,"propTypes",{cls:p.a.string,err:p.a.oneOfType([p.a.string,p.a.shape({message:p.a.string.isRequired,stack:p.a.string.isRequired})]).isRequired}),E((o=c).prototype,"render",[r],Object.getOwnPropertyDescriptor(o.prototype,"render"),o.prototype),o),_=function(e,t){var n,r;return window.TEST?e:(r=n=function(t){g(r,t);var n=j(r);function r(){var e;h(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return S(P(e=n.call.apply(n,[this].concat(o))),"state",{}),e}return m(r,[{key:"componentDidCatch",value:function(e,t){this.setState({err:e})}},{key:"render",value:function(){var t=this.state.err,n=this.props.cls;return t?f.a.createElement(k,{err:t,cls:n}):f.a.createElement(e,this.props)}}]),r}(f.a.PureComponent),S(n,"displayName","ErrBoundary("+(e.displayName||e.name)+")"),r)},x=(a=Object(y.b)("app"),E((u=function(e){g(n,e);var t=j(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(e){var t=this.props.err,n="constructor"===e?"attention-alt":"cancel";return f.a.createElement(b.a,{icon:n,cls:"bllx-err-icon",title:t})}}]),n}(f.a.PureComponent)).prototype,"render",[a],Object.getOwnPropertyDescriptor(u.prototype,"render"),u.prototype),u)},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(55),o=n.n(r),i=n(1),c=n.n(i),a=n(0),u=n.n(a),l=n(8),f=n(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",186:";",187:"=",188:",",189:"-",190:".",191:"/",219:"[",220:"\\",221:"]",222:"'",223:"`"},P={parsePiece:function(e){switch(e){case"ctrl":return function(e){return e.ctrlKey};case"shift":return function(e){return e.shiftKey};case"alt":return function(e){return e.altKey};case"cmd":return function(e){return e.metaKey};default:return function(t){return(w[t.keyCode]||t.key).toLowerCase()===e}}},parseOne:function(e){var t=e.split("+").map(P.parsePiece);return t.mask=e,/\balt\b/.test(e)||t.push((function(e){return!e.altKey})),/\bctrl\b/.test(e)||t.push((function(e){return!e.ctrlKey})),/\bshift\b/.test(e)||t.push((function(e){return!e.shiftKey})),/\bcmd\b/.test(e)||t.push((function(e){return!e.metaKey})),t},parse:function(e){return e.split(/\s*,\s*/).filter((function(e){return e.length})).map(P.parseOne)},display:function(e){var t=e.filter((function(e){return/\bcmd\b/.test(e.mask)})),n=e;return t.length&&(n=Object(f.k)()?t:e.filter((function(e){return!/\bcmd\b/.test(e.mask)}))),n.map((function(e){return e.mask})).join(", ")}},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=v(i);function i(){var e;b(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(g(e=o.call.apply(o,[this].concat(n))),"parse",Object(l.a)((function(e){return e.kkb}),P.parse)),j(g(e),"onKeyDown",(function(t){e.props.disabled||e.checkFocus()&&e.parse(e.props).some((function(e){return e.every((function(e){return e(t)}))}))&&(t.preventDefault(),e.constructor._stack.push(g(e)),e.constructor.fire())})),e}return t=i,(n=[{key:"componentDidMount",value:function(){Object(f.f)("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){Object(f.e)("keydown",this.onKeyDown)}},{key:"getFocus",value:function(){var e=document.activeElement;if(!e)return null;var t=Object.entries(this.constructor._ignore).find((function(t){var n=p(t,2);return n[0],n[1].some((function(t){return t(e)}))}));return t?t[0]:null}},{key:"checkFocus",value:function(){var e=this.props.inFocus;if(!0===e)return!0;var t=this.getFocus();return!t||e===t}},{key:"fire",value:function(){var e=this.props,t=e.action,n=e.onFire;t(),n&&n()}},{key:"render",value:function(){return null}}])&&d(t.prototype,n),r&&d(t,r),i}(c.a.PureComponent);j(R,"_ignore",{text:[function(e){return e.matches("input,[contenteditable]")}],block:[function(e){return e.matches("select")},function(e){return e.matches("[tabindex]")}]}),j(R,"_stack",[]),j(R,"kkb",P),j(R,"fire",o()((function(){var e=p(R._stack,1)[0];R._stack=[],e.fire()}))),j(R,"propTypes",{action:u.a.func.isRequired,kkb:u.a.string.isRequired,onFire:u.a.func,disabled:u.a.bool,inFocus:u.a.oneOf([!0,!1,"block"])})},145:function(e,t,n){"use strict";n.r(t),n.d(t,"aAddHint",(function(){return p})),n.d(t,"aDelHint",(function(){return y})),n.d(t,"aSetHint",(function(){return b})),n.d(t,"map",(function(){return d})),n.d(t,"blank",(function(){return h})),n.d(t,"def",(function(){return v})),n.d(t,"getExpIds",(function(){return m}));var r,o=n(5),i=n(8),c=n(6),a=n(2);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=Object(a.b)("MOD_EXP"),p=s.create("ADD_HINT","expId"),y=s.create("DEL_HINT","expId"),b=s.create("SET_HINT","oldId, newId"),d=(f(r={},p.type,(function(e,t,n){var r=t.expId,i=n.hints.exp.concat({id:r,right:[],wrong:[]});return{mod:Object(o.p)(n,"hints.exp",i)}})),f(r,y.type,(function(e,t,n){var r=t.expId,i=n.hints.exp.filter((function(e){return e.id!==r}));return{mod:Object(o.p)(n,"hints.exp",i)}})),f(r,b.type,(function(e,t,n){var r=t.oldId,i=t.newId,c=n.hints.exp.map((function(e){return e.id!==r?e:l(l({},e),{},{id:i})}));return{mod:Object(o.p)(n,"hints.exp",c)}})),r),h={hints:{right:[],wrong:[],exp:[],solution:[]},content:[["T:text",{type:"expression",id:"e1",kind:"input",value:"1"}]]},v={},m=function(){return Object(i.a)((function(e){return e.content}),(function(e){var t=new Set;return c.a.filterDeep(e,"expression").forEach((function(e){t.add(e.id)})),c.a.filterDeep(e,"formula").filter((function(e){return e.fid})).map(c.a.formulas.getSubIds).forEach((function(e){e.forEach((function(e){t.add(e)}))})),c.a.filterDeep(e,"plot").forEach((function(e){t.add(e.id)})),t}))}},148:function(e,t,n){"use strict";n.d(t,"b",(function(){return q})),n.d(t,"a",(function(){return z}));var r,o,i,c,a,u,l,f,s=n(178),p=n.n(s),y=n(1),b=n.n(y),d=n(0),h=n.n(d),v=n(7),m=n(15);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var T=(r=Object(m.c)("renamePanel."),c=i=function(e){P(n,e);var t=S(n);function n(){var e;O(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return x(k(e=t.call.apply(t,[this].concat(o))),"setInput",(function(e){e.focus(),e.select()})),e}return w(n,[{key:"render",value:function(e){var t=this.props,n=t.title,r=t.titleHTML,o=t.isRenaming,i=t.value,c=t.setValue,a=t.start,u=t.commit,l=t.cancel,f=r||p()(n);return o?b.a.createElement(v.e,{type:"text",cls:"bllc-rename-input",onShow:this.setInput,onChange:c,onSubmit:u,onEsc:l,value:i}):b.a.createElement("div",{className:"bllc-rename-text",title:e("dbClick"),dangerouslySetInnerHTML:{__html:f},onDoubleClick:a})}}]),n}(b.a.PureComponent),x(i,"propTypes",{title:h.a.string,titleHTML:h.a.string,value:h.a.string.isRequired,setValue:h.a.func.isRequired,isRenaming:h.a.bool.isRequired,start:h.a.func.isRequired,commit:h.a.func.isRequired,cancel:h.a.func.isRequired}),C((o=c).prototype,"render",[r],Object.getOwnPropertyDescriptor(o.prototype,"render"),o.prototype),o),D=(a=Object(m.c)("renamePanel."),f=l=function(e){P(n,e);var t=S(n);function n(){return O(this,n),t.apply(this,arguments)}return w(n,[{key:"render",value:function(e){var t=this.props,n=t.start,r=t.commit,o=t.cancel,i=t.isRenaming;return b.a.createElement("div",{className:"bllc-rename-controls"},i?null:b.a.createElement(v.d,{icon:"pencil",onClick:n,cls:"bllc-rename-edit",title:e("edit")}),i?[b.a.createElement(v.d,{icon:"ok",onClick:r,cls:"bllc-rename-commit",title:e("save"),key:"0"}),b.a.createElement(v.d,{icon:"block",onClick:o,cls:"bllc-rename-cancel",title:e("cancel"),key:"1"})]:null)}}]),n}(b.a.PureComponent),x(l,"propTypes",{commit:h.a.func.isRequired,start:h.a.func.isRequired,cancel:h.a.func.isRequired,isRenaming:h.a.bool.isRequired}),C((u=f).prototype,"render",[a],Object.getOwnPropertyDescriptor(u.prototype,"render"),u.prototype),u),A=n(10),q=Object(A.f)(T,null,(function(e,t){var n=t.actions,r=t.id;return{setValue:function(t){return e(n.val(r,t.trim()))},start:function(){return e(n.start(r))},commit:function(){return e(n.commit(r))},cancel:function(){return e(n.cancel(r))}}})),z=Object(A.f)(D,null,(function(e,t){var n=t.actions,r=t.id;return{start:function(){return e(n.start(r))},cancel:function(){return e(n.cancel(r))},commit:function(){return e(n.commit(r))}}}))},149:function(e,t,n){"use strict";n.r(t),n.d(t,"aCheckSel",(function(){return R})),n.d(t,"aClearSel",(function(){return S})),n.d(t,"aItemToggle",(function(){return E})),n.d(t,"aRemoveLine",(function(){return k})),n.d(t,"aToggleLine",(function(){return _})),n.d(t,"def",(function(){return C})),n.d(t,"map",(function(){return A})),n.d(t,"isCorrect",(function(){return q})),n.d(t,"getCorrect",(function(){return z})),n.d(t,"isItemFullCorrect",(function(){return I}));var r,o=n(250),i=n.n(o),c=n(78),a=n.n(c),u=n(648),l=n.n(u),f=n(48),s=n.n(f),p=n(254),y=n.n(p),b=n(155),d=n.n(b),h=n(5),v=n(2);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=Object(v.b)("PLMOD_CONN"),R=P.create("CHECK_SEL"),S=P.create("CLEAR_SEL"),E=P.create("ITEM_TOGGLE","id, isLeft"),k=P.create("REMOVE_LINE","line"),_=P.create("TOGGLE_LINE","line"),x={left:null,right:null},C={sel:x,lines:[]},T=function(e,t,n){if(d()(e.lines,t))return Object(h.p)(e,"lines",Object(h.d)(e.lines,t));var r="single"!==n?e.lines:y()(e.lines,(function(e){return e.left===t.left||e.right===t.right}));return Object(h.p)(e,"lines",[].concat(j(r),[t]))},D=function(e){return g(g({},e),{},{sel:x})},A=P.map((O(r={},E.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.id,r=t.isLeft,o=r?"left":"right",i=e.sel[o]===n,c=g(g({},e.sel),{},O({},o,i?null:n));return g(g({},e),{},{sel:c})})),O(r,R.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>2?arguments[2]:void 0,n=t.mode;if(!e.sel.left||!e.sel.right)return e;var r={left:e.sel.left,right:e.sel.right};return e=D(e),T(e,r,n)})),O(r,k.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.line;return g(g({},e),{},{lines:Object(h.d)(e.lines,n)})})),O(r,_.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.line,r=arguments.length>2?arguments[2]:void 0,o=r.mode;return T(e,n,o)})),O(r,S.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return D(e)})),r)),q=function(e,t){var n=e.left,r=t.lines,o=s()(l()(r,"left"),(function(e){return a()(e,"right")}));return Object.values(n).every((function(e){var t=e.id,n=e.val,r=o[t]||{};return n.every((function(e){return e in r}))&&n.length===Object.keys(r).length}))},z=function(e){var t=e.left,n=Object.keys(t).map((function(e){return t[e].val.map((function(t){return{left:e,right:t}}))}));return{sel:x,lines:i()(n)}},I=function(e,t,n){if(o=t.id,/\d+/.test(o)){var r=n.filter((function(e){return e.left===t.id})).reduce((function(e,t){return e.add(t.right),e}),new Set);return t.val.length===r.size&&t.val.every((function(e){return r.has(e)}))}var o,i=n.filter((function(e){return e.right===t.id})).map((function(e){return e.left}));return Object.values(e.left).every((function(e){var n=e.id;return e.val.includes(t.id)===i.includes(n)}))}},15:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return y}));var r=n(1),o=n.n(r),i=n(208),c=n(107),a={lessonApi:o.a.createContext(),app:c.a.app,t:c.a.t},u=Object(i.a)(a),l=u.provideContext,f=u.contextHOC,s=u.renderContext,p=u.i18nContext,y=function(e){return a[e].Provider}},154:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(56),o=n.n(r),i=n(17),c=n.n(i),a=n(46),u=n.n(a),l=n(603);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}var d=function(){function e(t){var n,r,i,c=this,a=t.list,u=t.labels,l=t.fallbackPath;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,r="gen",i=o()((function(e){var t=c;return c._wrap((function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t._translate.apply(t,[e].concat(r))}),e)})),r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.list=a,this.labels=u,this.fallbackPath=l,this.unknown="%unknown%",this.tree={}}return b(e,null,[{key:"testMock",value:function(){return new e({list:["en"],labels:{},fallbackPath:[]}).mix({en:{}}).gen("en")}}]),b(e,[{key:"mix",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tree,n=0,r=Object.entries(e);n<r.length;n++){var o=f(r[n],2),i=o[0],c=o[1];u()(c)?(t[i]=t[i]||{},this.mix(c,t[i])):t[i]=c}return this}},{key:"_get",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return c()(this.tree[e],t)}))},{key:"_getAny",value:function(e,t){var n=this._get(e,t);if(n)return n;var r,o=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}(this.fallbackPath);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i!==e&&(n=this._get(i,t)))return this._warn("lack ".concat(e," translate for ").concat(t)),n}}catch(e){o.e(e)}finally{o.f()}return this._warn("unknown translate for ".concat(t)),this.unknown}},{key:"_warn",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]}},{key:"_translate",value:function(e,t){for(var n=this._getAny(e,t),r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return o.length?l.sprintf.apply(void 0,[n].concat(o)):n}},{key:"_wrap",value:function(e,t){var n=this;return e.pre=o()((function(r){var o=function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.apply(void 0,["".concat(r).concat(t)].concat(o))};return o.root=e.root||e,o.prefix=(e.prefix||"")+r,n._wrap(o,t)})),e.check=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return String(t).startsWith("I18N:")?e(n+t.substr(5)):t},e.label=this.labels[t],e.lang=t,e.langList=this.list,e}}]),e}()},156:function(e,t,n){"use strict";(function(e){var r=n(206),o=n.n(r),i=n(1),c=n.n(i),a=n(128),u=n(253),l=n(2),f=function(e){e._dnd={droppableId:"dnd-".concat(o()())},e.DragRegion=Object(u.a)((function(){var t=e._dnd,n=t.provided,r=t.snapshot,o=n.innerRef,i=r.isDraggingOver;return{ref:o,"data-dnd-over":Object(l.v)(i)}})),Object(l.c)(e,"_onDragEnd")},s=function(t,n){var r=this;this._dnd.provided=t,this._dnd.snapshot=n;var o=this._render_.apply(this,this._dnd.args);return e((function(){var e;(e=r._dnd).args=e.snapshot=e.provided=null})),o};function p(e){this._dnd||f(this);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._dnd.args=n,c.a.createElement(a.a,{onDragEnd:this._onDragEnd},c.a.createElement(a.c,{direction:this.dndDirection||"vertical",droppableId:this._dnd.droppableId},s.bind(this)))}t.a=function(){return function(e){var t=e.prototype;t._onDragEnd=function(e){var t=e.destination,n=e.source;return t&&t.index!==n.index?this.onDragEnd(t.index,n.index):null},t._render_=t.render,t.render=p}}}).call(this,n(62).setImmediate)},157:function(e,t,n){"use strict";(function(e){var r=n(1),o=n.n(r),i=n(128),c=n(253),a=n(2);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){e._dnd={},e.DragItem=e.DragItem||Object(c.a)((function(){return l(l({ref:e._dnd.provided.innerRef},e._dnd.provided.draggableProps),{},{"data-dragging":Object(a.v)(e._dnd.snapshot.isDragging)})})),e.DragHandle=e.DragHandle||Object(c.a)((function(){return l({},e._dnd.provided.dragHandleProps)}))},p=function(t,n){var r=this;this._dnd.provided=t,this._dnd.snapshot=n;var o=this._render_.apply(this,this._dnd.args);return e((function(){var e;(e=r._dnd).args=e.snapshot=e.provided=null})),o};function y(e){this._dnd||s(this);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._dnd.args=n,o.a.createElement(i.b,{isDragDisabled:this.isDragDisabled(),draggableId:this.props.dndIndex,index:this.props.dndIndex},p.bind(this))}t.a=function(){return function(e){var t=e.prototype;t._render_=t.render,t.render=y}}}).call(this,n(62).setImmediate)},158:function(e,t,n){"use strict";var r=n(202);n.d(t,"a",(function(){return r.a}))},160:function(e,t,n){"use strict";n.r(t),n.d(t,"def",(function(){return u})),n.d(t,"aAdd",(function(){return l})),n.d(t,"aDel",(function(){return f})),n.d(t,"aMove",(function(){return s})),n.d(t,"blank",(function(){return p})),n.d(t,"map",(function(){return y}));var r,o=n(5),i=n(2);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=Object(i.b)("MOD_SORT"),u={},l=a.create("ADD","idx"),f=a.create("DEL","idx"),s=a.create("MOVE","dest, src"),p={description:["P:description"],items:[["P:Item1"],["P:Item2"]],hints:{right:[],wrong:[],solution:[]}},y=(c(r={},l.type,(function(e,t,n){var r=t.idx,i=["P:Item".concat(r+1)],c=Object(o.l)(n.items,r,0,i);return{mod:Object(o.p)(n,"items",c)}})),c(r,f.type,(function(e,t,n){var r=t.idx,i=Object(o.l)(n.items,r,1);return{mod:Object(o.p)(n,"items",i)}})),c(r,s.type,(function(e,t,n){var r=t.dest,i=t.src,c=Object(o.h)(n.items,r,i);return{mod:Object(o.p)(n,"items",c)}})),r)},177:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return V}));var r=n(39),o=n.n(r),i=n(144),c=n.n(i),a=n(78),u=n.n(a),l=n(52),f=n.n(l),s=n(17),p=n.n(s),y=n(23),b=n.n(y),d=n(57),h=n.n(d),v=n(55),m=n.n(v),g=n(46),O=n.n(g),j=n(1),w=n.n(j),P=n(183),R=n(146),S=n(86),E=n(591),k=n(53),_=n.n(k),x=(n(916),n(1235),n(657)),C=n(431),T=n(19),D=n(124),A=n(14),q=n(38),z=n(653),I=n(430),N=n(10);n(1233);function L(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){L(i,r,o,c,a,"next",e)}function a(e){L(i,r,o,c,a,"throw",e)}c(void 0)}))}}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W="",G=JSON.stringify,V=function(){function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F(this,"_pesistScrollTop",(function(e){localStorage.setItem("stop",document.documentElement.scrollTop)})),F(this,"_save",(function(){var e=G({app:Object(N.k)(r._store.getState()),version:r.version});_.a.setItem("state",e),e.length>5242880&&console.error("exceed forage limit: ".concat(e.length))})),F(this,"_actionsList",[]),F(this,"_middleware",(function(t){return function(t){return function(n){var o=Object.values(n).every((function(e){return!O()(e)}));return r._actionsList.push(o?G(n):n.type),r._actionsList.length>100&&r._actionsList.splice(0,30),n.type===D.b.type&&e(r._shareClipboard,n),t(n)}}})),F(this,"_triggerResize",(function(){var t=new Event("bllc-resize");e((function(){return window.dispatchEvent(t)}))})),F(this,"_receiveClipboard",(function(e){var t=e.data,n=r._store.getState().clipboard,o=!h()(n,t);t.data&&o&&r._store.dispatch(Object(D.b)(t.kind,t.data))})),F(this,"_shareClipboard",(function(e){r._clpChannel.postMessage(b()(e,"data","kind"))}));var o=n.path,i=n.rootURI,c=n.version,a=n.platformMask,u=n.helpUrl,l=n.dev,f=void 0!==l&&l,s=n.lessonId,p=void 0===s?null:s,y=n.prefix,d=n.isTicketsNeeded,v=void 0!==d&&d;this.dev=f,this.version=c,this.path=o,this.rootURI=i,this.platformMask=a,this.helpUrl=u,this.lid=p,this.isTicketsNeeded=v,W=y,Object(T.v)(i+"mathjax/"),this._persist=this.dev,this._initialState=U(U({},C.b),{},{lessonsPath:this.path,platformMask:a})}var n,r,i,a,l;return n=t,(r=[{key:"_attachReact",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",n=this.dev?function(){setTimeout(e._restoreScrollTop,500)}:void 0;Object(P.render)(w.a.createElement(R.a,{store:this._store},w.a.createElement(x.a,{rootURI:this.rootURI,helpUrl:this.helpUrl,getLessonUrl:this.router.getLessonUrl,i18n:I.a,dispatch:this._store.dispatch})),document.getElementById(t),n),this._persist&&window.addEventListener("mousewheel",this._pesistScrollTop,{passive:!0})}},{key:"_restoreScrollTop",value:function(){var e=localStorage.getItem("stop");e&&(document.documentElement.scrollTop=e)}},{key:"_log",value:function(){var e;this.dev&&(e=console).info.apply(e,arguments)}},{key:"_observeSystemReset",value:function(){document.body.addEventListener("click",(function(e){e.target.classList.contains("system-reset")&&window.RESET()}))}},{key:"_handleJsErrors",value:function(){var e=this;window.addEventListener("error",(function(t){var n=t.error||{message:t.message},r=n.message,o=n.stack,i=void 0===o?"":o;console.error(n);var c={type:T.e.type,msg:r,stack:i,ignore:!0};if(e._store.dispatch(c),!window.TEST){var a=e.getLessonId(),u=e.getActivePage(),l="".concat(a," :: ").concat(u," :: ").concat(r,"\n").concat(i);Object(q.s)("jserr",l)}}))}},{key:"init",value:(l=M(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._persist){e.next=3;break}return e.next=3,this._setInitialState();case 3:return this._observeSystemReset(),this._handleJsErrors(),this._clipboardInit(),this._createStore(),this.router=new z.a(this._store,this.path,I.a,this.lid),this._attachReact(t),document.body.addEventListener("keypress",this._triggerResize),this.setTickets(this.lid),e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"_setInitialState",value:(a=M(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.getItem("state");case 2:if(t=e.sent,(n=JSON.parse(t||"{}")).version===this.version){e.next=6;break}return e.abrupt("return");case 6:if(r=Object(N.o)(n.app),o=Object(A.j)(r)){e.next=10;break}return e.abrupt("return");case 10:this._initialState=r,this._log("load ".concat(o," from localStorage"));case 12:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"_getCompose",value:function(){return this.dev&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"constructor",maxAge:10,serialize:{options:!1},stateSanitizer:function(e){return e.data.present.lesson}}):S.c}},{key:"_getActionsList",value:function(){return this._actionsList}},{key:"_getUserInfo",value:function(){return{href:location.href,uagent:navigator.userAgent,time:(new Date).toString()}}},{key:"_createStore",value:function(){var e=this._getCompose()(Object(S.a)(E.a,this._middleware));this._store=Object(S.d)(C.a,this._initialState,e),this._persist&&this._store.subscribe(m()(this._save,300)),this._store.subscribe(this._triggerResize)}},{key:"_clipboardInit",value:function(){this._clpChannel=new BroadcastChannel("bllx-clp"),this._clpChannel.onmessage=this._receiveClipboard}},{key:"getLessonId",value:function(){return p()(this._store.getState(),"data.present.lesson.data.id",null)}},{key:"getActivePage",value:function(){return p()(this._store.getState(),"data.present.lesson.page",null)}},{key:"loadLesson",value:function(e){this._log("loadLesson: ".concat(e)),this._store.dispatch(Object(T.l)(this.path,e,this.isTicketsNeeded))}},{key:"setTickets",value:function(e){this._store.dispatch(Object(T.c)(!0)),this.isTicketsNeeded&&this._store.dispatch(Object(T.d)(e))}},{key:"setListAnimationsSpeed",value:function(e){var t="".concat(f()(e/1e3,2),"s");document.documentElement.style.setProperty("--list-animation-delay",t),window.LIST_ANIMATION_DELAY=e}},{key:"_resetFormulas",value:function(){this._store.dispatch(Object(T.n)())}},{key:"_st",value:function(){return this._store.getState().data.present}},{key:"_mods",value:function(){var e=this._st().lesson.data.pages;return u()(c()(e,"modules"),"id")}},{key:"_mod",value:function(e){if(!o()(e)){var t=this._st().lesson,n=t.data,r=t.page;e=n.pages[r].modules[e||0].id}return this._mods()[e]}},{key:"_tex",value:function(e){return Object(q.t)(e)}}])&&H(n.prototype,r),i&&H(n,i),t}()}).call(this,n(62).setImmediate)},179:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return b}));var r=n(71),o=n.n(r),i=n(8);function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e,t){var n=null,r=null;return function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=a(t);try{for(i.s();!(r=i.n()).done;){var u=r.value,l=n(u,o);if(!1===l)return!1;if(u.children.length){var f=e(u.children,n,[].concat(c(o),[u]));if(!1===f)return!1}}}catch(e){i.e(e)}finally{i.f()}return!0}(e,(function(e,o){return!t(e)||(n=e,r=o,!1)})),{item:n,parents:r}},s=function(e,t){return f(e,(function(e){return e.id===t})).parents.map((function(e){return e.id}))},p=Object(i.a)((function(e){return e.list}),(function(e){return e.langs}),(function(e,t){return o()(t)?e:e.filter((function(e){return"err"===e.lang||e.lang in t}))})),y=Object(i.a)(p,(function(e){return e.selectedLesson}),(function(e,t){return t&&e.some((function(e){return e.id===t}))?t:null})),b=function(e){return!!e&&e>0}},18:function(e,t,n){"use strict";var r=n(106),o=n.n(r),i=n(23),c=n.n(i),a=n(615),u=n.n(a),l=n(36),f=n.n(l);function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={dim:function(e){return 0===e?1:Math.floor(Math.log10(Math.abs(e)))+1},ignFraction:function(e){var t=e.num,n=e.precision;return Math.round(t*Math.pow(10,n))},toRow:function(e){var t=[];t.num=e,t.dim=d.dim(t.num),t.precision=0;var n=String(Number(e)).split(""),r="-"===n[0];return n.reduce((function(e,t,o){if("."===t)f()(e).point=!0,e.precision=n.length-1-(r?1:0)-e.length;else if("-"!==t){var i={v:Number(t)};"-"===n[o-1]&&(i.neg=!0),e.push(i)}return e}),t),t},copyRow:function(e){var t=p(e);return u()(t,c()(e,"num","dim","precision")),t},_justifyFraction:function(e,t){for(var n=e.precision;n<t.precision;++n)0===e.precision&&(f()(e).point=!0),++e.precision,e.push({v:0})},justifyFraction:function(e,t){d._justifyFraction(e,t),d._justifyFraction(t,e)},justifyRight:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=o()(t,"length").length,i=0,c=t;i<c.length;i++)for(var a=c[i];a.length<r;)a.unshift(d.makeSpace())},justifyLeft:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=o()(t,"length").length,i=0,c=t;i<c.length;i++)for(var a=c[i];a.length<r;)a.push(d.makeSpace())},shiftLeft:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=s(e);try{for(r.s();!(t=r.n()).done;)for(var o=t.value,i=0;i<n;++i)o.unshift(d.makeSpace())}catch(e){r.e(e)}finally{r.f()}},makeDigit:function(e){return{t:"digit",v:e}},isDigit:function(e){return"v"in e},makeSpace:function(){return{t:"space"}},isSpace:function(e){return"space"===e.t},isNotSpace:function(e){return"space"!==e.t},makeMind:function(e){return{t:"mind",v:e}},upToInteger:function(e){var t=e.precision;return t>0&&(e.num=Math.round(e.num*Math.pow(10,e.precision)),e.find((function(e){return e.point})).point=!1,e.precision=0),t},div10:function(e){e.pop(),e.num/=10},_cellGraph:function(e){return"space"===e.t?"·":e.point?"₀₁₂₃₄₅₆₇₈₉"[e.v]:e.v},_rowBorderGraph:function(e){return e.map((function(e){switch(e.b){case"b":return"_";case"r":case"l":return e.b;default:return"mind"===e.t?"?":"·"}})).join("")},_rowNegGraph:function(e){return e.map((function(e){return e.neg?"-":"·"})).join("")},_rowGraph:function(e){return e.map(d._cellGraph).join("")+" "+d._rowBorderGraph(e)+" "+d._rowNegGraph(e)},tableGraph:function(e){return e.map(d._rowGraph).join("\n")},check:function(e){var t=e.op,n=e.a,r=e.b;return"add"!==t&&"sub"!==t||!(n<0||r<0)?"sub"===t&&n<r?"aLowerB":"multiply"===t&&0===r?"bNot0":"div"===t&&n%1!=0||r%1!=0?"onlyInt":"div"===t&&n<r?"aLowerB":"div"===t&&0===r&&"bNot0":"notPositive"}};t.a=d},181:function(e,t,n){"use strict";var r=n(30);t.a=r.a},182:function(e,t,n){"use strict";n.d(t,"b",(function(){return Ro})),n.d(t,"a",(function(){return eo.a})),n.d(t,"c",(function(){return so})),n.d(t,"d",(function(){return po}));var r={};n.r(r),n.d(r,"blank",(function(){return d})),n.d(r,"def",(function(){return h}));var o={};n.r(o),n.d(o,"aMarkRight",(function(){return R})),n.d(o,"aDel",(function(){return S})),n.d(o,"aChange",(function(){return E})),n.d(o,"aAdd",(function(){return k})),n.d(o,"aSetPlaceholder",(function(){return _})),n.d(o,"def",(function(){return x})),n.d(o,"map",(function(){return C})),n.d(o,"blank",(function(){return T}));var i={};n.r(i),n.d(i,"types",(function(){return V})),n.d(i,"aTransform",(function(){return $})),n.d(i,"map",(function(){return K})),n.d(i,"def",(function(){return X})),n.d(i,"blank",(function(){return Y}));var c={};n.r(c),n.d(c,"map",(function(){return ro.b})),n.d(c,"def",(function(){return ro.a}));var a,u=n(23),l=n.n(u),f=n(1),s=n.n(f),p=n(0),y=n.n(p),b=(n(1187),n(31)),d={content:["P:Text"]},h={},v=n(110),m=n(5),g=n(2);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=Object(g.b)("MOD_SELECT"),R=P.create("MARK_RIGHT","idx"),S=P.create("DEL","idx"),E=P.create("CHANGE","idx, val"),k=P.create("ADD","idx"),_=P.create("SET_PH","ph"),x={},C=(w(a={},R.type,(function(e,t,n){var r=t.idx;return{mod:j(j({},n),{},{right:r})}})),w(a,S.type,(function(e,t,n){var r=t.idx,o=Object(m.l)(n.options,r,1),i=n.right>=r?n.right-1:n.right;return{mod:j(j({},n),{},{options:o,right:i})}})),w(a,E.type,(function(e,t,n){var r=t.idx,o=t.val;return{mod:Object(m.p)(n,["options",r],o)}})),w(a,k.type,(function(e,t,n){var r=t.idx,o=Object(m.l)(n.options,r,0,"text"),i=n.right>=r?n.right+1:n.right;return{mod:j(j({},n),{},{options:o,right:i})}})),w(a,_.type,(function(e,t,n){var r=t.ph;return{mod:j(j({},n),{},{placeholder:r})}})),a),T={description:["P:description"],hints:{wrong:[],right:[],solution:[]},right:0,options:["Option 1","Option 2"],placeholder:""},D=n(109),A=n(145),q=n(160),z=n(123),I={simple:r,connection:v,select:o,choice:D,expressions:A,sort:q,markWords:z};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H,F,W=Object(g.b)("MOD_NEW"),G=Object.entries(I).reduce((function(e,t){var n=B(t,2),r=n[0],o=n[1],i=o.blank,c=o.def;return i&&(e[r]={blank:i,def:c}),e}),{}),V=Object.keys(G),$=W.create("TRANSFORM","ntype"),K=M({},$.type,(function(e,t,n){var r=t.ntype,o=G[r];return{mod:L(L({},l()(n,"title","id","isRenaming","newTitle","isAdaptive")),{},{type:r},o.blank),state:L({isRenaming:!1,newTitle:null},o.def||{})}})),X={},Y={},J=n(181),Z=n(3);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),e}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?ae(e):t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){re(n,e);var t=ie(n);function n(){var e;ee(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return le(ae(e=t.call.apply(t,[this].concat(o))),"transform",(function(){return e.props.transform(e.props.type)})),e}return ne(n,[{key:"render",value:function(){var e=this.props.type;return s.a.createElement(J.a,{onClick:this.transform,role:"new-".concat(e)},e," ")}}]),n}(s.a.PureComponent),se=(H=Object(Z.e)("mods.new."),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((F=function(e){re(n,e);var t=ie(n);function n(){var e;ee(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return le(ae(e=t.call.apply(t,[this].concat(o))),"transform",(function(t){return e.modDispatch($(t))})),e}return ne(n,[{key:"render",value:function(e){return s.a.createElement(b.a.Box,null,s.a.createElement("div",{className:"bllc-t-pre"},e("choose")),s.a.createElement("div",{className:"bllc-t-new-types"},V.map((function(e,t){return s.a.createElement(fe,{key:e,type:e,transform:this.transform})}),this)))}}]),n}(b.a)).prototype,"render",[H],Object.getOwnPropertyDescriptor(F.prototype,"render"),F.prototype),F);n(1189);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(i,e);var t,n,r,o=he(i);function i(){var e;ye(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Oe(me(e=o.call.apply(o,[this].concat(n))),"cssPrefix","unknown"),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.module;return s.a.createElement(b.a.Box,null,s.a.createElement("h4",null,"UnknownModule: ",e.type),s.a.createElement("pre",{className:this.c("code")},JSON.stringify(e,null,"\t")))}}])&&be(t.prototype,n),r&&be(t,r),i}(b.a);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var o=_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe,Ce,Te,De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(i,e);var t,n,r,o=Ee(i);function i(){return Pe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return s.a.createElement(b.a.Box,null,s.a.createElement(b.a.Content,{path:"content"}))}}])&&Re(t.prototype,n),r&&Re(t,r),i}(b.a);xe=De,Ce="propTypes",Te={module:y.a.shape({id:y.a.string.isRequired,content:y.a.array.isRequired}).isRequired},Ce in xe?Object.defineProperty(xe,Ce,{value:Te,enumerable:!0,configurable:!0,writable:!0}):xe[Ce]=Te;var Ae,qe,ze,Ie,Ne,Le=n(628),Me=n(64);function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $e,Ke,Xe,Ye,Je=(Ae=Object(Z.g)("modTools"),qe=Object(Z.e)("mods.common."),Ne=Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(i,e);var t,n,r,o=We(i);function i(){return Ue(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e,t){var n=e.c,r=this.props,o=r.placeholder,i=r.onChange;return s.a.createElement("div",{className:n("ph")},s.a.createElement("label",null,t("placeholder")),s.a.createElement(Me.a,{value:o,onChange:i,role:"placeholder"}))}}])&&He(t.prototype,n),r&&He(t,r),i}(s.a.PureComponent),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ie,"propTypes",{onChange:y.a.func.isRequired,placeholder:y.a.string.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ze=Ne).prototype,"render",[Ae,qe],Object.getOwnPropertyDescriptor(ze.prototype,"render"),ze.prototype),ze),Ze=n(9);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var o=ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ot(this,n)}}function ot(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?it(e):t}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ut,lt,ft,st,pt=($e=Object(Z.g)("modTools"),Ye=Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(i,e);var t,n,r,o=rt(i);function i(){var e;et(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return at(it(e=o.call.apply(o,[this].concat(n))),"add",(function(){var t=e.props,n=t.idx;(0,t.add)(n)})),e}return t=i,(n=[{key:"render",value:function(e){var t=e.c;return s.a.createElement("div",{className:t("addpanel")},s.a.createElement(Ze.a,{icon:"plus",onClick:this.add,"data-id":this.props.idx}))}}])&&tt(t.prototype,n),r&&tt(t,r),i}(s.a.PureComponent),at(Xe,"propTypes",{add:y.a.func.isRequired,idx:y.a.number.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Ke=Ye).prototype,"render",[$e],Object.getOwnPropertyDescriptor(Ke.prototype,"render"),Ke.prototype),Ke);function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?gt(e):t}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=(ut=Object(Z.g)("modTools"),st=ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(i,e);var t,n,r,o=vt(i);function i(){var e;bt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jt(gt(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){var n=e.props;(0,n.change)(n.idx,t)})),jt(gt(e),"markAsRight",(function(){var t=e.props;(0,t.markAsRight)(t.idx)})),jt(gt(e),"del",(function(){var t=e.props;(0,t.del)(t.idx)})),e}return t=i,(n=[{key:"render",value:function(e){var t=e.c,n=this.props,r=n.opt,o=n.isSelected,i=Object(g.h)(t("option"),o&&t("sel"));return s.a.createElement("div",{className:i},s.a.createElement(Me.a,{value:r,role:"option-text",onChange:this.onChange}),s.a.createElement(Ze.a,{icon:o?"check":"check-empty",role:"right",disabled:o,onClick:Object(g.v)(!o&&this.markAsRight)}),s.a.createElement(Ze.a,{icon:"trash",onClick:this.del,isHidden:o}))}}])&&dt(t.prototype,n),r&&dt(t,r),i}(s.a.PureComponent),jt(ft,"propTypes",{opt:y.a.string.isRequired,idx:y.a.number.isRequired,isSelected:y.a.bool.isRequired,markAsRight:y.a.func.isRequired,del:y.a.func.isRequired,change:y.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((lt=st).prototype,"render",[ut],Object.getOwnPropertyDescriptor(lt.prototype,"render"),lt.prototype),lt);n(1191);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tt(e);if(t){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xt(this,n)}}function xt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?Ct(e):t}function Ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(i,e);var t,n,r,o=_t(i);function i(){var e;St(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dt(Ct(e=o.call.apply(o,[this].concat(n))),"markAsRight",(function(t){return e.modDispatch(R(t))})),Dt(Ct(e),"del",(function(t){return e.modDispatch(S(t))})),Dt(Ct(e),"add",(function(t){return e.modDispatch(k(t))})),Dt(Ct(e),"change",(function(t,n){return e.modDispatch(E(t,n))})),Dt(Ct(e),"setPlaceholder",(function(t){return e.modDispatch(_(t))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.module;return s.a.createElement(b.a.Box,null,s.a.createElement(b.a.Description,null),s.a.createElement(Je,{placeholder:e.placeholder,onChange:this.setPlaceholder}),s.a.createElement("div",{className:this.c("opts")},s.a.createElement(pt,{idx:0,add:this.add}),e.options.map((function(t,n){return s.a.createElement(wt,Rt({opt:t,key:n},{idx:n,isSelected:e.right===n},l()(this,"markAsRight","del","change")))}),this),s.a.createElement(pt,{idx:e.options.length,add:this.add})),s.a.createElement(b.a.Hints,null))}}])&&Et(t.prototype,n),r&&Et(t,r),i}(b.a);Dt(At,"propTypes",{module:y.a.shape({description:y.a.array.isRequired,right:y.a.number.isRequired,options:y.a.arrayOf(y.a.string).isRequired,placeholder:y.a.string.isRequired}).isRequired});var qt=n(630),zt=n(631);n(1193);function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wt(e);if(t){var o=Wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ht(this,n)}}function Ht(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?Ft(e):t}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=[],$t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(i,e);var t,n,r,o=Ut(i);function i(){var e;Lt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gt(Ft(e=o.call.apply(o,[this].concat(n))),"getExpKeys",Object(A.getExpIds)()),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.module,n=e.isAnyContentEditing,r=this.getExpKeys(t);return s.a.createElement(b.a.Box,null,s.a.createElement(b.a.Content,{path:"content",withExpressions:!0}),s.a.createElement(b.a.Hints,null),s.a.createElement(zt.a,Nt({disabled:n,expHints:t.hints.exp||Vt},{expIds:r},{dispatch:this.modDispatch})))}}])&&Mt(t.prototype,n),r&&Mt(t,r),i}(b.a);Gt($t,"propTypes",{module:y.a.shape({content:y.a.array.isRequired}).isRequired,isAnyContentEditing:y.a.bool.isRequired});var Kt,Xt,Yt,Jt,Zt=n(633),Qt=n(143),en=n.n(Qt),tn=n(205),nn=n.n(tn),rn=n(8),on=n(40),cn=n(75),an=n(212);function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hn(e);if(t){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bn(this,n)}}function bn(e,t){return!t||"object"!==un(t)&&"function"!=typeof t?dn(e):t}function dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mn,gn,On,jn,wn,Pn=(Kt=Object(Z.g)("modTools"),Jt=Yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(i,e);var t,n,r,o=yn(i);function i(){var e;fn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vn(dn(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){var n=e.props,r=n.type,o=n.markIdx;(0,e.cx.modTools.modDispatch)(Object(z.aSetMarkProp)(r,o,t))})),e}return t=i,(n=[{key:"render",value:function(e){var t=e.c,n=(e.modDispatch,this.props),r=n.options,o=n.sel,i=n.type,c=Object(g.h)(t("dropdown"),t("list-".concat(i)));return s.a.createElement(an.a,ln({role:"".concat(i,"-select")},{cls:c},{value:o,onChange:this.onChange}),s.a.createElement("option",{value:void 0},"None"),r.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}),this))}}])&&sn(t.prototype,n),r&&sn(t,r),i}(s.a.PureComponent),vn(Yt,"propTypes",{type:y.a.oneOf(["underline","color"]).isRequired,sel:y.a.string,options:y.a.arrayOf(y.a.string).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Xt=Jt).prototype,"render",[Kt],Object.getOwnPropertyDescriptor(Xt.prototype,"render"),Xt.prototype),Xt);function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tn(e);if(t){var o=Tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xn(this,n)}}function xn(e,t){return!t||"object"!==Rn(t)&&"function"!=typeof t?Cn(e):t}function Cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var An,qn,zn,In,Nn,Ln,Mn=(mn=Object(Z.e)("mods.markWords.mark."),gn=Object(Z.g)("modTools"),wn=jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kn(e,t)}(i,e);var t,n,r,o=_n(i);function i(){var e;Sn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dn(Cn(e=o.call.apply(o,[this].concat(n))),"delete",(function(){var t=e.props.idx,n=e.cx.modTools.modDispatch,r=e.cx.tt;confirm(r("askDel"))&&n(Object(z.aDelMark)(t))})),e}return t=i,(n=[{key:"render",value:function(e,t){var n=t.c,r=this.props.disabled;return s.a.createElement("div",{className:n("delete")},s.a.createElement(Ze.a,{role:"markitem-del",disabled:r,icon:"trash",onClick:this.delete}))}}])&&En(t.prototype,n),r&&En(t,r),i}(s.a.PureComponent),Dn(jn,"propTypes",{disabled:y.a.bool.isRequired,idx:y.a.number.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((On=wn).prototype,"render",[mn,gn],Object.getOwnPropertyDescriptor(On.prototype,"render"),On.prototype),On),Bn=n(157),Un=n(634),Hn=n(635);function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(){return(Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return($n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jn(e);if(t){var o=Jn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xn(this,n)}}function Xn(e,t){return!t||"object"!==Fn(t)&&"function"!=typeof t?Yn(e):t}function Yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn,er,tr,nr,rr,or,ir=function(e){var t=e.c,n=e.idx;return s.a.createElement("div",{className:t("index")},s.a.createElement("span",null,n+1))},cr=(An=Object(Bn.a)(),qn=Object(Z.g)("modTools"),An((Ln=Nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$n(e,t)}(i,e);var t,n,r,o=Kn(i);function i(){var e;Gn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zn(Yn(e=o.call.apply(o,[this].concat(n))),"isDragDisabled",(function(){return e.props.isListEditable})),e}return t=i,(n=[{key:"render",value:function(e){var t=e.c,n=this.props,r=n.marksId,o=n.idx,i=n.mark,c=n.isListEditable,a=n.deletable;return s.a.createElement(this.DragItem,{className:t("list-item")},s.a.createElement(this.DragHandle,{className:t("draggable")},s.a.createElement(Ze.a,{cls:t("list-drag"),icon:"move"}),s.a.createElement(ir,{c:t,idx:o})),s.a.createElement(cn.a,{id:"".concat(r,".content"),path:"marks.".concat(o,".content")}),s.a.createElement(Pn,{type:"color",markIdx:o,sel:i.color,options:Un}),s.a.createElement(Pn,{type:"underline",markIdx:o,sel:i.underline,options:Hn}),s.a.createElement(Mn,Wn({idx:o},{disabled:c||!a})))}}])&&Vn(t.prototype,n),r&&Vn(t,r),i}(s.a.PureComponent),Zn(Nn,"propTypes",{marksId:y.a.string.isRequired,deletable:y.a.bool.isRequired,mark:y.a.object.isRequired,idx:y.a.number.isRequired,isListEditable:y.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((In=Ln).prototype,"render",[qn],Object.getOwnPropertyDescriptor(In.prototype,"render"),In.prototype),zn=In))||zn),ar=n(156);function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(){return(lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hr(e);if(t){var o=hr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return br(this,n)}}function br(e,t){return!t||"object"!==ur(t)&&"function"!=typeof t?dr(e):t}function dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hr(e){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mr,gr,Or,jr,wr,Pr=(Qn=Object(ar.a)(),er=Object(Z.g)("modTools"),Qn((or=rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(i,e);var t,n,r,o=yr(i);function i(){var e;fr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vr(dr(e=o.call.apply(o,[this].concat(n))),"onDragEnd",(function(t,n){(0,e.cx.modTools.modDispatch)(Object(z.aReorderMarksList)(t,n))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.marks,n=e.marksId,r=e.isListEditable;return s.a.createElement(this.DragRegion,null,t.map((function(e,o){return s.a.createElement(cr,lr({dndIndex:o,deletable:t.length>1,key:o},{mark:e,marksId:n,idx:o,isListEditable:r}))}),this))}}])&&sr(t.prototype,n),r&&sr(t,r),i}(s.a.PureComponent),vr(rr,"propTypes",{marks:y.a.array.isRequired,marksId:y.a.string.isRequired,isListEditable:y.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((nr=or).prototype,"render",[er],Object.getOwnPropertyDescriptor(nr.prototype,"render"),nr.prototype),tr=nr))||tr),Rr=n(636),Sr=n(637);function Er(e){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kr(){return(kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t){return(Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ar(e);if(t){var o=Ar(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dr(this,n)}}function Dr(e,t){return!t||"object"!==Er(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qr,zr,Ir,Nr,Lr=(mr=Object(Z.e)("mods.markWords."),gr=Object(Z.g)("modTools"),wr=jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(i,e);var t,n,r,o=Tr(i);function i(){return _r(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e,t){var n=t.c,r=t.mid,o=this.props,i=o.marks,c=o.isListEditable,a=c||i.length>=Sr.maxPanelItems;return s.a.createElement("div",{className:n("list")},s.a.createElement("fieldset",{className:"bllc-fieldset ".concat(n("box"))},s.a.createElement("legend",null,e("markPanel")),s.a.createElement(Pr,kr({marks:i,isListEditable:c},{marksId:"".concat(r,".marks")})),s.a.createElement(Rr.a,{disabled:a,mid:r,idx:i.length-1})))}}])&&xr(t.prototype,n),r&&xr(t,r),i}(s.a.PureComponent),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(jr,"propTypes",{marks:y.a.array.isRequired,isListEditable:y.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Or=wr).prototype,"render",[mr,gr],Object.getOwnPropertyDescriptor(Or.prototype,"render"),Or.prototype),Or),Mr=n(213),Br=n(101);n(1195);function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(){return(Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xr(e);if(t){var o=Xr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $r(this,n)}}function $r(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?Kr(e):t}function Kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jr=(qr=Object(Z.e)("mods.markWords."),Nr=Ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(i,e);var t,n,r,o=Vr(i);function i(){var e;Fr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yr(Kr(e=o.call.apply(o,[this].concat(n))),"genTransformHTML",(function(e){return function(t,n){return nn()((function(e){return Object(Br.c)(e,t)}),en.a,(function(t){return Object(Br.b)(t,!0,e)}),(function(e){return Object(Br.d)(e)}))(n)}})),Yr(Kr(e),"genPayload",Object(rn.a)((function(e){return e.module.marks}),(function(t){return{transformHTML:e.genTransformHTML(t)}}))),Yr(Kr(e),"genUsedMarks",Object(rn.a)((function(e){return e.module.content}),Br.a)),Yr(Kr(e),"genWarnings",Object(rn.a)(e.genUsedMarks,(function(e){return e.module.marks.length}),(function(e,t){return Object.values(e).filter((function(e){return 0>=e||e>t}))}))),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.module,r=t.isAnyContentEditing,o=n.marks,i=this.genWarnings(this.props),c=i.length&&"".concat(e("warning.no-marks")," [").concat(i.join(", "),"]");return s.a.createElement(b.a.Box,null,s.a.createElement(b.a.Description,null),s.a.createElement(Lr,Hr({marks:o},{isListEditable:r})),s.a.createElement(on.d,{predicate:i.length>0,msg:c}),s.a.createElement("fieldset",{className:"bllc-fieldset ".concat(this.c("main-content"))},s.a.createElement("legend",null,e("markText")),s.a.createElement(b.a.Content,{payload:this.genPayload(this.props),path:"content"})),s.a.createElement(b.a.Hints,null))}}])&&Wr(t.prototype,n),r&&Wr(t,r),i}(b.a),Yr(Ir,"propTypes",{module:Mr.b}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((zr=Nr).prototype,"render",[qr],Object.getOwnPropertyDescriptor(zr.prototype,"render"),zr.prototype),zr),Zr={new:se,unknown:je,simple:De,connection:Le.a,select:At,choice:qt.a,expressions:$t,sort:Zt.a,markWords:Jr},Qr=n(210),eo=(n(1196),n(204)),to=n(48),no=n.n(to),ro=n(249);function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var co,ao,uo,lo,fo=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({content:c,new:i},I),so=no()(fo,"def"),po=Object.values(fo).reduce((function(e,t){var n=t.map;return Object.assign(e,n)}),{});function yo(e){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(){return(bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function go(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wo(e);if(t){var o=wo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oo(this,n)}}function Oo(e,t){return!t||"object"!==yo(t)&&"function"!=typeof t?jo(e):t}function jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ro=(co=Object(Z.f)("lessonApi",["t","genT"],["mid","getMid"],["app","getApp"]),lo=uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(i,e);var t,n,r,o=go(i);function i(){var e;ho(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Po(jo(e=o.call.apply(o,[this].concat(n))),"modDispatch",(function(t){var n=e.props.module.id;return(0,e.props.lessonApi.modDispatch)(n,t)})),e}return t=i,(n=[{key:"genT",value:function(){return Qr.a.gen(this.props.lang)}},{key:"getMid",value:function(){return this.props.module.id}},{key:"getApp",value:function(){return"constructor"}},{key:"render",value:function(){var e=this.props.module,t=Zr[e.type]||Zr.unknown;return s.a.createElement(t,bo({mid:e.id,modDispatch:this.modDispatch},l()(this.props,"module","clipboard","path","state","isContentEditing","isAnyContentEditing")))}}])&&vo(t.prototype,n),r&&vo(t,r),i}(s.a.PureComponent),Po(uo,"propTypes",{module:y.a.object.isRequired,isContentEditing:y.a.bool.isRequired,isAnyContentEditing:y.a.bool.isRequired,state:y.a.object.isRequired,path:y.a.string.isRequired,lang:y.a.string.isRequired,clipboard:y.a.object.isRequired,lessonApi:y.a.shape({updFormulas:y.a.func.isRequired,chooseAsset:y.a.func.isRequired,getLessonUrl:y.a.func.isRequired,copy:y.a.func.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ao=lo).prototype,"render",[co],Object.getOwnPropertyDescriptor(ao.prototype,"render"),ao.prototype),ao)},19:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"p",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"i",(function(){return w})),n.d(t,"r",(function(){return P})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return S})),n.d(t,"q",(function(){return E})),n.d(t,"g",(function(){return k})),n.d(t,"n",(function(){return _})),n.d(t,"s",(function(){return x})),n.d(t,"v",(function(){return T})),n.d(t,"o",(function(){return D})),n.d(t,"h",(function(){return A})),n.d(t,"t",(function(){return q})),n.d(t,"u",(function(){return z})),n.d(t,"j",(function(){return I})),n.d(t,"a",(function(){return N})),n.d(t,"d",(function(){return L}));var r=n(28),o=n.n(r),i=n(2),c=n(14),a=n(38),u=n(207),l=n(85);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){y(i,r,o,c,a,"next",e)}function a(e){y(i,r,o,c,a,"throw",e)}c(void 0)}))}}var d=Object(i.b)("LESSON"),h=d.createIgnore("JS_ERROR"),v=d.create("CLEAR"),m=d.create("SET","lesson, formattedTickets"),g=d.create("LOADING"),O=d.create("INIT_AUTH","isAuth"),j=d.create("FULLSCREEN_TOGGLE"),w=d.async("ERR",(function(e,t){return function(n){console.error(t);var r=String(t)+"";n({type:e,err:r})}})),P=d.async("UPD_ASSETS",(function(e){return function(){var t=b(regeneratorRuntime.mark((function t(n,r){var o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object(c.i)(r()).data.id,t.next=3,Object(a.k)(o);case 3:return i=t.sent,t.abrupt("return",n({type:e,ignore:!0,assets:i}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),R=function(e,t,n){return function(){var r=b(regeneratorRuntime.mark((function r(i,c){var u,l,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=e.replace(":id:",t),i(v()),i(g()),r.next=6,Object(a.j)(e,t);case 6:return l=r.sent,r.next=9,Object(a.k)(t);case 9:if(l.assets=r.sent,f={},!n){r.next=26;break}return r.next=14,Object(a.e)(t);case 14:if(r.t2=u=r.sent,r.t1=null!==r.t2,!r.t1){r.next=18;break}r.t1=void 0!==u;case 18:if(!r.t1){r.next=22;break}r.t3=u,r.next=23;break;case 22:r.t3=[];case 23:r.t0=r.t3,r.next=27;break;case 26:r.t0=[];case 27:r.t0.forEach((function(e){var t=e.moduleId;f[t]=s({},o()(e,"moduleId"))})),r.next=32;break;case 32:i(m(l,f)),r.next=38;break;case 35:r.prev=35,r.t4=r.catch(0),i(w(r.t4));case 38:case"end":return r.stop()}}),r,null,[[0,35]])})));return function(e,t){return r.apply(this,arguments)}}()},S=Object(u.a)("LESSON_RENAME"),E=d.createIgnore("SET_UI_LANG","lang"),k=d.createIgnore("CLEAR_FORMULAS"),_=function(){return function(){var e=b(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(k()),e.next=3,t(x());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},x=d.async("UPD_FORMULAS",(function(e){return function(){var t=b(regeneratorRuntime.mark((function t(n,r){var o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object(c.i)(r()).data,i=Object(c.g)(o),t.next=4,Object(c.b)(C,i,o.formulas);case 4:a=t.sent,n({type:e,formulas:a,ignore:!0,tsMode:"replace"});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),C=null,T=function(e){C=e},D=d.async("SAVE",(function(e){return function(){var t=b(regeneratorRuntime.mark((function t(n,r){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(x());case 2:return Object(c.q)(Object(c.i)(r()))&&n(I()),o=Object(c.i)(r()).data,t.prev=4,t.next=7,Object(a.p)(o.id,o);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),console.log(t.t0);case 12:n({type:e,ignore:!0});case 13:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(e,n){return t.apply(this,arguments)}}()})),A=d.async("DEPLOY",(function(e,t,n){return function(){var r=b(regeneratorRuntime.mark((function r(o,i){var u,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=Object(c.j)(i()),o({type:e,ignore:!0}),f=Object(c.i)(i()),!Object(c.q)(f)||Object(l.h)(f)){r.next=5;break}return r.abrupt("return","adaptiveLesson.error");case 5:return r.next=7,Object(a.i)(u,t,n);case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()})),q=d.async("NEW_DEPLOY",(function(e){return function(){var e=b(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(c.j)(n()),e.next=3,Object(a.m)(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),z=d.create("SAVE_DESCRIPTORS","descriptors"),I=d.create("FIX_CATEGORIES"),N=d.async("AUTH_SUBMIT",(function(e,t){return function(){var e=b(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.a)(t);case 2:return(r=e.sent).success&&r.access_token&&(localStorage.setItem("constructor_token",r.access_token),n(O(!0))),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),L=(d.async("AUTH_LOGOUT",(function(e){return function(){var e=b(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("constructor_token"),t(O(!1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),d.async("INIT_TICKETS",(function(e,t){return function(){var n=b(regeneratorRuntime.mark((function n(r){var o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.e)(t);case 2:if(n.t1=o=n.sent,n.t0=null!==n.t1,!n.t0){n.next=6;break}n.t0=void 0!==o;case 6:if(!n.t0){n.next=10;break}n.t2=o,n.next=11;break;case 10:n.t2=[];case 11:i=n.t2,r({type:e,tickets:i});case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})))},2:function(e,t,n){"use strict";n.d(t,"b",(function(){return P})),n.d(t,"p",(function(){return N})),n.d(t,"w",(function(){return L})),n.d(t,"h",(function(){return M})),n.d(t,"o",(function(){return B})),n.d(t,"g",(function(){return U})),n.d(t,"i",(function(){return F})),n.d(t,"j",(function(){return W})),n.d(t,"s",(function(){return G})),n.d(t,"x",(function(){return V})),n.d(t,"v",(function(){return $})),n.d(t,"n",(function(){return K})),n.d(t,"t",(function(){return X})),n.d(t,"l",(function(){return Y})),n.d(t,"m",(function(){return J})),n.d(t,"k",(function(){return Z})),n.d(t,"f",(function(){return Q})),n.d(t,"e",(function(){return ee})),n.d(t,"u",(function(){return te})),n.d(t,"r",(function(){return ne})),n.d(t,"d",(function(){return oe})),n.d(t,"a",(function(){return ie})),n.d(t,"c",(function(){return ce})),n.d(t,"q",(function(){return ae}));n(48),n(78),n(205);var r=n(91),o=n.n(r),i=n(424),c=n.n(i),a=n(178),u=n.n(a),l=n(1),f=n.n(l),s=n(146),p=n(594),y=n.n(p),b=n(50),d=n.n(b);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e,t){return t.startsWith(e)?t:"".concat(e,"_").concat(t)},w=function(e,t){return function(n,r){var i=j(e,n),c=o()(r)?r:function(e){if(!e)return function(){return{}};var t=e.split(/\s*,\s*/);return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length>t.length)throw new Error("incorrect a-args");return d()(t,(function(e,t,r){e[t]=n[r]}),{})}}(r),a=function(){return g(g({},c.apply(void 0,arguments)),{},{type:i},t)};return a.type=i,a.toString=function(){return i},a}},P=function(e){var t=function(t,n){return g({type:j(e,t)},n)};return t.prefix=e,t.map=function(t){return function(e,t){return Object.entries(t).reduce((function(t,n){var r=h(n,2),o=r[0],i=r[1];return t[j(e,o)]=i,t}),{})}(e,t)},t.create=w(e),t.createIgnore=w(e,{ignore:!0}),t.createReplace=w(e,{ignore:!0,tsMode:"replace"}),t.async=function(e){return function(t,n){var r=j(e,t),o=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.apply(void 0,[r].concat(t))};return o.type=r,o.toString=function(){return r},o}}(e),t};function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name;return n=t=function(t){T(r,t);var n=A(r);function r(){return _(this,r),n.apply(this,arguments)}return C(r,[{key:"render",value:function(){return e(this.props)}}]),r}(f.a.PureComponent),I(t,"displayName","pure(".concat(r,")")),n},L=function(e){return new Promise((function(t){return setTimeout(t,e)}))},M=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")},B={ENTER:13,ESC:27},U=function(e){if(void 0===e)return"";var t=e.charCodeAt(0);return 49<=t&&t<=57?t+=48:97<=t&&t<=105&&(t-=48),String.fromCharCode(t)},H=/(\d+((?:\.|,)\d+)?)|[=>+<≠≤≥∈∉∞∀∠⊂⊃{}⊥]+/g,F=function(e,t){var n=u()(e).replace(/\[m(\d)?\]/g,(function(e,t){return"[m".concat(U(t),"]")})).replace(H,(function(e){return"<x-num>".concat(e,"</x-num>")})).replace(/<\/x-num>(\s*)<x-num>/g,"$1").replace(/\[(\/)?(sup|sub|b|u|i|s|em|it|v|plea)\]/g,(function(e,t,n){var r;switch(n){case"v":r="var";break;case"plea":r="x-plea";break;default:r=n}return"<".concat(t||"").concat(r,">")})).replace(/&#<x-num>([^<]+)<\/x-num>/g,"&#$1");return t?t(n):n},W=function(e){return u()(e).replace(/\[(\/)?(sup|sub|i)\]/g,"<$1$2>")},G=function(e){return e.replace(/\[(\/)?(sup|sub|b|u|i|s|em|it)\]/g,"")},V=function(e){var t=new WeakMap;return function(n){return t.has(n)||t.set(n,e(n)),t.get(n)}},$=(f.a.PureComponent,function(e){return e||0===e?e:void 0}),K=function(e,t){return c()(e,(function(e,n){return e===t[n]}))&&c()(t,(function(t,n){return t===e[n]}))},X=function(e){if(!/^-?\d+(\.\d+)?$/.test(e))return null;var t=Number(e);return Number.isNaN(t)?null:t},Y=function(){return y.a.any},J=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},Z=function(){return navigator.platform.toLowerCase().match(/mac/)},Q=function(){var e;return(e=document.body).addEventListener.apply(e,arguments)},ee=function(){var e;return(e=document.body).removeEventListener.apply(e,arguments)},te=function(e,t){return function(n){if("ignore"===t||1===n.touches.length){var r={};for(var o in n.touches[0])r[o]=n.touches[0][o];e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({preventDefault:n.preventDefault.bind(n),stopPropagation:n.stopPropagation.bind(n)},r))}}},ne=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=!1;function i(){o||(e.apply(void 0,n),requestAnimationFrame(i))}return requestAnimationFrame(i),{dispose:function(){o=!0}}};ne.dispose=function(e){return e&&e.dispose()};var re=window.TEST?0:500,oe=function(e){e.animate([{opacity:"0"},{opacity:"1"}],re)},ie=function(e){var t=e.html,n=e.tag,r=void 0===n?"span":n,o=E(e,["html","tag"]),i=r;return f.a.createElement(i,S({dangerouslySetInnerHTML:{__html:t}},o))},ce=function(e,t){return e[t]._binded||(e[t]=e[t].bind(e),e[t]._binded=!0),e[t]},ae=function(){return function(e){var t=e.prototype.componentWillUnmount;e.prototype.componentWillUnmount=function(){this.unmounted=!0,t&&t.apply(this)},e.prototype.safeSetState=function(e,t){if(this.unmounted)return null;var n=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return Object.assign(n,{resolve:e,reject:t}),n}();return this.setState(e,(function(){o()(t)&&t.apply(void 0,arguments),n.resolve()}))}}}},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(28),o=n.n(r),i=n(1),c=n.n(i),a=n(0),u=n.n(a),l=n(2);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,i=v(a);function a(){var e;b(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(g(e=i.call.apply(i,[this].concat(n))),"onChange",(function(t){var n=t.target.value,r=e.props,o=r.onChange,i=r.role;o&&o(n,i)})),j(g(e),"onKeyUp",(function(t){e.props.onSubmit&&t.keyCode===l.o.ENTER&&(e.onChange({target:e.input}),e.props.onSubmit()),e.props.onEsc&&t.keyCode===l.o.ESC&&e.props.onEsc()})),j(g(e),"setNode",(function(t){t&&(e.input=t,e.on("change",e.onChange),(e.props.onSubmit||e.props.onEsc)&&e.on("keyup",e.onKeyUp),t.value=e.props.value,e.props.onShow&&e.props.onShow(t))})),e}return t=a,r=[{key:"focus",value:function(e){(e.matches("input")?e:e.querySelector("input")).focus()}}],(n=[{key:"on",value:function(e,t){this.input.addEventListener(e,t)}},{key:"render",value:function(){var e=this.props,t=e.role,n=e.value,r=e.status,i=e.width,a=e.cls,u=e.style,f=void 0===u?{}:u,p=o()(this.props,"onChange","cls","onShow","onSubmit","value","onEsc","width","role","status","style");return this.input&&this.input.value!==n&&(this.input.value=n),c.a.createElement("span",{className:"bllx-input-wrapper ".concat(a||""),style:y({width:i},f),"data-status":Object(l.v)(r)},c.a.createElement("input",s({},p,{ref:this.setNode,"data-role":t})))}}])&&d(t.prototype,n),r&&d(t,r),a}(c.a.PureComponent);j(w,"propTypes",{cls:u.a.string,onChange:u.a.func,onShow:u.a.func,onSubmit:u.a.func,onEsc:u.a.func,value:u.a.oneOfType([u.a.string,u.a.number]),width:u.a.string,role:u.a.string,status:u.a.string,style:u.a.object})},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return Fe}));var r,o,i,c,a=n(1),u=n.n(a),l=n(0),f=n.n(l),s=n(210),p=n(23),y=n.n(p),b=n(305),d=n(34),h=n(30),v=n(25),m=n(3);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x,C,T,D,A=(r=Object(m.e)("mods.content.elements."),c=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,e);var t,n,r,o=R(i);function i(){var e;j(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(E(e=o.call.apply(o,[this].concat(n))),"sel",(function(t){return e.props.panelDispatch(Object(d.l)(t))})),_(E(e),"setPrevType",(function(){var t=e.getPosState(),n=t.list,r=t.idx,o=r>0?r-1:n.length-1;e.sel(n[o])})),_(E(e),"setNextType",(function(){var t=e.getPosState(),n=t.list,r=t.idx,o=r>=n.length-1?0:r+1;e.sel(n[o])})),_(E(e),"types",["paragraph","group","inlineGroup","table","list","toggleBlock","set","gallery",null,"heading","text","link","assetLink","formula","tip",null,"image","video","model","plot","widget"]),_(E(e),"expTypes",e.types.concat([null,"expression:input","expression:choice","expression:math","expression:longMath","expression:sortable",null,"expression:dragitem","expression:nest"])),e}return t=i,r=[{key:"map",value:function(e){var t=e.contentState;return y()(t,"withExpressions","selType")}}],(n=[{key:"getPosState",value:function(){var e=this.props,t=e.selType,n=e.withExpressions,r=this.genList(n).filter((function(e){return null!==e})),o=r.findIndex((function(e){return e===t}));return{list:r,idx:o}}},{key:"genList",value:function(e){return e?this.expTypes:this.types}},{key:"render",value:function(e){var t=this.props,n=t.withExpressions,r=t.selType,o=this.genList(n);return u.a.createElement("div",{className:"bllc-cp-controls bllc-cp-mods"},o.map((function(t,n){return[t?u.a.createElement(b.a,O({tt:e,selType:r,type:t},{sel:this.sel,key:t})):null,t?null:u.a.createElement("div",{className:"bllc-cp-vr",key:"1"})]}),this),u.a.createElement(h.j,{kkb:"shift+arrowleft",action:this.setPrevType,inFocus:"block"}),u.a.createElement(h.j,{kkb:"alt+shift+arrowleft",action:this.setPrevType,inFocus:!0}),u.a.createElement(h.j,{kkb:"shift+arrowright",action:this.setNextType,inFocus:"block"}),u.a.createElement(h.j,{kkb:"alt+shift+arrowright",action:this.setNextType,inFocus:!0}))}}])&&w(t.prototype,n),r&&w(t,r),i}(u.a.PureComponent),_(i,"propTypes",{withExpressions:f.a.bool.isRequired,selType:f.a.string.isRequired,panelDispatch:f.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((o=c).prototype,"render",[r],Object.getOwnPropertyDescriptor(o.prototype,"render"),o.prototype),o),q=Object(v.c)(A,["contentState"]),z=n(8),I=n(9),N=n(6);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?W(e):t}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $,K,X,Y,J,Z=(x=Object(m.e)("mods.content.panel."),D=T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,r,o=H(i);function i(){var e;M(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V(W(e=o.call.apply(o,[this].concat(n))),"addSibling",(function(t){var n=Object(d.a)(t,e.props.sel);e.props.panelDispatch(n)})),V(W(e),"addSiblingBefore",(function(t){return e.addSibling("before")})),V(W(e),"addSiblingAfter",(function(t){return e.addSibling("after")})),V(W(e),"del",(function(){return e.props.panelDispatch(Object(d.e)(e.props.sel))})),V(W(e),"selLeft",(function(){return e.sel("left")})),V(W(e),"selRight",(function(){return e.sel("right")})),V(W(e),"selDown",(function(){return e.sel("down")})),V(W(e),"selUp",(function(){return e.sel("up")})),e}return t=i,r=[{key:"map",value:function(e){var t=e.contentState,n=t.sel,r=t.selType,o=this.getSel(t),i=o.selEl,c=o.parentType;return{sel:n,canAdd:r&&N.a.canAddInto(c,r),selEl:i}}}],(n=[{key:"sel",value:function(e){this.props.panelDispatch(Object(d.k)(e))}},{key:"render",value:function(e){var t=this.props,n=t.canAdd,r=t.selEl;return u.a.createElement("div",{className:"bllc-cp-controls"},u.a.createElement(I.a,{icon:"list-add",cls:"bllc-cp-add-left",title:e("add-left"),disabled:!n,onClick:this.addSiblingBefore},u.a.createElement(h.j,{kkb:"alt+insert",action:this.addSiblingBefore,disabled:!n,inFocus:!0})),u.a.createElement(I.a,{icon:"list-add",cls:"bllc-cp-add-right",title:e("add-right"),disabled:!n,onClick:this.addSiblingAfter},u.a.createElement(h.j,{kkb:"insert",action:this.addSiblingAfter,disabled:!n,inFocus:!0})),u.a.createElement(I.a,{icon:"trash",cls:"bllc-cp-del",disabled:!r,title:e("del"),onClick:this.del},u.a.createElement(h.j,{kkb:"alt+delete, alt+ctrl+d",action:this.del,disabled:!r,inFocus:!0})),u.a.createElement(h.j,{kkb:"alt+arrowleft",action:this.selLeft,disabled:!r,inFocus:!0}),u.a.createElement(h.j,{kkb:"alt+arrowright",action:this.selRight,disabled:!r,inFocus:!0}),u.a.createElement(h.j,{kkb:"alt+arrowup",action:this.selUp,disabled:!r,inFocus:!0}),u.a.createElement(h.j,{kkb:"alt+arrowdown",action:this.selDown,disabled:!r,inFocus:!0}))}}])&&B(t.prototype,n),r&&B(t,r),i}(u.a.PureComponent),V(T,"getSel",Object(z.a)((function(e){return e.sel}),(function(e){return e.data}),(function(e,t){var n=N.a.get(t,e),r=N.a.get(t,N.a.up(e));return{selEl:n,parentEl:r,parentType:r?N.a.type(r):null}}))),V(T,"propTypes",{canAdd:f.a.bool.isRequired,sel:f.a.string,selEl:f.a.any,panelDispatch:f.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((C=D).prototype,"render",[x],Object.getOwnPropertyDescriptor(C.prototype,"render"),C.prototype),C),Q=Object(v.c)(Z,["contentState"]),ee=n(211);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?ae(e):t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe,se,pe,ye,be=($=Object(m.g)("lessonApi"),K=Object(m.e)("mods.content.panel."),J=Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(i,e);var t,n,r,o=ie(i);function i(){var e;ne(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return le(ae(e=o.call.apply(o,[this].concat(n))),"copy",(function(){var t=e.props,n=t.panelDispatch,r=t.sel,o=t.data;n((0,e.cx.lessonApi.copy)("content",N.a.get(o,r)))})),le(ae(e),"cut",(function(){e.copy(),e.del()})),le(ae(e),"paste",(function(t){return e.props.panelDispatch(Object(ee.a)(e.props.sel,t))})),le(ae(e),"pasteBefore",(function(){return e.paste("before")})),le(ae(e),"pasteAfter",(function(){return e.paste("after")})),le(ae(e),"del",(function(){return e.props.panelDispatch(Object(d.e)(e.props.sel))})),e}return t=i,r=[{key:"map",value:function(e){var t=e.contentState,n=e.clipboard,r=t.sel,o=t.data;return{sel:r,data:o,selEl:N.a.get(o,r),hasClipboard:"content"===n.kind}}}],(n=[{key:"render",value:function(e,t){var n=this.props,r=n.selEl,o=n.hasClipboard;return u.a.createElement("div",{className:"bllc-cp-controls"},u.a.createElement(I.a,{icon:"docs",cls:"bllc-cp-copy",disabled:!r,title:t("copy"),onClick:this.copy},u.a.createElement(h.j,{kkb:"ctrl+c, cmd+c",action:this.copy,inFocus:"block"})),u.a.createElement(I.a,{icon:"scissors",cls:"bllc-cp-cut",disabled:!r,title:t("cut"),onClick:this.cut},u.a.createElement(h.j,{kkb:"ctrl+x, cmd+x",action:this.cut,inFocus:"block"})),u.a.createElement(I.a,{icon:"paste",cls:"bllc-cp-paste-left",disabled:!r||!o,onClick:this.pasteBefore,title:t("pasteBefore")}),u.a.createElement(I.a,{icon:"paste",cls:"bllc-cp-paste-right",disabled:!r||!o,onClick:this.pasteAfter,title:t("pasteAfter")},u.a.createElement(h.j,{kkb:"ctrl+v, cmd+v",action:this.pasteAfter,inFocus:"block"})))}}])&&re(t.prototype,n),r&&re(t,r),i}(u.a.PureComponent),le(Y,"propTypes",{sel:f.a.string,selEl:f.a.any,hasClipboard:f.a.bool.isRequired,panelDispatch:f.a.func.isRequired,data:f.a.array.isRequired}),le(Y,"cxPropTypes",{lessonApi:f.a.shape({copy:f.a.func.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((X=J).prototype,"render",[$,K],Object.getOwnPropertyDescriptor(X.prototype,"render"),X.prototype),X),de=Object(v.c)(be,["contentState","clipboard"]),he=n(69);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return we(this,n)}}function we(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?Pe(e):t}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee,ke,_e,xe,Ce,Te=(fe=Object(m.g)("t","lessonApi"),ye=pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(i,e);var t,n,r,o=je(i);function i(){var e;me(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Se(Pe(e=o.call.apply(o,[this].concat(n))),"cancel",(function(){var t=e.props,n=t.data,r=t.initial,o=t.panelDispatch;Object(he.d)(n,r)&&!confirm(e.tt("askCancel"))||o(Object(d.d)())})),Se(Pe(e),"apply",(function(){document.activeElement&&document.activeElement.blur();var t=e.props,n=t.panelDispatch,r=t.updateAction,o=e.cx.lessonApi;n(Object(d.c)(o,r)).catch(v.e)})),e}return t=i,r=[{key:"map",value:function(e,t){var n=e.contentState;return t.lang,y()(n,"data","initial")}}],(n=[{key:"render",value:function(e,t){var n=this.tt;return u.a.createElement("div",{className:"bllc-cp-controls"},u.a.createElement(I.a,{icon:"ok",title:n("commit"),cls:"bllc-cp-commit",onClick:this.apply,role:"conect-panel-commit"},u.a.createElement(h.j,{action:this.apply,kkb:"ctrl+enter, cmd+enter",inFocus:!0})),u.a.createElement(I.a,{icon:"block",title:n("cancel"),cls:"bllc-cp-cancel",onClick:this.cancel,role:"conect-panel-cancel"}))}},{key:"tt",get:function(){return this.cx.t.pre("mods.content.panel.")}}])&&ge(t.prototype,n),r&&ge(t,r),i}(u.a.PureComponent),Se(pe,"propTypes",{panelDispatch:f.a.func.isRequired,data:f.a.array.isRequired,initial:f.a.array,updateAction:f.a.func}),Se(pe,"cxPropTypes",{lessonApi:f.a.object.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((se=ye).prototype,"render",[fe],Object.getOwnPropertyDescriptor(se.prototype,"render"),se.prototype),se),De=Object(v.c)(Te,["contentState"]);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?Be(e):t}function Be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=(Ee=Object(m.f)(["t","genT"]),ke=Object(m.g)("lessonApi"),Ce=xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(i,e);var t,n,r,o=Le(i);function i(){var e;ze(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return He(Be(e=o.call.apply(o,[this].concat(n))),"dispatch",(function(t){return(0,e.cx.lessonApi.modDispatch)("content",t)})),e}return t=i,r=[{key:"isActive",value:function(e){return e.state.content.isEditing}}],(n=[{key:"genT",value:function(){return s.a.gen(this.props.lang)}},{key:"render",value:function(e){var t=this.props,n=t.children,r=t.payload,o=void 0===r?{}:r,i=this.dispatch;return u.a.createElement("div",{className:"bllc-c-panel"},n,u.a.createElement(Q,{panelDispatch:i}),u.a.createElement(q,{panelDispatch:i}),u.a.createElement(de,{panelDispatch:i}),u.a.createElement(De,qe({panelDispatch:i},{updateAction:o.updateAction})))}}])&&Ie(t.prototype,n),r&&Ie(t,r),i}(u.a.PureComponent),He(xe,"propTypes",{lang:f.a.string.isRequired,payload:f.a.shape({updateAction:f.a.func})}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((_e=Ce).prototype,"render",[Ee,ke],Object.getOwnPropertyDescriptor(_e.prototype,"render"),_e.prototype),_e)},207:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),o=function(e){var t=Object(r.b)(e);return{start:t.createIgnore("START","id"),cancel:t.createIgnore("CANCEL","id"),val:t.createIgnore("VAL","id, title"),commit:t.create("COMMIT","id, title")}}},208:function(e,t,n){"use strict";var r=n(91),o=n.n(r),i=n(50),c=n.n(i),a=n(159),u=n.n(a),l=n(39),f=n.n(l),s=n(17),p=n.n(s),y=n(1),b=n.n(y),d=n(53),h=n.n(d);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t=function(e,t,n){var r=e.constructor,o=p()(r.cxPropTypes,t);if(o){var i=r.displayName||r.name,c=h()(j({},t,o),j({},t,n),t,i);c&&console.error(new Error("Incorrect context prop-types for "+"".concat(t," field in <").concat(i,"/>: ").concat(c)))}},n=function(t){return f()(t)?e[t].Consumer:t},r=function(e){return f()(e)?e:e[a]},i=function(t){return f()(t)?e[t].Provider:t},a=Symbol("ctxName");return{genNamedContext:function(e){var t=b.a.createContext();return t.Provider[a]=e,t.Consumer[a]=e,t},provideContext:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){var c=r.value;return r.value=function(){for(var e=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var u=c.apply.apply(c,[this].concat(r));return t.reduce((function(t,n){var r,c;if(Array.isArray(n)){var a=v(n,2),u=a[0],l=a[1];r=i(u),c=e[l],o()(c)&&(c=c.call(e,e.props))}else r=i(n),c=e.props[n];return b.a.createElement(r,{value:c},t)}),u)},r}},contextHOC:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=(t.displayName||t.name).replace(/Connect\(|\)/g,""),a="ContextHOC(".concat(i,", %key%)"),u=function(e,t){return t.displayName=a.replace("%key%",e),t},l=function(e,n){for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];var u=O(O({},e),c()(r,(function(e,t,n){e[t]=i[n]}),{}));return b.a.createElement(t,u)},f=[].concat(r).reverse();return f.map((function(t){return e[t].Consumer})).reduce((function(e,t,n){return u(f[n],(function(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return b.a.createElement(t,null,(function(t){return e.call.apply(e,[n].concat(o,[t]))}))}))}),l)},renderContext:function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return function(e,i,c){var a=c.value;return c.value=o.map((function(e){return{key:e,Consumer:n(e)}})).reverse().reduce((function(e,n){var o=n.key,i=n.Consumer;return function(){for(var n=this,c=arguments.length,a=new Array(c),l=0;l<c;l++)a[l]=arguments[l];return b.a.createElement(i,null,(function(i){var c=r(o);return u()(n,"cx.".concat(c),i),t(n,c,i),e.call.apply(e,[n].concat(a,[i]))}))}}),a),c}},i18nContext:function(n){return function(r,o,i){var c=i.value;return i.value=function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=e.t.Consumer;return b.a.createElement(l,null,(function(e){var o=e.pre(n);return u()(r,"cx.tt",o),u()(r,"cx.t",e),t(r,"tt",o),c.call.apply(c,[r].concat(i,[o]))}))},i}}}}},21:function(e,t,n){"use strict";n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return O})),n.d(t,"l",(function(){return j})),n.d(t,"q",(function(){return w})),n.d(t,"e",(function(){return P})),n.d(t,"o",(function(){return R})),n.d(t,"m",(function(){return S})),n.d(t,"n",(function(){return E})),n.d(t,"p",(function(){return k}));var r=n(50),o=n.n(r),i=n(8),c=n(5),a=n(102),u=function(e){return e.page},l=function(e){return e.data},f=function(e){return e.selected},s=Object(i.a)(u,l,(function(e,t){return t.pages[e]})),p=Object(i.a)(l,(function(e){return e.pages})),y=Object(i.a)(s,(function(e){return e.modules})),b=Object(i.a)(s,(function(e){return e.activeCategory})),d=Object(i.a)(s,(function(e){return e.categories})),h=Object(i.a)(y,(function(e){return o()(e,(function(e,t,n){e[t.id]=n}),{})})),v=function(e,t){return e.data.pages[t].modules},m=Object(i.a)(y,f,(function(e,t){return e.filter((function(e){return e.id in t})).map((function(e){return e.id}))})),g=Object(i.a)(y,f,(function(e,t){return e.every((function(e){return e.id in t}))})),O=Object(i.a)(y,f,(function(e,t){return e.some((function(e){return e.id in t}))})),j=function(e,t){return e.isEditing&&e.id.startsWith("m:".concat(t,":"))},w=function(e,t){t="active"===t?u(e):t;for(var n=v(e,t),r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=c.l.apply(void 0,[n].concat(o));return Object(c.p)(e,"data.pages.".concat(t,".modules"),a)},P=function(e){return s(e).chains},R=function(){return Object(i.a)((function(e){return P(e)}),(function(e,t){return t}),(function(e,t){return-1!==Object(a.c)(e,t)}))},S=function(){return Object(i.a)((function(e){return P(e)}),(function(e,t){return t}),(function(e,t){var n=Object(a.e)(e,t)+1;return n>3?3:n}))},E=function(){return Object(i.a)((function(e){return P(e)}),(function(e,t){return t}),(function(e,t){var n=Object(a.c)(e,t);return-1!==n&&3!==e[n].length}))},k=function(){return Object(i.a)((function(e){return P(e)}),(function(e){return y(e)}),(function(e,t){return t}),(function(e,t,n){var r=Object(a.d)(e,n);return!!r&&function(e,t){return e.some((function(e){return"simple"===t[e].type}))}(r,t)}))}},210:function(e,t,n){"use strict";var r=n(159),o=n.n(r),i=n(154),c=n(604),a=n(605),u=n(606),l=n(607),f=n(608),s=n(609),p=n(610),y=n(611),b=n(612),d=n(613);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=[c,a,u,f,s,l,p,y,b,d].reduce((function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++)for(var i=h(r[n],2),c=i[0],a=i[1],u=0,l=Object.entries(a);u<l.length;u++){var f=h(l[u],2),s=f[0],p=f[1];o()(e,[c,"mods",s],p)}return e}),{}),g=new i.a({list:["ru","kz","en"],labels:{ru:"Русский",kz:"Қазақ",en:"English"},fallbackPath:["ru","kz","en"]}).mix(m);t.a=g},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return p}));var r=n(143),o=n.n(r),i=n(6),c=n(69),a=n(2);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=Object(a.b)("MOD_CON").async("PASTE",(function(e,t,n){return function(r,o){return r({type:e,cid:t,mode:n,copyData:o("clipboard").data})}})),p=f({},s.type,(function(e,t){var n=t.cid,r=t.mode,a=t.copyData,u=e.data,f=function(e,t){var n=i.a.getNextExpId(t),r=n&&i.a.expNumId(n),c=o()(e);return i.a.filterDeep([c],i.a.isExpression).forEach((function(e){e.id="e".concat(r),++r})),i.a.filterDeep([c],"formula").forEach((function(e){e.fid=null})),c}(a,u),s="into"===r?n:i.a.up(n),p="into"===r?i.a.length(i.a.get(u,n)||u,n):i.a.lastIndex(n)+("before"===r?0:1),y=function(e,t,n,r){var o=i.a.get(e,t)||e,c=i.a.splice(o,n,0,r);return i.a.upd(e,t,c)}(u,s,p,f),b=i.a.get(y,s)||u,d=i.a.childCid(b,s,p);return{state:l(l({},e),{},{data:y,sel:Object(c.e)(y,d)})}}))},212:function(e,t,n){"use strict";var r=n(30);n.d(t,"a",(function(){return r.k}))},213:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(0),o=n.n(r),i=o.a.shape({color:o.a.string,underline:o.a.string,content:o.a.array.isRequired}),c=o.a.shape({content:o.a.array.isRequired,marks:o.a.arrayOf(i).isRequired}).isRequired},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),o=Object(r.b)("CATEGORY").createIgnore("SET","name")},215:function(e,t,n){"use strict";var r=n(141);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.c}))},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return qn}));var r=n(1),o=n.n(r),i=n(0),c=n.n(i);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,r,i=s(c);function c(){var e;u(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(y(e=i.call.apply(i,[this].concat(n))),"dnd",null),d(y(e),"onMouseDown",(function(t){var n=e.props,r=n.onGridMove,o=n.k;r&&o.kx&&(e.dnd=!0,t.preventDefault(),document.body.addEventListener("mousemove",e.onMouseDragMove),document.body.addEventListener("mouseup",e.onMouseDragUp))})),d(y(e),"onMouseDragMove",(function(t){e.dnd&&e.gridMove(t)})),d(y(e),"onMouseDragUp",(function(t){document.body.removeEventListener("mousemove",e.onMouseDragMove),document.body.removeEventListener("mouseup",e.onMouseDragUp),e.props.onGridMove(0,0,!0),e.dnd=null})),e}return t=c,(n=[{key:"gridMove",value:function(e,t){var n=e.movementX,r=e.movementY,o=this.props,i=o.k;(0,o.onGridMove)(n/i.kx,r/i.ky,t)}},{key:"wrap",value:function(e){var t={onMouseDown:this.onMouseDown};return o.a.Children.map(e,(function(e){return e&&e.type.isSvgBox?o.a.cloneElement(e,t):e}))}},{key:"render",value:function(){var e=this.props,t=e.cls,n=e.children;return o.a.createElement("div",{className:t},this.wrap(n))}}])&&l(t.prototype,n),r&&l(t,r),c}(o.a.PureComponent);d(h,"propTypes",{k:c.a.object.isRequired,cls:c.a.string.isRequired,onGridMove:c.a.func});var v=n(52),m=n.n(v),g=n(57),O=n.n(g),j=n(8),w=n(27);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C,T,D,A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(c,e);var t,n,r,i=k(c);function c(){return R(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.mode,n=e.coord,r=e.isEnabled,i=e.kx;if(!r)return null;var c=Object(w.g)(t,n,i);return o.a.createElement("polygon",{points:c})}}])&&S(t.prototype,n),r&&S(t,r),c}(o.a.PureComponent);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}C=A,T="propTypes",D={coord:c.a.number.isRequired,mode:c.a.oneOf(["hor","ver"]),isEnabled:c.a.bool.isRequired,kx:c.a.number.isRequired},T in C?Object.defineProperty(C,T,{value:D,enumerable:!0,configurable:!0,writable:!0}):C[T]=D;var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(c,e);var t,n,r,i=M(c);function c(){return I(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.mode,n=e.main,r=e.ortoBounds,i=n.bounds;return!n.isEnabled||r[0]>0?null:o.a.createElement("line",z({key:"axis.".concat(t)},Object(w.h)(t,0,i)))}}])&&N(t.prototype,n),r&&N(t,r),c}(o.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(H,"propTypes",{ortoBounds:c.a.arrayOf(c.a.number).isRequired,mode:c.a.oneOf(["hor","ver"]).isRequired,main:c.a.shape({isEnabled:c.a.bool.isRequired,bounds:c.a.arrayOf(c.a.number).isRequired}).isRequired});var F=n(126);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(c,e);var t,n,r,i=J(c);function c(){return K(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"addGridLine",value:function(e,t,n,r,o){0===n&&!0!==o||t.push({pos:n,attr:Object(w.h)(e,n,r)})}},{key:"genRegionLines",value:function(e){for(var t=this.props,n=t.main,r=[],o=V(t.ortoBounds,2),i=o[0],c=o[1],a=Math.max(i,n.step);a<c;a+=n.step)this.addGridLine(e,r,a,n.bounds);for(var u=Math.min(c,-n.step);u>i;u-=n.step)this.addGridLine(e,r,u,n.bounds);return n.isEnabled||this.addGridLine(e,r,0,n.bounds,!0),r}},{key:"render",value:function(){var e=this.props,t=e.mode,n=e.main,r=e.tt;if(!n.useGrid)return null;var i=this.genRegionLines(t),c=i.length>50?[r("meshTooSmall")]:[];return o.a.createElement("g",{key:t,className:"bllx-plot-mesh-".concat(t)},o.a.createElement(F.a,{errors:c}),c.length?null:i.map((function(e,n){return o.a.createElement("line",G({key:"".concat(t,".").concat(e.pos)},e.attr))}),this))}}])&&X(t.prototype,n),r&&X(t,r),c}(o.a.PureComponent);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ee,"propTypes",{ortoBounds:c.a.arrayOf(c.a.number).isRequired,mode:c.a.oneOf(["hor","ver"]).isRequired,main:c.a.shape({isEnabled:c.a.bool.isRequired,useGrid:c.a.bool.isRequired,bounds:c.a.arrayOf(c.a.number).isRequired}).isRequired,tt:c.a.func.isRequired});var ue=c.a.shape({useGrid:c.a.bool.isRequired,isEnabled:c.a.bool.isRequired,bounds:c.a.arrayOf(c.a.number).isRequired}).isRequired,le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(c,e);var t,n,r,i=ie(c);function c(){return ne(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.axis,n=e.kx,r=e.tt,i=t.hor,c=t.ver;return o.a.createElement("g",{className:"bllx-plot-grid-box"},o.a.createElement("g",{className:"bllx-plot-grid"},o.a.createElement(ee,{mode:"hor",main:i,ortoBounds:c.bounds,tt:r}),o.a.createElement(ee,{mode:"ver",main:c,ortoBounds:i.bounds,tt:r})),o.a.createElement("g",{className:"bllx-plot-axis"},o.a.createElement(H,{mode:"hor",main:i,ortoBounds:c.bounds}),o.a.createElement(H,{mode:"ver",main:c,ortoBounds:i.bounds})),o.a.createElement("g",{className:"bllx-plot-arrows"},o.a.createElement(A,{mode:"hor",coord:i.bounds[1],isEnabled:i.isEnabled,kx:n}),o.a.createElement(A,{mode:"ver",coord:c.bounds[1],isEnabled:c.isEnabled,kx:n})))}}])&&re(t.prototype,n),r&&re(t,r),c}(o.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(le,"propTypes",{axis:c.a.shape({hor:ue,ver:ue}).isRequired,kx:c.a.number.isRequired,tt:c.a.func.isRequired});var fe=n(620);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(c,e);var t,n,r,i=he(c);function c(){return ye(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"getCurves",value:function(){var e=this.props,t=e.curves,n=e.roles,r=new Set(n.split(","));return t.filter((function(e){return r.has(function(e){return e.role||"display"}(e))}))}},{key:"render",value:function(){var e=this.props,t=e.k,n=e.tt,r=e.wpoint,i=e.boundsHor,c=e.boundsVer,a=e.stepHor,u=e.stepVer;return o.a.createElement("g",{className:"bllx-plot-curves"},this.getCurves().map((function(e,l){return o.a.createElement(fe.a,pe({key:"".concat(e.fnX,"-").concat(e.fnY,"-").concat(l)},{k:t,tt:n,curve:e,boundsHor:i,boundsVer:c,stepHor:a,stepVer:u,wpoint:r}))}),this))}}])&&be(t.prototype,n),r&&be(t,r),c}(o.a.PureComponent);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var o=_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ge,"propTypes",{curves:c.a.arrayOf(c.a.object).isRequired,boundsHor:c.a.arrayOf(c.a.number).isRequired,boundsVer:c.a.arrayOf(c.a.number).isRequired,stepHor:c.a.number.isRequired,stepVer:c.a.number.isRequired,k:c.a.object.isRequired,tt:c.a.func.isRequired,roles:c.a.string.isRequired,wpoint:c.a.object});var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(c,e);var t,n,r,i=Ee(c);function c(){return Pe(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"genTextAttr",value:function(e){var t=this.props,n=t.kx,r=t.mode,o=t.axis,i=t.size,c=o.legendPlace,a=Object(w.i)(r,n,c,e,i),u=a.x,l=a.y,f=a.textAnchor;return{key:e,fontSize:Object(w.l)(i,n),x:u,y:l,textAnchor:f}}},{key:"addText",value:function(e,t){e.push({label:m()(t,w.a),attr:this.genTextAttr(t)})}},{key:"getTexts",value:function(){for(var e=this.props.axis,t=e.bounds,n=e.legendStep,r=je(t,2),o=r[0],i=r[1],c=[],a=n;a<=i;a+=n)this.addText(c,a);for(var u=-n;u>=o;u-=n)this.addText(c,u);return c}},{key:"render",value:function(){var e=this.props,t=e.mode,n=e.axis,r=e.tt;if(!n.isEnabled||0===n.legendStep)return null;var i=this.getTexts(t),c="bllx-plot-legend-".concat(t," ")+"bllx-plot-legend-".concat(n.legendPlace),a=i.length>50?[r("legendTooSmall")]:[];return o.a.createElement("g",{key:"legend.".concat(t),className:c},o.a.createElement(F.a,{errors:a}),a.length?null:i.map((function(e,t){return o.a.createElement("text",e.attr,e.label)}),this))}}])&&Re(t.prototype,n),r&&Re(t,r),c}(o.a.PureComponent);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ze(this,n)}}function ze(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xe,"propTypes",{mode:c.a.oneOf(["hor","ver"]).isRequired,axis:c.a.shape({isEnabled:c.a.bool.isRequired,legendStep:c.a.number.isRequired,bounds:c.a.arrayOf(c.a.number).isRequired,legendPlace:c.a.oneOf(["before","after"]).isRequired}).isRequired,kx:c.a.number.isRequired,size:c.a.string,tt:c.a.func.isRequired});var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(c,e);var t,n,r,i=qe(c);function c(){return Te(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"genPointAttrs",value:function(){var e=this.props,t=e.place,n=e.mode,r=e.coord,o=e.axisNamePlace,i=e.kx,c=Object(w.l)("medium",i),a=Object(w.j)(n,i,r,t,o);return{x:a.x,y:a.y,textAnchor:a.textAnchor,fontSize:c}}},{key:"render",value:function(){if(!this.props.isEnabled)return null;var e=this.props.label,t=this.genPointAttrs();return o.a.createElement("text",t,e)}}])&&De(t.prototype,n),r&&De(t,r),c}(o.a.PureComponent);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ne,"propTypes",{mode:c.a.oneOf(["hor","ver"]).isRequired,place:c.a.oneOf(["before","after"]).isRequired,axisNamePlace:c.a.oneOf(["auto","before","after"]),label:c.a.string.isRequired,coord:c.a.number.isRequired,kx:c.a.number.isRequired,isEnabled:c.a.bool.isRequired});var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(c,e);var t,n,r,i=He(c);function c(){return Me(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"genAttrs",value:function(){var e,t,n=this.props,r=n.hor,o=n.ver,i=n.horEnabled,c=n.verEnabled,a=n.kx,u=n.size,l=Object(w.l)(u,a);if(c)if(i){var f="small"===u,s=f?Object(w.c)(r):r,p=f?Object(w.c)(o):o,y=Object(w.i)("ver",a,p,0,u);e={y:Object(w.i)("hor",a,s,0,u).y,x:y.x},t=y.textAnchor}else e=Object(w.i)("ver",a,o,0,u),t="after"===o?"start":"end";else e=Object(w.i)("hor",a,r,0,u),t="middle";return{x:e.x,y:e.y,fontSize:l,textAnchor:t}}},{key:"render",value:function(){var e=this.props,t=e.horEnabled,n=e.verEnabled;return t||n?o.a.createElement("text",this.genAttrs(),"O"):null}}])&&Be(t.prototype,n),r&&Be(t,r),c}(o.a.PureComponent);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var o=Qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ge,"propTypes",{hor:c.a.oneOf(["before","after"]).isRequired,ver:c.a.oneOf(["before","after"]).isRequired,horEnabled:c.a.bool.isRequired,verEnabled:c.a.bool.isRequired,size:c.a.string.isRequired});var et=c.a.shape({legendPlace:c.a.oneOf(["before","after"]),isEnabled:c.a.bool.isRequired,label:c.a.string,bounds:c.a.arrayOf(c.a.number)}).isRequired,tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(c,e);var t,n,r,i=Je(c);function c(){return Ke(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.axis,n=e.kx,r=e.tt,i=t.hor,c=t.ver,a=Object(w.d)(i.bounds,i.legendStep,n);return o.a.createElement("g",{className:"bllx-plot-legend"},o.a.createElement("g",{className:"bllx-plot-legend-axis-box"},o.a.createElement(xe,$e({mode:"hor"},{kx:n,size:a,tt:r},{axis:i})),o.a.createElement(xe,$e({mode:"ver",axis:c},{kx:n,size:a,tt:r}))),o.a.createElement("g",{className:"bllx-plot-legend-axis-names"},o.a.createElement(Ne,$e({kx:n,tt:r},{mode:"hor",isEnabled:i.isEnabled,axisNamePlace:i.axisNamePlace,place:i.legendPlace,label:i.label||"X",coord:i.bounds[1]})),o.a.createElement(Ne,$e({kx:n,tt:r},{mode:"ver",isEnabled:c.isEnabled,axisNamePlace:c.axisNamePlace,place:c.legendPlace,label:c.label||"Y",coord:c.bounds[1]})),o.a.createElement(Ge,$e({kx:n,size:a,tt:r},{ver:c.legendPlace,horEnabled:i.isEnabled,verEnabled:c.isEnabled,hor:i.legendPlace}))))}}])&&Xe(t.prototype,n),r&&Xe(t,r),c}(o.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(tt,"propTypes",{axis:c.a.shape({hor:et,ver:et}).isRequired,kx:c.a.number.isRequired,tt:c.a.func.isRequired});var nt=n(2);function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st(e);if(t){var o=st(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?ft(e):t}function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(c,e);var t,n,r,i=ut(c);function c(){var e;it(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pt(ft(e=i.call.apply(i,[this].concat(n))),"onClick",(function(){var t=e.props.point;(0,t.onClick)(t.id)})),e}return t=c,(n=[{key:"genLabel",value:function(){var e=this.props,t=e.plotMode,n=e.point,r=n.role,i=n.display,c=n.label;return"choose"===r||"edit"!==t?c:"failure"===i?[c,o.a.createElement("tspan",{key:"ts"},"×")]:"success"===i?[c,o.a.createElement("tspan",{key:"ts"},"✓")]:c}},{key:"render",value:function(){var e=this.props,t=e.point,n=e.kx,r=Object(w.l)("big",n);return o.a.createElement("g",{"data-point":t.label,"data-display":t.display||"always","data-role":t.role||"display",style:{"--bllx-plot-c":t.color},onClick:Object(nt.v)(t.onClick&&this.onClick),"data-clickable":!t.onClick,className:t.cls},o.a.createElement("circle",{cx:t.x,cy:Object(w.p)(t.y),r:w.b/n}),o.a.createElement("text",ot({},Object(w.n)(t,n),{fontSize:r}),this.genLabel()))}}])&&ct(t.prototype,n),r&&ct(t,r),c}(o.a.PureComponent);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}pt(yt,"propTypes",{point:c.a.shape({x:c.a.number.isRequired,y:c.a.number.isRequired,label:c.a.string.isRequired,color:c.a.string,placement:c.a.oneOf(["top-left","top-right","bottom-left","bottom-right"]),role:c.a.oneOf(["choose","display"]),display:c.a.oneOf(["always","failure","success"]),id:c.a.any,onClick:c.a.func,cls:c.a.string}).isRequired,kx:c.a.number.isRequired,plotMode:c.a.string});var wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(c,e);var t,n,r,i=gt(c);function c(){return ht(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.points,n=e.plotMode,r=e.kx;return o.a.createElement("g",{className:"bllx-plot-points"},t.map((function(e,t){return o.a.createElement(yt,dt({key:t},{point:e,kx:r,plotMode:n}))}),this))}}])&&vt(t.prototype,n),r&&vt(t,r),c}(o.a.PureComponent);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Et(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||Et(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=At(e);if(t){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?Dt(e):t}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(wt,"propTypes",{kx:c.a.number.isRequired,points:c.a.array.isRequired,plotMode:c.a.string});var qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(i,e);var t,n,r,o=Ct(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Dt(t=o.call(this,e)),"evtName",(function(e){return e.substr(2).toLowerCase()})),e.node&&t.on(e.node),t}return t=i,(n=[{key:"genListeners",value:function(e){return Object.entries(e).map((function(e){var t=St(e,2);return{key:t[0],fn:t[1]}})).filter((function(e){return e.key.startsWith("on")}))}},{key:"on",value:function(e){var t,n=Rt(this.genListeners(this.props));try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r.key,i=r.fn;this.onEvt(o,i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"off",value:function(e){var t,n=Rt(this.genListeners(this.props));try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r.key,i=r.fn;this.offEvt(o,i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"onEvt",value:function(e,t){this.props.node&&this.props.node.addEventListener(this.evtName(e),t)}},{key:"offEvt",value:function(e,t){this.props.node&&this.props.node.removeEventListener(this.evtName(e),t)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props;if(e.node!==t.node)return this.off(t.node),void this.on(e.node);var n=this.genListeners(t),r=this.genListeners(e);return O()(n,r)?void 0:(this.off(t.node),void this.on(e.node))}},{key:"componentWillUnmount",value:function(){this.off(this.props.node)}},{key:"render",value:function(){return this.props.children}}])&&_t(t.prototype,n),r&&_t(t,r),i}(o.a.PureComponent);function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ut(e);if(t){var o=Ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mt(this,n)}}function Mt(e,t){return!t||"object"!==zt(t)&&"function"!=typeof t?Bt(e):t}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=function(e){return"".concat(e.x,":").concat(e.y)},Wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(c,e);var t,n,r,i=Lt(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),Ht(Bt(t=i.call(this,e)),"genIgnoreSet",Object(j.a)((function(e){return e.ignore}),(function(e){return new Set(e.map(Ft))}))),Ht(Bt(t),"onMove",(function(e){if(!t.state.blocked){var n=t.getPoint(e),r=n&&t.canSetPoint(n)?n:null;t.shallowSetState("coords",r)}})),Ht(Bt(t),"onSet",(function(e){if(!t.state.blocked&&!e.target.closest("g[data-clickable]")){var n=t.props.onSetPoint,r=t.getPoint(e);n&&r&&(n(r),t.shallowSetState("coords",null))}})),Ht(Bt(t),"onLeave",(function(){t.shallowSetState("coords",null)})),window.TEST||(t.svgPoint=Object(w.o)(e.svg)),t.state={coords:null,blocked:!1},t}return t=c,(n=[{key:"setAsyncState",value:function(e){var t=this;return new Promise((function(n){t._disposed||t.setState(e,n)}))}},{key:"shallowSetState",value:function(e,t){var n=this.state[e];return!n&&t||!O()(n,t)?this.setAsyncState(Ht({},e,t)):null}},{key:"block",value:function(){this.shallowSetState("blocked",!0)}},{key:"unblock",value:function(){this.shallowSetState("blocked",!1)}},{key:"render",value:function(){var e=this.state,t=e.coords,n=e.blocked,r=this.props,i=r.svg,c=r.k;return r.onSetPoint?o.a.createElement(qt,{node:i,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onClick:this.onSet},t&&!n?o.a.createElement("circle",{className:"bllx-plot-wpoint",cx:t.x,cy:Object(w.p)(t.y),r:w.b/c.kx}):null):null}},{key:"canSetPoint",value:function(e){return!this.genIgnoreSet(this.props).has(Ft(e))}},{key:"getPoint",value:function(e){if(window.TEST)return{x:e.x,y:e.y};var t=this.props,n=t.axis,r=t.k,o=this.svgPoint.convert(e);return Object(w.m)(n,o,r)}}])&&It(t.prototype,n),r&&It(t,r),c}(o.a.PureComponent);function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qt(e);if(t){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jt(this,n)}}function Jt(e,t){return!t||"object"!==Gt(t)&&"function"!=typeof t?Zt(e):t}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ht(Wt,"propTypes",{svg:c.a.object.isRequired,onSetPoint:c.a.func,k:c.a.object.isRequired,axis:c.a.object.isRequired,ignore:c.a.arrayOf(c.a.shape({x:c.a.number.isRequired,y:c.a.number.isRequired})).isRequired});var tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(c,e);var t,n,r,i=Yt(c);function c(){var e;$t(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return en(Zt(e=i.call.apply(i,[this].concat(n))),"state",{wpoint:null}),en(Zt(e),"setWPoint",(function(t){e.setState({wpoint:t})})),en(Zt(e),"genIgnorePoints",Object(j.a)((function(e){return e.graph.points}),(function(e){return e.filter((function(e){return"choose"!==e.role}))}))),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.graph,n=e.k,r=e.t,i=e.svg,c=e.onSetPoint,a=e.plotMode,u=t.curves,l=t.points,f=t.bg,s=r.pre("mods.plot."),p=this.state.wpoint,y=f.axis,b=y.hor,d=y.ver,h=b.bounds,v=d.bounds,m=b.step,g=d.step;return[o.a.createElement(le,{axis:f.axis,kx:n.kx,tt:s,key:"grid"}),o.a.createElement(ge,Vt({k:n,tt:s,svg:i,boundsHor:h,boundsVer:v,curves:u,plotMode:a,stepHor:m,stepVer:g},{key:"curves-display",roles:"display"})),o.a.createElement(tt,{axis:f.axis,kx:n.kx,tt:s,key:"legend"}),o.a.createElement(wt,Vt({kx:n.kx,tt:s,points:l,plotMode:a},{key:"points"})),o.a.createElement(Wt,Vt({key:"wpoint"},{k:n,svg:i,onSetPoint:c},{axis:f.axis,ref:this.setWPoint,ignore:this.genIgnorePoints(this.props)})),o.a.createElement(ge,Vt({k:n,tt:s,wpoint:p,boundsHor:h,boundsVer:v,curves:u,plotMode:a,stepHor:m,stepVer:g},{key:"curves-choose",roles:"choose,shift"}))]}}])&&Kt(t.prototype,n),r&&Kt(t,r),c}(o.a.PureComponent);en(tn,"propTypes",{graph:c.a.object.isRequired,k:c.a.object.isRequired,t:c.a.func.isRequired,svg:c.a.object.isRequired,onSetPoint:c.a.func});var nn=n(83);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(){return(on=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return an(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function un(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function ln(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){un(i,r,o,c,a,"next",e)}function a(e){un(i,r,o,c,a,"throw",e)}c(void 0)}))}}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hn(e);if(t){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bn(this,n)}}function bn(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?dn(e):t}function dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(c,e);var t,n,r,i=yn(c);function c(){var e;fn(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vn(dn(e=i.call.apply(i,[this].concat(n))),"state",{k:{kx:null,ky:null},boxStyle:{}}),vn(dn(e),"setSvg",function(){var t=ln(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.svg=n,n){t.next=3;break}return t.abrupt("return");case 3:if(!window.TEST){t.next=5;break}return t.abrupt("return");case 5:if("contain"!==e.props.sizeMode){t.next=10;break}return e.box=n.closest(".bllx-plot-box"),t.next=9,e.updContain();case 9:e.roBox=Object(nn.a)(dn(e),e.box,(function(){e.updContain()}));case 10:e.calculateK(),e.roSvg=Object(nn.a)(dn(e),n,e.calculateK);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),vn(dn(e),"componentWillReceiveProps",(function(t){"contain"===e.props.sizeMode&&e.box&&e.updContain(t)})),vn(dn(e),"calculateK",(function(){if(!e._disposed&&!window.TEST){var t=e.svg.getBoundingClientRect(),n=t.width,r=t.height,o=e.getBoundsSizes(e.props),i={kx:n/o.w,ky:r/o.h};e.shallowSetState("k",i)&&e.props.setK(i)}})),vn(dn(e),"setK",window.TEST&&function(t){e.shallowSetState("k",t),e.props.setK(t)}),vn(dn(e),"updContain",function(){var t=ln(regeneratorRuntime.mark((function t(n,r){var o,i,c,a,u,l,f,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getBoundsSizes(e.props),i=o.ar,c=e.box,a=c.clientWidth,u=c.clientHeight,i<a/u?(l=u*i,f=u):(l=a,f=a/i),s={left:(a-l)/2+"px",top:(u-f)/2+"px",width:l+"px",height:f+"px"},t.next=9,e.shallowSetState("boxStyle",s);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),vn(dn(e),"onMouseWheel",(function(t){var n=t.deltaY;e.props.onGridScroll(n<0)})),e}return t=c,(n=[{key:"setAsyncState",value:function(e){var t=this;return new Promise((function(n){t._disposed||t.setState(e,n)}))}},{key:"shallowSetState",value:function(e,t){var n=this.state[e];return!n&&t||!O()(n,t)?this.setAsyncState(vn({},e,t)):null}},{key:"genPaddingTop",value:function(){var e=this.getBoundsSizes(this.props),t=e.w,n=e.h,r=m()(n/t,3);return 1===r?null:"".concat(100*r,"%")}},{key:"genViewBox",value:function(e){var t=this.props.graph.bg.axis,n=t.hor,r=t.ver,o=cn(n.bounds,2),i=o[0],c=o[1],a=cn(r.bounds,2),u=a[0],l=a[1],f=c-i,s=l-u;return"".concat(i," ").concat(-l," ").concat(f," ").concat(s)}},{key:"getBoundsSizes",value:function(e){return Object(w.k)(e.graph.bg.axis)}},{key:"componentDidUpdate",value:function(){this.calculateK()}},{key:"genBoxStyles",value:function(){var e=this.props.sizeMode;return"width"===(void 0===e?"width":e)?{paddingTop:this.genPaddingTop()}:this.state.boxStyle}},{key:"genCssVariables",value:function(e){return{"--var-bllx-plot-kx":e.kx,"--var-bllx-plot-dash":3/e.kx}}},{key:"render",value:function(){var e=this.state.k,t=this.props,n=t.onSetPoint,r=t.onMouseDown,i=t.onGridScroll,c=e.kx>0,a=c&&n&&!0,u=Object(nt.h)(a&&"bllx-plot-wpointed",Object(nt.m)()&&"bllx-plot-safari");return o.a.createElement("div",on({className:"bllx-plot-svg-wrapper",style:this.genBoxStyles()},{onMouseDown:r},{onWheel:Object(nt.v)(c&&i&&this.onMouseWheel)}),o.a.createElement("svg",{viewBox:this.genViewBox(),ref:this.setSvg,style:this.genCssVariables(e),className:u},c?this.renderContent():null))}},{key:"renderContent",value:function(){var e=this.props,t=e.graph,n=e.t,r=e.onSetPoint,i=e.plotMode,c=this.state.k;return o.a.createElement(tn,on({graph:t,k:c,t:n,onSetPoint:r,plotMode:i},{svg:this.svg}))}},{key:"componentWillUnmount",value:function(){this.roBox&&this.roBox.dispose(),this.roSvg&&this.roSvg.dispose(),this._disposed=!0}}])&&sn(t.prototype,n),r&&sn(t,r),c}(o.a.PureComponent);vn(mn,"isSvgBox",!0),vn(mn,"propTypes",{t:c.a.func.isRequired,onSetPoint:c.a.func,sizeMode:c.a.oneOf(["width","contain"]),setK:c.a.func.isRequired,onMouseDown:c.a.func,onGridScroll:c.a.func,plotMode:c.a.string.isRequired});var gn,On,jn,wn,Pn=n(3);function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(){return(Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dn(e);if(t){var o=Dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cn(this,n)}}function Cn(e,t){return!t||"object"!==Rn(t)&&"function"!=typeof t?Tn(e):t}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qn=(gn=Object(Pn.f)([F.c.set.Provider,"getSetErrors"],[F.c.map.Provider,"getErrors"]),wn=jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(c,e);var t,n,r,i=xn(c);function c(){var e;En(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return An(Tn(e=i.call.apply(i,[this].concat(n))),"state",{k:{kx:null,ky:null},errors:{}}),An(Tn(e),"setK",(function(t){e.setState({k:t})})),An(Tn(e),"setErrors",(function(t){e.setState({errors:t})})),An(Tn(e),"getSetErrors",(function(){return e.setErrors})),e}return t=c,(n=[{key:"getErrors",value:function(){return this.state.errors}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.sizeMode,r=void 0===n?"width":n,i=e.graph,c=e.onSetPoint,a=e.onGridScroll,u=e.mode,l=this.state.k,f=Object(nt.h)("bllx-plot-box","bllx-plot-".concat(r),"bllx-plot-".concat(u));return o.a.createElement(h,Sn({k:l,cls:f},{onGridMove:this.props.onGridMove}),o.a.createElement(mn,Sn({t:t,graph:i,onSetPoint:c,sizeMode:r,onGridScroll:a},{plotMode:u,setK:this.setK})),o.a.createElement(F.b,null),this.renderEdit())}},{key:"renderEdit",value:function(){var e=this.props.children;return e?o.a.createElement("div",{className:"bllx-plot-controls"},e):null}}])&&kn(t.prototype,n),r&&kn(t,r),c}(o.a.PureComponent),An(jn,"propTypes",{graph:c.a.shape({bg:c.a.shape({axis:c.a.shape({hor:c.a.object.isRequired,ver:c.a.object.isRequired}).isRequired}).isRequired,curves:c.a.arrayOf(c.a.object).isRequired}).isRequired,sizeMode:c.a.oneOf(["width","height","contain"]),t:c.a.func.isRequired,onGridMove:c.a.func,onGridScroll:c.a.func,onSetPoint:c.a.func,mode:c.a.oneOf(["edit","active","disabled"]).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((On=wn).prototype,"render",[gn],Object.getOwnPropertyDescriptor(On.prototype,"render"),On.prototype),On)},218:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r,o=n(55),i=n.n(o),c=n(209),a=n.n(c),u=n(1),l=n.n(u),f=n(0),s=n.n(f);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function b(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function d(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){d(i,r,o,c,a,"next",e)}function a(e){d(i,r,o,c,a,"throw",e)}c(void 0)}))}}function v(){return(v=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return b(n(1079))}));case 2:return(t=window.THREE=e.sent).XHRLoader=t.FileLoader,e.next=6,Promise.all([Promise.resolve().then((function(){return b(n(1080))}))]);case 6:Object.assign(m,window.THREE);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m={load:function(){return r||(r=function(){return v.apply(this,arguments)}()),r}},g=m,O=(n(1081),n(23)),j=n.n(O),w=n(176),P=n.n(w),R=new Map;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window._trackChanges=function(e){function t(t,n,r,o){var i=e.constructor.name;console.log("".concat(i,": ").concat(t,".").concat(n," %o, %o"),r,o)}function n(e,n,r){if(!n||!r)return!1;var o=!1;return P()(n,(function(n,i){n!==r[i]&&(o=!0,t(e,i,n,r[i]))})),o}var r=R.get(e),o=j()(e,"props","state");r&&(n("props",r.props,o.props)||n("state",r.state,o.state)||t("empty-render","none",null,null)),R.set(e,o)};var _={start:new Event("bllxAjaxStart"),end:new Event("bllxAjaxEnd")},x=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=E(E({},n),{},{credentials:"include",headers:E(E({},n.headers||{}),{},{pragma:"no-cache","cache-control":"no-cache"})});document.dispatchEvent(_.start);for(var o=arguments.length,i=new Array(o>2?o-2:0),c=2;c<o;c++)i[c-2]=arguments[c];return(t=window).fetch.apply(t,[e,r].concat(i)).then((function(e){return document.dispatchEvent(_.end),e})).catch((function(e){return document.dispatchEvent(_.end),Promise.reject(e)}))},C=function(){return x.apply(void 0,arguments).then((function(e){return e.json()}))};function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){D(i,r,o,c,a,"next",e)}function a(e){D(i,r,o,c,a,"throw",e)}c(void 0)}))}}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=0,F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(u,e);var t,n,r,o,c=N(u);function u(){var e;q(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return U(M(e=c.call.apply(c,[this].concat(n))),"state",{isLibLoaded:!1,isRenderReady:!1}),U(M(e),"onMove",i()((function(t){t.type;var n=t.target,r=e.genProjectionInfo(n),o=e.props,i=o.onMove,c=o.projection;if(!e.isEqProjections(r,c)){var a=e.isEqProjections(e.initProjection,r);a&&c?i(null):a||i(r)}}),200)),U(M(e),"setBlock",function(){var t=A(regeneratorRuntime.mark((function t(n){var r,o,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.tmid=++H,n){t.next=3;break}return t.abrupt("return");case 3:return e.block=n,t.next=6,g.load();case 6:return e.setState({isLibLoaded:!0}),e.scene=e.prepareScene(),t.next=10,e.loadModel();case 10:if(r=t.sent,!e.unmounted){t.next=13;break}return t.abrupt("return");case 13:e.scene.add(r),o=(new g.Box3).setFromObject(r),i=o.getSize(),e.camera=e.prepareCamera(i),e.renderer=e.prepareRenderer(),e.controls=e.prepareControls(),e.setState({isRenderReady:!0}),(c=e.props.projection)&&e.setProjection(c),e.render3d();case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),U(M(e),"render3d",(function(){if(!e.unmounted){var t=e.getDimentions(),n=t.w,r=t.h;e.camera.aspect=n/r,e.renderer.setSize(n,r),e.camera.updateProjectionMatrix(),e.controls.update(),e.updBgColor(),e.renderer.render(e.scene,e.camera),e.props.onLoad&&e.props.onLoad(),requestAnimationFrame(e.render3d)}})),e}return t=u,(n=[{key:"prepareScene",value:function(){var e=new g.Scene;return this.setLights(e),e}},{key:"setLights",value:function(e){var t=new g.AmbientLight(16777215,1),n=new g.Color("hsl(30, 100%, 75%)"),r=new g.DirectionalLight(n,1);r.position.set(-100,0,100);var o=new g.Color("hsl(240, 100%, 75%)"),i=new g.DirectionalLight(o,.75);i.position.set(100,0,100);var c=new g.DirectionalLight(16777215,1);c.position.set(100,0,-100).normalize();for(var a=0,u=[t,r,i,c];a<u.length;a++){var l=u[a];e.add(l)}}},{key:"url",value:function(e){var t=this.props,n=t.path,r=t.hash;return"".concat(n,"/").concat(e,"?").concat(r)}},{key:"loadModel",value:(o=A(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(this.url("index.json"));case 2:return t=e.sent,e.next=5,new Promise((function(e){var n=new g.ObjectLoader;n.setTexturePath(r.props.path+"/"),n.parse(t,e)}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"hexToRgb",value:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"rgb("+parseInt(t[1],16)+"%, "+parseInt(t[2],16)+"%, "+parseInt(t[3],16)+"%);":null}},{key:"prepareRenderer",value:function(){var e=new g.WebGLRenderer;return e.setPixelRatio(window.devicePixelRatio),this.block.appendChild(e.domElement),e}},{key:"getDimentions",value:function(){var e=this.block;return{w:e.scrollWidth,h:e.scrollHeight}}},{key:"prepareCamera",value:function(e){var t=this.getDimentions(),n=t.w/t.h,r=new g.PerspectiveCamera(45,n,1,1e3),o=a()([e.x,e.y,e.z])/2/n/Math.tan(Math.PI*r.fov/360);return r.position.z=1.3*o,r}},{key:"prepareControls",value:function(){var e=new g.OrbitControls(this.camera,this.renderer.domElement);return e.enableDamping=!0,e.dampingFactor=.25,e.enableZoom=!0,this.props.onMove&&e.addEventListener("change",this.onMove),this.initProjection=this.genProjectionInfo(e),e}},{key:"setProjection",value:function(e){var t=this.controls,n=t.object;t.target.fromArray(e.target),n.position.fromArray(e.position),n.zoom=e.zoom,n.updateProjectionMatrix()}},{key:"isEqNumbers",value:function(e,t){return Math.abs(e-t)<1e-7}},{key:"isEqArr",value:function(e,t){var n=this;return e.every((function(e,r){return n.isEqNumbers(e,t[r])}))}},{key:"isEqProjections",value:function(e,t){return e&&t&&e.zoom===t.zoom&&this.isEqArr(e.position,t.position)&&this.isEqArr(e.target,t.target)}},{key:"genProjectionInfo",value:function(e){var t=e.target,n=e.object;return{target:t.toArray(),zoom:n.zoom,position:n.position.toArray()}}},{key:"updBgColor",value:function(){var e=this.props.bgColor,t=e?this.hexToRgb(e):"hsl(0, 0%, 95%)";this.renderer.setClearColor(new g.Color(t))}},{key:"componentWillReceiveProps",value:function(e){var t=e.projection,n=this.props.projection;n&&!t?this.controls.reset():t&&!this.isEqProjections(n,t)&&this.setProjection(t)}},{key:"render",value:function(){return l.a.createElement("div",{className:"bllx-three-container",ref:this.setBlock})}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}}])&&z(t.prototype,n),r&&z(t,r),u}(l.a.PureComponent);U(F,"propTypes",{path:s.a.string.isRequired,hash:s.a.string.isRequired,onLoad:s.a.func,bgColor:s.a.string,projection:s.a.shape({zoom:s.a.number.isRequired,position:s.a.array.isRequired})})},219:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return N}));var r=n(1),o=n.n(r),i=n(0),c=n.n(i),a=n(215),u=n(125),l=n(158);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,n,r,i=d(c);function c(){var e;p(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(v(e=i.call.apply(i,[this].concat(n))),"onChange",(function(t){var n=e.props,r=n.id,o=n.mask;(0,n.onChange)(r,{mask:o,val:t})})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.bounds,r=e.value,i=e.disabled,c=e.status;return o.a.createElement(l.a,s({cls:"bllp-c-formula-input",style:n,onChange:this.onChange,"data-fid":t,value:r?r.val:""},{status:c,disabled:i}))}}])&&y(t.prototype,n),r&&y(t,r),c}(o.a.PureComponent);g(O,"propTypes",{bounds:c.a.object.isRequired,mask:c.a.string.isRequired,value:c.a.shape({val:c.a.string.isRequired,mask:c.a.string.isRequired}),id:c.a.string.isRequired,onChange:c.a.func.isRequired,disabled:c.a.bool.isRequired,status:c.a.string});var j,w,P,R,S=n(3);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e,t){return"".concat(e,".").concat(t)},N=(j=Object(S.g)("cprops","cpayload"),R=P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(c,e);var t,n,r,i=T(c);function c(){var e;_(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return z(A(e=i.call.apply(i,[this].concat(n))),"onChange",(function(t,n){(0,e.cx.cpayload.onChange)(t,n.val.length?n:void 0)})),z(A(e),"state",{controls:[]}),z(A(e),"setRef",(function(t){if(t){var n=e.props.data.fid,r=Array.from(t.querySelectorAll("input")).map((function(e,t){return{bounds:u.a.calcBounds(e),id:I(n,t),mask:e.getAttribute("data-value"),kind:"input"}}));r&&e.setState({controls:r})}})),e}return t=c,(n=[{key:"getControlVal",value:function(e,t){var n=e.id;return(t.val||{})[n]}},{key:"getControlStatus",value:function(e,t){var n=e.id,r=t.status;return(void 0===r?{}:r)[n]}},{key:"render",value:function(e,t){var n=e.getFormula,r=this.props.data,i=n(r.latex),c=this.state.controls,u=t.isReadonly;return i&&i.svg?o.a.createElement("div",{className:"bllp-c-formula","data-fid":r.fid},o.a.createElement("div",{className:"bllp-mathjax-svg",dangerouslySetInnerHTML:{__html:i.svg},ref:this.setRef}),c.map((function(e,n){return o.a.createElement(O,k({},e,{key:e.id,onChange:this.onChange,value:this.getControlVal(e,t),status:this.getControlStatus(e,t),disabled:u}))}),this)):o.a.createElement(a.a,{err:"err:formula(".concat(r.latex,")")})}}])&&x(t.prototype,n),r&&x(t,r),c}(o.a.PureComponent),z(P,"isContentItem",!0),z(P,"propTypes",{data:c.a.shape({fid:c.a.string.isRequired,latex:c.a.string.isRequired,type:c.a.string.isRequired}).isRequired}),z(P,"cxPropTypes",{cpayload:c.a.shape({isReadonly:c.a.bool.isRequired,onChange:c.a.func,status:c.a.object,val:c.a.object}).isRequired,cprops:c.a.shape({getFormula:c.a.func.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((w=R).prototype,"render",[j],Object.getOwnPropertyDescriptor(w.prototype,"render"),w.prototype),w)},22:function(e,t,n){"use strict";n.d(t,"B",(function(){return b})),n.d(t,"u",(function(){return d})),n.d(t,"i",(function(){return h})),n.d(t,"w",(function(){return v})),n.d(t,"y",(function(){return m})),n.d(t,"z",(function(){return g})),n.d(t,"x",(function(){return O})),n.d(t,"k",(function(){return j})),n.d(t,"h",(function(){return w})),n.d(t,"t",(function(){return P})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return S})),n.d(t,"s",(function(){return E})),n.d(t,"j",(function(){return k})),n.d(t,"n",(function(){return _})),n.d(t,"v",(function(){return x})),n.d(t,"A",(function(){return C})),n.d(t,"e",(function(){return D})),n.d(t,"b",(function(){return A})),n.d(t,"f",(function(){return q})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return I})),n.d(t,"a",(function(){return N})),n.d(t,"g",(function(){return L})),n.d(t,"q",(function(){return B})),n.d(t,"o",(function(){return U})),n.d(t,"r",(function(){return H})),n.d(t,"p",(function(){return F}));var r=n(38),o=n(19),i=n(14),c=n(2),a=n(10);function u(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){u(i,r,o,c,a,"next",e)}function a(e){u(i,r,o,c,a,"throw",e)}c(void 0)}))}}var f,s,p=Object(c.b)("EXPL"),y=function(e){return e.data.present.explorer},b=new Event("bllc-section-scroll"),d=p.async("OPEN",(function(e){return function(){var t=l(regeneratorRuntime.mark((function t(n,o){var c,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:e,ignore:!0}),t.next=3,n(v());case 3:if(c=Object(i.j)(o()),t.t0=c,!t.t0){t.next=9;break}return t.next=8,Object(r.d)(c);case 8:t.t0=t.sent;case 9:(a=t.t0)&&(n(m(a)),n(g()),window.dispatchEvent(b));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),h=p.createIgnore("CLOSE"),v=p.async("UPD_TREE",(function(e){return function(){var t=l(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.c)();case 2:o=t.sent,n({type:e,tree:o,ignore:!0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),m=p.createIgnore("SEL_SECTION","sid"),g=p.async("UPD_LESSONS",(function(e){return function(){var t=l(regeneratorRuntime.mark((function t(n,o){var i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=y(o()).selectedSection,t.next=3,Object(r.b)(i);case 3:c=t.sent,n({type:e,lessons:c,ignore:!0});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),O=p.createIgnore("SEL_LESSON","lid"),j=p.async("CREATE_LESSON",(function(e,t,n,o,i,c){return function(){var a=l(regeneratorRuntime.mark((function a(u){var l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(r.g)(t,n,o,i,c);case 2:return l=a.sent,u({type:e,sid:t,lid:l,ignore:!0}),a.abrupt("return",l);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()})),w=p.async("CLONE_LESSON",(function(e,t,n){return function(){var o=l(regeneratorRuntime.mark((function o(i){var c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(r.f)(t,n);case 2:return c=o.sent,i({type:e,lid:t,sid:n,ignore:!0}),i(m(n)),o.next=7,i(g());case 7:return i(O(c)),o.abrupt("return",c);case 9:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()})),P=p.async("MOVE_LESSON",(function(e,t,n){return function(){var o=l(regeneratorRuntime.mark((function o(i){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(r.l)(t,n);case 2:return i({type:e,lid:t,sid:n,ignore:!0}),i(m(n)),o.next=6,i(g());case 6:i(O(t));case 7:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()})),R=p.async("DEL_LESSON",(function(e,t){return function(){var n=l(regeneratorRuntime.mark((function n(o){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(r.n)(t);case 2:o({type:e,lid:t,ignore:!0});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),S=function(e){return function(){var t=l(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(R(e));case 2:return n(O(null)),e===Object(i.j)(r())&&n(Object(o.f)()),t.next=6,n(g());case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},E=function(e,t){return function(){var n=l(regeneratorRuntime.mark((function n(r,i){var c,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=3;break}return n.next=3,r(Object(o.o)());case 3:return c=i(),a=c.lessonsPath,n.next=6,r(Object(o.l)(a,e));case 6:r(h());case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},k=p.createIgnore("COLLAPSE","sid"),_=p.createIgnore("EXPAND","sid"),x=function(e){return function(t,n){var r=n().platformMask;"%current%"===e&&(e=Object(i.j)(n()));var o=r.replace(":lid:",e);window.open(o)}},C=p.createIgnore("TOGGLE_LANG","lang"),T=Object(c.b)("EXPL_CHOOSED"),D=T.createIgnore("OPEN"),A=T.async("CLOSE",(function(e){return function(t){t({type:e,ignore:!0}),s&&(s(),s=null)}})),q=T.createIgnore("SEL","sid"),z=T.createIgnore("COLLAPSE","sid"),I=T.createIgnore("EXPAND","sid"),N=T.async("CHOOSE",(function(e){return function(t,n){var r=y(n()).choose.selected;t({type:e,ignore:!0}),f&&(f(r),f=null)}})),L=function(){return function(e){return new Promise((function(t,n){f=t,s=n,e(D())}))}},M=Object(c.b)("EXPL_LESSOND"),B=M.createIgnore("OPEN"),U=M.createIgnore("CLOSE"),H=M.createIgnore("SET","field, val"),F=M.async("CREATE",(function(e,t,n,r,o,i){return function(){var e=l(regeneratorRuntime.mark((function e(c,u){var l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(j(t,n,r,o,i));case 3:return l=e.sent,c(U()),f=y(u()),f.langs[r]||c(C(r)),e.next=9,c(g());case 9:c(O(l)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Object(a.m)(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()}))},222:function(e,t,n){"use strict";n.r(t),n.d(t,"aSetValue",(function(){return p})),n.d(t,"aToggle",(function(){return y})),n.d(t,"aSetRightCount",(function(){return b})),n.d(t,"def",(function(){return d})),n.d(t,"map",(function(){return h})),n.d(t,"isCorrect",(function(){return v})),n.d(t,"getCorrect",(function(){return m}));var r,o=n(17),i=n.n(o),c=n(2),a=n(5);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=Object(c.b)("PLMOD_CHOICE"),p=s.create("SET_VALUE","val"),y=s.create("TOGGLE","id"),b=s.create("SET_RIGHT_COUNT","count"),d={selMultiple:{},selSingle:"",rightCount:0},h=s.map((f(r={},p.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.val;return l(l({},e),{},{selSingle:n})})),f(r,y.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.id,r=e.selMultiple,o=e.rightCount,i=Object(a.n)(r,n),c=Object.values(i).length;return c<=o?l(l({},e),{},{selMultiple:i}):e})),f(r,b.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.count;return l(l({},e),{},{rightCount:n})})),r)),v=function(e,t){var n=e.isMultiple,r=e.options,o=n?t.selMultiple:t.selSingle;if(n)return r.every((function(e){var t=e.id,n=e.right;return n&&t in o||!n&&!(t in o)}));var c=r.find((function(e){return e.id==o}));return i()(c,"right",!1)},m=function(e){var t=e.isMultiple,n=e.options;if(t){var r={};return n.forEach((function(e){e.right&&(r[e.id]=1)})),{selMultiple:r,selSingle:""}}return{selMultiple:{},selSingle:n.find((function(e){return!0===e.right})).id}}},223:function(e,t,n){"use strict";n.r(t),n.d(t,"aSetMark",(function(){return y})),n.d(t,"aSetVal",(function(){return b})),n.d(t,"map",(function(){return d})),n.d(t,"def",(function(){return v})),n.d(t,"isCorrect",(function(){return m})),n.d(t,"getCorrect",(function(){return g}));var r,o=n(57),i=n.n(o),c=n(2),a=n(5),u=n(101);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=Object(c.b)("PLMOD_MARKWORDS"),y=p.create("SET_MARK","val"),b=p.create("SET_VAL","wid, val"),d=(s(r={},y,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.val;return f(f({},e),{},{activeMark:n})})),s(r,b,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.wid,r=t.val;return Object(a.p)(e,"sel.".concat(n),r)})),r),h=Object(c.x)(u.a),v={activeMark:1,sel:{}},m=function(e,t){var n=e.content,r=t.sel;return i()(r,h(n))},g=function(e){var t=e.content;return{sel:h(t)}}},248:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n(52),o=n.n(r),i=(n(184),n(209)),c=n.n(i),a=n(79),u=n.n(a),l=n(18);function f(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t){for(var n=f(e);t>e.length;)--t,n.unshift(l.a.makeSpace());return n},y=function(e,t,n){var r=e.num+("+"===n?1:-1)*t.num,o=l.a.dim(r)>Math.max(e.dim,t.dim),i=c()([e.length,t.length])+(o?1:0),a=p(e,i),f=p(t,i);return function(e,t,n){var r=u()(e,l.a.isDigit),o=u()(t,l.a.isDigit);e[Math.min(r,o)].sign=n}(a,f,n),f.forEach((function(e){e.b="b"})),[a,f]},b=function(e,t,n){var r=l.a.toRow(e),i=l.a.toRow(t);l.a.justifyFraction(r,i);var c=f(y(r,i,n?"+":"-")),a=n?r.num+i.num:r.num-i.num,u=l.a.toRow(o()(a,5));return l.a.justifyFraction(u,r),l.a.justifyFraction(u,i),l.a.justifyRight(r,i,u),c.push(u),c},d=function(e,t){return b(e,t,!0)},h=function(e,t){return b(e,t,!1)}},249:function(e,t,n){"use strict";n.d(t,"c",(function(){return R})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return k}));var r,o=n(39),i=n.n(o),c=n(36),a=n.n(c),u=n(84),l=n(211),f=n(34),s=n(6);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d,h=function(e,t,n){var r=s.a.up(t),o=s.a.get(e,r)||e,i=s.a.length(o),c="left"===n?-1:1,a=s.a.lastIndex(t)+c;return"right"===n&&a>=i||"left"===n&&a<0?null:s.a.childCid(o,r,a)},v=function(e,t){return{state:y(y({},e),{},{sel:t})}},m=(b(r={},f.j.type,(function(e,t){var n=t.cid;return v(e,n)})),b(r,f.k.type,(function(e,t){var n=t.dir,r=e.sel,o=e.data;if("left"===n||"right"===n){var i=h(o,r,n)||function(e,t,n){for(var r=s.a.up(t);s.a.get(e,r);){var o=h(e,r,n);if(o){var i=s.a.get(e,o),c=s.a.length(i);if(c){var a="left"===n?c-1:0;return s.a.childCid(i,o,a)}}r="left"===n?s.a.left(r):s.a.right(r)}return null}(o,r,n);return i?v(e,i):{}}if("up"===n){var c=s.a.up(r);return v(e,c||null)}if("down"===n){var a=s.a.get(o,r);if(function(e){return"choice"===e.kind}(a))return{};var u=s.a.childCid(a,r,0);return s.a.get(o,u)?v(e,u):{}}return{}})),r),g=n(69),O=n(5);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={plot:u.c},S={sel:null,selType:"group",id:null,isEditing:!1,data:null,initial:null,mod:null,withExpressions:!1,sub:R},E={plot:u.f},k=w(w((P(d={},f.m,(function(e,t){var n=t.content;return{state:Object(O.p)(e,"data",n)}})),P(d,f.n.type,(function(e,t){var n=t.path,r=t.id,o=t.data,i=t.withExpressions,c=t.mod;return{state:w(w({},S),{},{isEditing:!0,id:r,data:o,initial:o,withExpressions:Boolean(i),path:n,mod:c})}})),P(d,f.d.type,(function(e){return{state:S}})),P(d,f.h.type,(function(e,t){var n=t.cid,r=t.val,o=s.a.upd(e.data,n,r);return{state:w(w({},e),{},{data:Object(g.a)(o),sel:Object(g.e)(o,e.sel)})}})),P(d,f.e.type,(function(e,t){var n=t.cid;n=n.split(".");var r=s.a.up(n),o=s.a.get(e.data,r)||e.data,i=s.a.splice(o,a()(n),1),c=s.a.upd(e.data,r,i),u=Object(g.e)(c,n);return{state:w(w({},e),{},{data:Object(g.a)(c),sel:u.length?s.a.str(u):null})}})),P(d,f.b.type,(function(e,t){var n=t.cid,r=t.itemType,o=s.a.get(e.data,n)||e.data,c=Object(g.c)(e,i()(r)?r:e.selType),a=s.a.splice(o,s.a.length(o),0,c),u=s.a.upd(e.data,n,a),l=s.a.childCid(a,n,s.a.length(a)-1);return s.a.length(c)&&(l=s.a.childCid(c,l,s.a.length(c)-1)),{state:w(w({},e),{},{data:Object(g.a)(u),sel:l.length?s.a.str(l):null})}})),P(d,f.a.type,(function(e,t){var n=t.cid,r=t.dir,o=s.a.up(n),i=s.a.get(e.data,o)||e.data,c=s.a.lastIndex(n),a=Object(g.c)(e,e.selType),u="before"===r?c:c+1,l=s.a.splice(i,u,0,a),f=s.a.upd(e.data,o,l),p=s.a.childCid(l,o,u);return s.a.length(a)&&(p=s.a.childCid(a,p,s.a.length(a)-1)),{state:w(w({},e),{},{data:Object(g.a)(f),sel:p.length?s.a.str(p):null})}})),P(d,f.g,(function(e,t){var n=t.cid,r=t.dest,o=t.source,i=s.a.get(e.data,n),c=Object(O.h)(i,r,o),a=s.a.upd(e.data,n,c);return{state:w(w({},e),{},{data:Object(g.a)(a),sel:null})}})),P(d,f.l.type,(function(e,t){var n=t.ctype;return{state:w(w({},e),{},{selType:n})}})),P(d,f.c.type,(function(e,t,n){var r=t.data,o=t.statePath,i=Object(g.b)(s.a.normalize(r));return{mod:n=Object(O.p)(n,o,i)}})),P(d,f.f.type,(function(e,t){var n=t.cid,r=t.ctype,o=s.a.type(s.a.get(e.data,n)),i=s.a.isInline(o)?s.a.up(n):n,c=s.a.lastIndex(i),a=s.a.up(i),u=Object(g.c)(e,r),l=s.a.get(e.data,a)||e.data,f=s.a.splice(l,c+1,0,u),p=s.a.upd(e.data,a,f),y=s.a.childCid(f,a,c+1);return s.a.length(u)&&(y=s.a.childCid(u,y,s.a.length(u)-1)),{state:w(w({},e),{},{data:Object(g.a)(p),sel:y.length?s.a.str(y):null})}})),P(d,f.o.type,(function(e,t){var n=t.key,r=t.action,o=e.sub[n],i=(0,E[n][r.type])(o,r);return{state:Object(O.p)(e,"sub.".concat(n),i)}})),d),m),l.b)},25:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return P})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return E}));var r=n(39),o=n.n(r),i=n(220),c=n.n(i),a=n(1),u=n.n(a),l=n(24),f=n(8),s=n(3);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=window.TEST?0:30,j=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,t);var n,r,i,a=v(u);function u(){var e;b(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).handleContextMenu=c()(e.handleContextMenu,e.match),e.handleMouseDown=c()(e.handleMouseDown,e.match),e.handleTouchstart=c()(e.handleTouchstart,e.match),e}return n=u,(r=[{key:"match",value:function(t,n){for(var r=o()(e)?n.target.matches(e):e(n.target),i=arguments.length,c=new Array(i>2?i-2:0),a=2;a<i;a++)c[a-2]=arguments[a];r&&t.call.apply(t,[this,n].concat(c))}}])&&d(n.prototype,r),i&&d(n,i),u}(l.b)},w=function(t){if(!t||!t.ignore){if(window.TEST)throw t;if(e((function(){throw t})),alert(t),window.TEST)throw console.error(t),t}},P=function(e){e.classList.add("bllc-tmp-hl"),setTimeout((function(){e.classList.remove("bllc-tmp-hl")}),1e3)},R=Object(f.a)((function(e){return e.Comp}),(function(e){return e.connect}),(function(e){return e.requirements}),(function(e,t,n){return t(e,n)})),S=function(e,t){return Object(s.a)((function(n){var r=n.lessonApi,o=n.children,i=y(n,["lessonApi","children"]),c=R({Comp:e,connect:r.connect,requirements:t});return u.a.createElement(c,i,o)}),"lessonApi")},E=function(e){return document.body.querySelector('.bllc-module-box[data-id="'.concat(e,'"]'))}}).call(this,n(62).setImmediate)},252:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(1),o=n.n(r),i=n(0),c=n.n(i),a=n(63),u=n(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,n,r,i=d(c);function c(){return p(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClick,r=e.cls,i=e.icon,c=e.disabled,l=e.label,p=e.theme,y=e.role,b=e.link,d=s(e,["children","onClick","cls","icon","disabled","label","theme","role","link"]),h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:Object(u.h)("bllx-button",r,p&&"bllx-button-".concat(p)),onClick:!c&&n||null,disabled:Object(u.v)(c),"data-enabled":Object(u.v)(!c),"data-role":y,"data-empty":Object(u.v)(!(t||l))},d),v=o.a.createElement(o.a.Fragment,null,i?o.a.createElement(a.a,{icon:i,disabled:c}):null,o.a.createElement("span",{className:"bllx-button-label"},t||l));return b?o.a.createElement("a",h,v):o.a.createElement("button",h,v)}}])&&y(t.prototype,n),r&&y(t,r),c}(o.a.PureComponent);m(g,"propTypes",{children:c.a.node,label:c.a.string,onClick:c.a.func,disabled:c.a.bool,icon:c.a.string,theme:c.a.string,role:c.a.string})},253:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=function(e){return function(t){var n=t.tagName,r=t.children,a=c(t,["tagName","children"]),u=n||"div";return o.a.createElement(u,i({},a,e()),r)}}},255:function(e,t,n){"use strict";n.r(t),n.d(t,"aSetList",(function(){return l})),n.d(t,"def",(function(){return f})),n.d(t,"isCorrect",(function(){return s})),n.d(t,"getCorrect",(function(){return p})),n.d(t,"map",(function(){return y}));var r=n(2);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=Object(r.b)("PLMOD_SORT").create("SET_LIST","ids"),f={ids:[]},s=function(e,t){return t.ids.every((function(e,t){return e===t}))},p=function(e){return{ids:a(e.items.keys())}},y=c({},l.type,(function(e,t){var n=t.ids;return i(i({},e),{},{ids:n})}))},256:function(e,t,n){"use strict";n.d(t,"b",(function(){return bn})),n.d(t,"a",(function(){return dn}));var r,o,i,c,a=n(1),u=n.n(a),l=n(0),f=n.n(l),s=n(10),p=n(7),y=n(15);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P,R,S,E,k=(r=Object(y.c)("pagePanel."),c=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,o=m(i);function i(){var e;d(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(O(e=o.call.apply(o,[this].concat(n))),"pageRemove",(function(){confirm(e.cx.tt.root("dlg.confirmRemove"))&&e.props.pageRemove()})),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.moveLeft,r=t.moveRight,o=t.isLast,i=t.isFirst,c=t.pageAdd,a=t.canDelPage;return u.a.createElement("div",{className:"bllc-pt-controls bllc-last"},u.a.createElement("label",null,e("title")),u.a.createElement(p.d,{icon:"left-open",onClick:n,disabled:i,cls:"bllc-pt-move-left",title:e("moveLeft")}),u.a.createElement(p.d,{icon:"right-open",onClick:r,disabled:o,cls:"bllc-pt-move-right",title:e("moveRight")}),u.a.createElement(p.d,{icon:"list-add",onClick:c,cls:"bllc-pt-add-page",title:e("add")}),u.a.createElement(p.d,{icon:"trash",onClick:this.pageRemove,disabled:!a,cls:"bllc-pt-del-page",title:e("remove")}))}}])&&h(t.prototype,n),r&&h(t,r),i}(u.a.PureComponent),w(i,"propTypes",{moveRight:f.a.func.isRequired,moveLeft:f.a.func.isRequired,pageAdd:f.a.func.isRequired,pageRemove:f.a.func.isRequired,isFirst:f.a.bool.isRequired,isLast:f.a.bool.isRequired,canDelPage:f.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((o=c).prototype,"render",[r],Object.getOwnPropertyDescriptor(o.prototype,"render"),o.prototype),o),_=n(26),x=Object(s.f)(k,(function(e){var t=e.lesson,n=t.page,r=t.data,o=t.state,i=r.pages.length,c=o.content.isEditing;return{isFirst:0===n,isLast:n===i-1,canDelPage:i>0&&!c}}),{moveRight:_.n,moveLeft:_.m,pageAdd:_.b,pageRemove:_.q}),C=n(8),T=n(2),D=n(148);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H,F,W,G,V=(P=Object(y.c)("modules.audio."),E=S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(i,e);var t,n,r,o=N(i);function i(){var e;q(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return U(M(e=o.call.apply(o,[this].concat(n))),"open",(function(){window.open(e.props.path)})),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.upload,r=t.audio,o=t.del;return u.a.createElement("div",{className:"bllc-mbh-controls"},u.a.createElement("div",{className:"bllc-vr"}),u.a.createElement(p.d,{icon:"music",disabled:!!r,title:e("hint"),onClick:n}),r?[u.a.createElement("span",{key:"0"},":"),u.a.createElement(p.d,{icon:"up-circled2",onClick:n,cls:"bllc-mbh-audio-upload",title:e("upload"),key:"1"}),u.a.createElement(p.d,{icon:"folder-open-empty",onClick:this.open,cls:"bllc-mbh-audio-open",title:e("open"),key:"2"}),u.a.createElement(p.d,{icon:"cancel-circled",onClick:o,cls:"bllc-mbh-audio-del",title:e("del"),key:"3"})]:null)}}])&&z(t.prototype,n),r&&z(t,r),i}(u.a.PureComponent),U(S,"propTypes",{upload:f.a.func.isRequired,del:f.a.func.isRequired,audio:f.a.string}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((R=E).prototype,"render",[P],Object.getOwnPropertyDescriptor(R.prototype,"render"),R.prototype),R),$=n(37),K=n(100),X=n(72),Y=Object(s.f)(V,(function(e,t,n){var r=e.lesson,o=t.module;return{audio:o.audio,path:o.audio?Object(X.d)(r,o.audio):null,mid:o.id}}),(function(e,t){var n=t.module.id;return{upload:function(){e(Object($.k)("audio")).then((function(t){return e(Object(K.b)(n,t))}))},del:function(){return e(Object(K.a)(n))}}})),J=n(38);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){Q(i,r,o,c,a,"next",e)}function a(e){Q(i,r,o,c,a,"throw",e)}c(void 0)}))}}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ie(this,n)}}function ie(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?ce(e):t}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=u.a.createElement("div",{className:"bllc-vr"}),fe=(H=Object(y.c)("modules."),G=W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(i,e);var t,n,r,o=oe(i);function i(){var e;te(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ue(ce(e=o.call.apply(o,[this].concat(n))),"setBlock",(function(t){e.block=t})),ue(ce(e),"remove",function(){var t=ee(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm(e.cx.t("dlg.confirmRemove"))){t.next=5;break}return t.next=3,e.hide();case 3:e.props.remove(),Object(J.s)("moduleDeleteErr","".concat(n," :: ").concat(r," :: trying to delete"));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),ue(ce(e),"moveUp",(function(){var t=e.props;(0,t.moveBlock)("up",t.moveUp)})),ue(ce(e),"moveDown",(function(){var t=e.props;(0,t.moveBlock)("down",t.moveDown)})),ue(ce(e),"clpCut",ee(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.hide();case 2:e.props.clpCut();case 3:case"end":return t.stop()}}),t)})))),e}return t=i,(n=[{key:"renderMoveBtns",value:function(e){var t=this.props,n=t.isFirst,r=t.isLast;return[u.a.createElement(p.d,{key:"up",icon:"up-open",onClick:this.moveUp,disabled:n,cls:"bllc-mbh-moveup",title:e("moveUp")}),u.a.createElement(p.d,{key:"down",icon:"down-open",onClick:this.moveDown,disabled:r,cls:"bllc-mbh-movedown",title:e("moveDown")})]}},{key:"hide",value:function(){return at(this.block,[this.props.module.id])}},{key:"renderClipboardBtns",value:function(e){var t=this.props,n=t.clpCopy,r=t.canCut;return[u.a.createElement(p.d,{key:"cut",icon:"scissors",onClick:this.clpCut,cls:"bllc-mbh-cut",disabled:!r,title:e("cut")}),u.a.createElement(p.d,{key:"copy",icon:"docs",onClick:n,cls:"bllc-mbh-copy",title:e("copy")})]}},{key:"renderSelection",value:function(e){var t=this.props,n=t.select,r=t.unselect,o=t.isSel;return[o?null:u.a.createElement(p.d,{key:"sel-cb",icon:"check-empty",onClick:n,cls:"bllc-mod-sel",title:e("sel")}),o?u.a.createElement(p.d,{key:"sel-toggle",icon:"check",onClick:r,cls:"bllc-mod-unsel",title:e("unsel")}):null]}},{key:"renderRemoveBtn",value:function(e){var t=this,n=this.props,r=n.canRemove,o=n.lid,i=n.mid;return u.a.createElement(p.d,{icon:"trash",onClick:function(){return t.remove(o,i)},cls:"bllc-mbh-remove",disabled:!r,title:e("remove")})}},{key:"renderPlatformBtn",value:function(e){return u.a.createElement(p.d,{icon:"eye",onClick:this.props.preview,cls:"bllc-mbh-platform",title:e("platform")})}},{key:"renderRenameText",value:function(){var e=this.props,t=e.module,n=e.aModRename,r=e.isRenaming;return u.a.createElement("div",{className:"bllc-mbh-text"},u.a.createElement(D.b,{actions:n,titleHTML:Object(T.j)(t.title),isRenaming:r,value:t.title,id:t.id}))}},{key:"renderRenameControls",value:function(){var e=this.props,t=e.module,n=e.aModRename,r=e.isRenaming;return u.a.createElement(D.a,{actions:n,isRenaming:r,id:t.id})}},{key:"renderDifficulty",value:function(e,t){if(!t)return null;var n=function(e){return e<=t?"star":"star-empty"};return u.a.createElement("div",{title:e("difficulty.".concat(t))},[1,2,3].map((function(e,t){return u.a.createElement(p.d,{key:e,icon:n(e)})}),this))}},{key:"render",value:function(e){var t=this.props,n=t.module,r=t.difficulty,o=t.mid;return u.a.createElement("div",{className:"bllc-mb-hat",ref:this.setBlock},u.a.createElement("div",{className:"bllc-mbh-controls"},this.renderSelection(e),le,this.renderRenameControls(),le),this.renderRenameText(),le,u.a.createElement("div",{className:"bllc-mbh-mid"},o),le,this.renderDifficulty(e,r),u.a.createElement("div",{className:"bllc-mbh-controls"},le,this.renderPlatformBtn(e)),u.a.createElement(Y,{module:n}),u.a.createElement("div",{className:"bllc-mbh-controls"},le,this.renderMoveBtns(e),le,this.renderClipboardBtns(e),this.renderRemoveBtn(e)))}}])&&ne(t.prototype,n),r&&ne(t,r),i}(u.a.PureComponent),ue(W,"propTypes",{aModRename:f.a.object.isRequired,module:f.a.object.isRequired,moveBlock:f.a.func.isRequired,isSel:f.a.bool.isRequired,isRenaming:f.a.bool.isRequired,canCut:f.a.bool.isRequired,canRemove:f.a.bool.isRequired,isFirst:f.a.bool.isRequired,isLast:f.a.bool.isRequired,select:f.a.func.isRequired,unselect:f.a.func.isRequired,moveDown:f.a.func.isRequired,moveUp:f.a.func.isRequired,remove:f.a.func.isRequired,clpCopy:f.a.func.isRequired,clpCut:f.a.func.isRequired,preview:f.a.func.isRequired,difficulty:f.a.number.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((F=G).prototype,"render",[H],Object.getOwnPropertyDescriptor(F.prototype,"render"),F.prototype),F),se=n(21),pe=n(76),ye=n(85),be=Object(s.g)(fe,(function(){var e=Object(se.m)();return function(t,n){var r,o=t.lesson,i=n.module,c=o.selected,a=o.state.content,u=Object(se.l)(a,i.id),l=o.state[i.id],f=Object(se.f)(o)[i.id],s=Object(ye.g)(o,i.id),p=s.isLast,y=s.isFirst;return{isSel:i.id in c,isRenaming:l.isRenaming,canCut:!u,canRemove:!u,isFirst:y,isLast:p,aModRename:K.c,difficulty:e(o,f),mid:i.id,lid:null==o||null===(r=o.data)||void 0===r?void 0:r.id}}}),(function(e,t){var n=t.module.id;return{select:function(){return e(Object(_.s)(n))},unselect:function(){return e(Object(_.v)(n))},moveUp:function(){return e(Object(_.k)(n))},moveDown:function(){return e(Object(_.j)(n))},remove:function(){return e(Object(_.l)([n]))},clpCopy:function(){return e(Object(_.c)([n]))},clpCut:function(){return e(Object(_.d)([n]))},preview:function(){return e(Object(pe.c)(n))}}})),de=n(182),he=Object(s.f)(de.b,(function(e,t,n){var r=e.lesson,o=t.module.id,i=r.state[o],c=r.data.path,a=r.state.content;return{state:i,path:c,isContentEditing:a.isEditing&&a.mid===o,isAnyContentEditing:a.isEditing}})),ve=n(324),me=n(3);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?_e(e):t}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te="bllc-module-box",De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(i,e);var t,n,r,o=Ee(i);function i(){var e;Pe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ce(_e(e=o.call.apply(o,[this].concat(n))),"state",{err:null}),Ce(_e(e),"setBlock",(function(t){e.block=t})),Ce(_e(e),"move",(function(t,n){var r="down"===t?e.block.nextElementSibling.nextElementSibling:e.block.previousElementSibling.previousElementSibling,o=r.offsetTop,i=r.offsetHeight,c=e.block,a=c.offsetTop,u=c.offsetHeight,l="down"===t?o-a-u:a-o-i,f="down"===t?i+l:-(a-o),p="down"===t?-(o-a):u+l,y={duration:Object(s.j)(),easing:"ease-out",fill:"forwards"};e.block.animate([{transform:"translate(0, 0)"},{transform:"translate(0, ".concat(f,"px")}],y),r.animate([{transform:"translate(0, 0)"},{transform:"translate(0, ".concat(p,"px")}],y),setTimeout(n,Object(s.j)())})),Ce(_e(e),"genLessonApi",Object(C.a)((function(e){return e.lessonApi}),(function(e){return e.module.id}),(function(e,t){return we(we({},e),{},{connect:function(n,r){return e.connect(n,r,t)}})}))),e}return t=i,(n=[{key:"componentDidCatch",value:function(e,t){this.setState({err:e})}},{key:"renderPanel",value:function(){var e=this.props,t=e.lessonApi,n=e.clipboard,r=e.lang,o=Object(me.d)("lessonApi"),i=Object(y.b)("t");return u.a.createElement("div",{className:"bllc-mb-hat bllc-sticky"},u.a.createElement(o,{value:t},u.a.createElement(de.a,{lang:r,clipboard:n},u.a.createElement(i,{value:this.props.t},u.a.createElement(ve.a,null)))))}},{key:"renderTitle",value:function(){var e=this.props.module;return u.a.createElement(be,Oe({module:e},{moveBlock:this.move}))}},{key:"renderErr",value:function(){return u.a.createElement("div",{className:Te,setRef:this.setBlock},this.renderTitle(),u.a.createElement("div",{className:"bllc-mb-body"},u.a.createElement(p.c,{err:this.state.err})))}},{key:"render",value:function(){if(this.state.err)return this.renderErr();var e=this.props,t=e.module,n=e.showEditPanel,r=e.clipboard,o=e.isSel,i=e.lang,c=e.ticket,a=this.genLessonApi(this.props),l=n?this.renderPanel():this.renderTitle(),f=Object(T.h)(Te,o&&"bllc-mb-sel");return u.a.createElement("div",{className:f,"data-id":t.id,ref:this.setBlock},l,u.a.createElement(he,Oe({module:t,lessonApi:a,clipboard:r,lang:i},{key:"".concat(t.id,":").concat(i)})),c?u.a.createElement("div",{className:"bllc-ticket-wrapper"},u.a.createElement("div",{className:"bllc-ticket-item"},u.a.createElement("div",{className:"bllc-ticket-title"},"Название тикета: "),u.a.createElement("div",{className:"bllc-ticket-text"},c.title)),u.a.createElement("div",{className:"bllc-ticket-item"},u.a.createElement("div",{className:"bllc-ticket-title"},"Текст тикета: "),u.a.createElement("div",{className:"bllc-ticket-text"},c.text)),c.fileUrl?u.a.createElement("div",{className:"bllc-ticket-item"},u.a.createElement("div",{className:"bllc-ticket-title"},"Ссылка на файл: "),u.a.createElement("div",{className:"bllc-ticket-text"},u.a.createElement("a",{href:c.fileUrl,download:c.title},"Скачать"))):null):null)}}])&&Re(t.prototype,n),r&&Re(t,r),i}(u.a.PureComponent);Ce(De,"propTypes",{isSel:f.a.bool.isRequired,showEditPanel:f.a.bool.isRequired,lessonApi:f.a.object.isRequired,clipboard:f.a.object.isRequired,lang:f.a.string.isRequired});var Ae=Object(y.a)(De,"lessonApi","t"),qe=n(14),ze=n(19),Ie=Object(s.f)(Ae,(function(e,t,n){var r,o=e.lesson,i=t.module,c=n.clipboard,a=i.id,u=o.selected,l=Object(qe.f)(o);return{isSel:a in u,showEditPanel:Object(se.l)(l,a),clipboard:c,lang:o.uiLang,lid:o.data.id,descriptors:o.data.descriptors&&o.data.descriptors[a]?o.data.descriptors[a]:{},ticket:null!==(r=null==o?void 0:o.tickets[a])&&void 0!==r?r:null}}),{descriptorsSave:ze.u}),Ne=n(17),Le=n.n(Ne),Me=n(146),Be=n(638),Ue=Object(Me.b)((function(){var e=Object(se.o)(),t=Object(se.n)(),n=Object(se.p)();return function(r,o){var i=r.clipboard,c=Object(qe.i)(r);return{len:"modules"===i.kind?Le()(i.data,"length",0):0,isChained:e(c,o.idx),isChainExcess:t(c,o.idx),isNonInteractive:e(c,o.idx)&&n(c,o.idx),isNewAdaptive:Object(qe.q)(c)}}}),(function(e,t){var n=t.idx,r=t.levelId;return{paste:function(){return e(r?Object(_.o)(n,r):Object(_.p)(n))},add:function(){return e(r?Object(_.a)(n,r):Object(_.f)(n))},chain:function(){return e(Object(_.g)(n))}}}))(Be.a);Ue.propTypes={idx:f.a.number.isRequired};var He=Ue;function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var o=Ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}var et,tt,nt,rt,ot,it,ct,at=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,o,i,c,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],o=Je(n);try{for(o.s();!(i=o.n()).done;)c=i.value,(a=bn(t).get(c))&&r.push(Object(s.d)(a))}catch(e){o.e(e)}finally{o.f()}return e.next=5,Promise.all(r);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){Qe(i,r,o,c,a,"next",e)}function a(e){Qe(i,r,o,c,a,"throw",e)}c(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(i,e);var t,n,r,o=Ke(i);function i(){return Ge(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.modules,n=e.levelId,r=void 0===n?null:n,o=e.idx,i=void 0===o?0:o;return u.a.createElement("div",{className:"bllc-modules-list"},u.a.createElement(He,{levelId:r,idx:i}),t.map((function(e,n){return[u.a.createElement(Ie,We({key:e.id},{module:e})),u.a.createElement(He,We({lastIdx:t.length,idx:i+n+1},{levelId:r},{key:"1"}))]}),this))}}])&&Ve(t.prototype,n),r&&Ve(t,r),i}(u.a.PureComponent);function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function st(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){ft(i,r,o,c,a,"next",e)}function a(e){ft(i,r,o,c,a,"throw",e)}c(void 0)}))}}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?vt(e):t}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}et=ut,tt="propTypes",nt={modules:f.a.array.isRequired},tt in et?Object.defineProperty(et,tt,{value:nt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=nt;var Ot=(rt=Object(y.c)("modsPanel."),ct=it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(i,e);var t,n,r,o=dt(i);function i(){var e;pt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gt(vt(e=o.call.apply(o,[this].concat(n))),"removeModules",st(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm("Are you sure?")){t.next=5;break}return t.next=3,e.hideSelected();case 3:n=e.props,r=n.removeMods,o=n.selMids,r(o);case 5:case"end":return t.stop()}}),t)})))),gt(vt(e),"clpCut",st(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.hideSelected();case 2:e.props.clpCut();case 3:case"end":return t.stop()}}),t)})))),gt(vt(e),"setBlock",(function(t){e.block=t})),e}return t=i,(n=[{key:"hideSelected",value:function(){var e=this.props.selMids;return at(this.block,e)}},{key:"render",value:function(e){var t,n=this.props,r=n.isEverySelected,o=n.isAnySelected,i=n.select,c=n.unselect,a=n.clpCopy,l=n.canCut,f=n.canDel;return u.a.createElement("div",{className:"bllc-pt-controls",ref:this.setBlock},u.a.createElement("label",null,e("title")),r?null:u.a.createElement(p.d,{icon:"check-empty",onClick:i,cls:"bllc-pt-allmods-sel",title:e("selAll")}),r?u.a.createElement(p.d,{icon:"check",onClick:c,cls:"bllc-pt-allmods-unsel",title:e("unselAll")}):null,u.a.createElement(p.d,{icon:"trash",disabled:!f,onClick:this.removeModules,cls:"bllc-pt-mods-remove",title:e("removeSel")}),u.a.createElement(p.d,(gt(t={icon:"scissors",disabled:!o,onClick:this.clpCut,cls:"bllc-pt-mods-cut"},"disabled",!l),gt(t,"title",e("cutSel")),t)),u.a.createElement(p.d,{icon:"docs",disabled:!o,onClick:a,cls:"bllc-pt-mods-copy",title:e("copySel")}))}}])&&yt(t.prototype,n),r&&yt(t,r),i}(u.a.PureComponent),gt(it,"propTypes",{isEverySelected:f.a.bool.isRequired,isAnySelected:f.a.bool.isRequired,select:f.a.func.isRequired,unselect:f.a.func.isRequired,clpCopy:f.a.func.isRequired,removeMods:f.a.func.isRequired,clpCut:f.a.func.isRequired,canCut:f.a.bool.isRequired,canDel:f.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ot=ct).prototype,"render",[rt],Object.getOwnPropertyDescriptor(ot.prototype,"render"),ot.prototype),ot),jt=Object(s.f)(Ot,(function(e){var t=e.lesson,n=t.state.content.isEditing;return{isEverySelected:Object(se.k)(t),isAnySelected:Object(se.j)(t),canCut:Object(se.j)(t)&&!n,canDel:Object(se.j)(t)&&!n}}),(function(e,t){var n=t.selMids;return{unselect:function(){return e(Object(_.w)())},select:function(){return e(Object(_.t)())},clpCopy:function(){return e(Object(_.c)(n))},clpCut:function(){return e(Object(_.d)(n))},removeMods:function(t){return e(Object(_.l)(t))}}}));jt.propTypes={selMids:f.a.arrayOf(f.a.string).isRequired};var wt=jt;function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ct(e);if(t){var o=Ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?xt(e):t}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(i,e);var t,n,r,o=kt(i);function i(){var e;Rt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tt(xt(e=o.call.apply(o,[this].concat(n))),"componentDidMount",e.updDocumentTitle),Tt(xt(e),"componentDidUpdate",e.updDocumentTitle),e}return t=i,(n=[{key:"updDocumentTitle",value:function(){document.title=this.props.docTitle}},{key:"render",value:function(){var e=this.props,t=e.aPageRename,n=e.title,r=e.num,o=e.isRenaming,i="Page: ".concat(r+1,". ").concat(Object(T.j)(n));return u.a.createElement("div",{className:"bllc-pt-title-box"},u.a.createElement("div",{className:"bllc-pt-text"},u.a.createElement(D.b,{actions:t,titleHTML:i,isRenaming:o,value:n})),u.a.createElement("div",{className:"bllc-pt-controls bllc-last"},u.a.createElement(D.a,{actions:t,isRenaming:o})))}}])&&St(t.prototype,n),r&&St(t,r),i}(u.a.PureComponent);Tt(Dt,"propTypes",{aPageRename:f.a.shape({start:f.a.func.isRequired,commit:f.a.func.isRequired,val:f.a.func.isRequired,cancel:f.a.func.isRequired}).isRequired,isRenaming:f.a.bool.isRequired,num:f.a.number.isRequired,title:f.a.string.isRequired,docTitle:f.a.string.isRequired});var At,qt,zt=Object(s.f)(Dt,(function(e){var t=e.lesson,n=t.isPageRenaming,r=t.page,o=t.data,i=o.pages,c=o.id,a=i[r];return{aPageRename:_.r,num:r,title:a.title,docTitle:Object(T.s)("".concat(c," :: ").concat(a.title)),isRenaming:n}})),It=n(639),Nt=n(214),Lt=Object(s.f)(It.a,(function(e){var t=e.lesson,n=t.state.content,r=n.isEditing,o=n.mod;return{activeCategory:Object(se.a)(t),titles:Object(ye.e)(),contentEditPage:r&&o?Object(ye.c)(t,o.mid):-1}}),{setCategory:Nt.a}),Mt=n(122),Bt=n.n(Mt);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$t(e);if(t){var o=$t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vt(this,n)}}function Vt(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xt=function(e){var t=e.category,n=e.levelId,r=e.levelModules,o=e.tt,i=e.calcModuleStartIdx,c=r.length>=2,a=i(n);return u.a.createElement("div",{className:"bllc-adaptive-level-wrapper"},u.a.createElement("div",{className:"bllc-adaptive-level-title"},"".concat(o("level")," ").concat(t).concat(n),c?null:u.a.createElement(p.d,{icon:"attention-alt",cls:"bllc-ml-warning",title:o("levelErr")})),u.a.createElement("div",{className:"bllc-adaptive-level-body"},u.a.createElement(ut,Kt({modules:r},{levelId:n,idx:a}))))},Yt=(At=Object(y.c)("adaptiveCategory."),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(i,e);var t,n,r,o=Gt(i);function i(){return Ht(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.levelCount,r=t.modules,o=t.category,i=t.calcModuleStartIdx;return u.a.createElement("div",{className:"bllc-adaptive-level-list"},Bt()(1,n+1).map((function(t,n){return u.a.createElement(Xt,Kt({key:t,levelModules:r[t]},{category:o,levelId:t,tt:e,calcModuleStartIdx:i}))}),this))}}])&&Ft(t.prototype,n),r&&Ft(t,r),i}(u.a.Component)).prototype,"render",[At],Object.getOwnPropertyDescriptor(qt.prototype,"render"),qt.prototype),qt),Jt=Object(s.f)(Yt,(function(e){var t=e.lesson,n=Object(se.a)(t),r=Object(ye.d)(t,n);return{levelCount:Object(ye.f)(t),modules:r,calcModuleStartIdx:function(e){return Object(ye.b)(t,e)},category:Object(se.a)(t)}}),{setCategory:Nt.a});function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=on(e);if(t){var o=on(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rn(this,n)}}function rn(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(i,e);var t,n,r,o=nn(i);function i(){return Qt(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return u.a.createElement("div",{className:"bllc-adaptive-category-container"},u.a.createElement(Lt,null),u.a.createElement(Jt,null))}}])&&en(t.prototype,n),r&&en(t,r),i}(u.a.Component);function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yn(e);if(t){var o=yn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn(this,n)}}function pn(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bn=function(e){return Array.from(e.closest(".".concat("bllc-page")).querySelectorAll(".".concat(Te))).reduce((function(e,t){return e.set(t.dataset.id,t),e}),new Map)},dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}(i,e);var t,n,r,o=sn(i);function i(){return un(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.modules,n=e.selMids,r=e.isAdaptive;return u.a.createElement("div",{className:"bllc-page"},u.a.createElement("div",{className:"bllc-page-hat"},t.length>0?u.a.createElement(wt,{selMids:n}):null,u.a.createElement(zt,null),u.a.createElement(x,null)),u.a.createElement(ut,{modules:t}),r?u.a.createElement(cn,null):null)}}])&&ln(t.prototype,n),r&&ln(t,r),i}(u.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(dn,"propTypes",{modules:f.a.array.isRequired,selMids:f.a.arrayOf(f.a.string).isRequired})},257:function(e,t,n){"use strict";n.r(t),n.d(t,"aSet",(function(){return q})),n.d(t,"def",(function(){return z})),n.d(t,"map",(function(){return I})),n.d(t,"isCorrect",(function(){return N})),n.d(t,"getCorrect",(function(){return L})),n.d(t,"genExpStatusesMap",(function(){return M})),n.d(t,"genCustomHints",(function(){return B})),n.d(t,"getExpCorrectCount",(function(){return U})),n.d(t,"getExpCount",(function(){return H}));var r=n(147),o=n.n(r),i=n(48),c=n.n(i),a=n(71),u=n.n(a),l=n(17),f=n.n(l),s=n(50),p=n.n(s),y=n(28),b=n.n(y),d=n(2),h=n(418),v=n.n(h),m=n(5),g=n(58),O=n(325),j=n(317),w=n(219),P=function(e,t){var n=t.fid,r=t.latex.match(/\\Input\{[^}]+\}/g);r&&r.map((function(e,t){return Object(w.b)(n,t)})).forEach((function(t){e[t]=function(e){if(!e)return!1;var t=e.mask,n=e.val;return Object(j.a)(t,n)}}))},R=n(65),S=Object(m.q)((function(e){var t={};return g.a.walk(e.content,(function(e){switch(e.type){case"expression":var n=O.a[e.kind]||v()(!0);t[e.id]=n(e);break;case"plot":t[e.id]=(r=e.graph,function(e){return Object(R.h)(r,e||R.e)});break;case"formula":P(t,e)}var r})),t})),E=n(59);function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=Object(d.b)("PLMOD_EXP").create("SET","id, val"),z={val:{}},I=A({},q.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,n=t.id,r=t.val,o=["",void 0,null].includes(r)?b()(e.val,n):D(D({},e.val),{},A({},n,r));return D(D({},e),{},{val:o})})),N=function(e,t){var n=t.val;return Object.entries(S(e)).every((function(e){var t=_(e,2),r=t[0];return(0,t[1])(n[r],n)}))},L=function(e){var t={},n={},r={};return g.a.walk(e.content,(function(e){if("expression"===e.type)if("math"===e.kind){var o=Object(E.d)(e.mask),i=o.left,c=o.right,a=(m=e.id,g=[].concat(k(i),k(c)),p()(g.filter((function(e){return"input"===e.kind})),(function(e,t){e[Object(E.b)(m,t)]=t.values[0]}),{}));t=D(D({},t),a)}else if("input"===e.kind)t[e.id]=e.value.split("|")[0];else if("longMath"===e.kind)t[e.id]=Object.keys(e.active).reduce((function(t,n){var r=n.replace("-",".");return t[n]=f()(e.table,"".concat(r,".v")),t}),{});else if("dragnest"===e.kind){t[e.id]=[];var l=!!e.value;u()(n)?r[e.id]=e.value:e.value.forEach((function(r){t[e.id].push({isDragNode:l,eid:r,content:n[r]})}))}else"dragitem"===e.kind?u()(r)?n[e.id]=e.list:Object.keys(r).forEach((function(n){var o=!!r[n];r[n].includes(e.id)&&t[n].push({isDragNode:o,eid:e.id,content:e.list})})):"sortable"===e.kind?t[e.id]=e.list:t[e.id]=e.value?e.value:e.right;else if("plot"===e.type){var s=e.graph,y=s.points?Array.from(Object(R.g)(s.points)).map((function(e){var t=e.split(":");return{x:Number(t[0]),y:Number(t[1])}})):[],b={},d={};s.curves&&s.curves.forEach((function(e,t){if("choose"===e.role&&e.isCorrect)d[t]=1;else if("shift"===e.role&&e.shift){var n=e.shift,r=n.x,o=n.y;b[t]={dx:r||0,dy:o||0}}})),t[e.id]={points:y,curves:d,curvesMoved:b}}else if("formula"===e.type){var h=e.fid,v=e.latex.match(/\\Input\{[^}]+\}/g);v&&v.forEach((function(e,n){var r=Object(w.b)(h,n),o=e.match(/\d/g).join("");t[r]={mask:o,val:o}}))}var m,g})),{val:t}},M=function(e,t){return c()(S(e),(function(e,n){return e(t[n],t)?"correct":"incorrect"}))},B=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=M(e,t.val),c=e.hints.exp,a=void 0===c?[]:c;return p()(a,(function(e,t){var c=t.id,a=t.right,u=t.wrong;if(r[c]&&e.push.apply(e,k(r[c])),n){var l,f=null===(l=o()(r[c]))||void 0===l?void 0:l.hintKey,s="correct"===i[c],p=s?"right":"wrong",y=s?a:u;if(f===p)return;e.push({id:c,hintKey:p,content:y})}}),[])},U=function(e,t){var n=t.val,r=0;return Object.entries(S(e)).forEach((function(e){var t=_(e,2),o=t[0],i=(0,t[1])(n[o],n);r+=Number(i)})),r},H=function(e){var t=0;return g.a.walk(e.content,(function(e){"expression"===e.type&&t++})),t}},258:function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"c",(function(){return Z})),n.d(t,"d",(function(){return ne})),n.d(t,"b",(function(){return re}));var r=n(39),o=n.n(r),i=n(52),c=n.n(i),a=n(106),u=n.n(a),l=n(155),f=n.n(l),s=n(621),p=n.n(s),y=n(180),b=n.n(y),d=n(56),h=n.n(d),v=n(147),m=n.n(v),g=n(36),O=n.n(g),j=n(307),w=n.n(j),P=n(27);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=1,D=function(e){return Math.abs(e)},A=function(e,t,n){return"hor"===e?[t,n]:[n,t]},q=function(e,t){return"hor"===t?e[0]:e[1]},z=function(e,t){return t?O()(e):m()(e)},I=function(e,t){return D(t[0]-e[0])<.01&&D(t[1]-e[1])<.01},N=function(e,t,n){return"hor"===e?n:t},L=function(e,t,n){return"hor"===e?t:n},M=h()((function(e){if(!e)throw new Error("empty function");var t=[{type:3,show:"x",token:"x",value:"x",preced:0},{type:3,show:"y",token:"y",value:"y",preced:0},{type:0,show:"abs",token:"abs",value:Math.abs}],n=w.a.lex(e,t).toPostfix();return b()(n.value,{show:"^"}).forEach((function(e){e.value=function(e,t){var n=Math.pow(e,t);return.5===t?T*n:n}})),b()(n.value,{show:"sqrt"}).forEach((function(e){e.value=function(e){return T*Math.sqrt(e)}})),function(e){return n.postfixEval({x:e,y:e})}})),B=function(e,t){try{var n=M(t)(e);return n===1/0||n===-1/0?NaN:n}catch(e){return NaN}},U=function(e,t,n){return function(e,t){return Number.isNaN(e[0])?e[1]:Number.isNaN(e[1])||D(t-e[0])<D(t-e[1])?e[0]:e[1]}(function(e,t){T=-1;var n=B(e,t);return T=1,[n,B(e,t)]}(e,t),n)},H=function(e){for(var t=JSON.stringify(e),n=0,r=0;r<t.length;++r){n=(n<<5)-n+t.charCodeAt(r),n&=n}return n},F=function(e,t,n,r,o){for(var i=1/t,c=_(n,2),a=c[0],u=c[1],l=_(r,2),f=l[0],s=l[1],y=[[]],b=y[0],d=a;;d+=i){d>u&&(d=u);var h=B(d,o);if(Number.isNaN(h)||h>s||h<f?b.length&&(y.push([]),b=O()(y)):b.push(A(e,d,h)),d===u)break}var v=y.filter((function(e){return e.length>1}));return{list:v,mode:e,length:p()(v,G)}},W=function(e,t,n,r,o){var i=F(e,t,n,r,o);if(!function(e){return/\^0?\.5|root/.test(e)}(o))return i;var c=H(i.list);T=-1;var a=F(e,t,n,r,o);return T=1,H(a.list)===c?i:S(S({},i),{},{list:[].concat(k(i.list),k(a.list)),length:i.length+a.length})},G=function(e){var t=m()(e),n=O()(e);return Math.sqrt(Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2))},V=function(e,t){return!Number.isNaN(e)&&e>=t[0]&&e<=t[1]},$=function(e,t){return[null===t[0]?e[0]:Math.max(e[0],t[0]),null===t[1]?e[1]:Math.min(e[1],t[1])]},K=function(e,t,n){e?t.splice(t.length,0,n):t.splice(0,0,n)},X=function(e,t,n,r,o,i){var c=z(r,t),a=q(c,e),u=q(c,function(e){return N(e,"hor","ver")}(e));var l=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(r>15)return null;var c=t+(n-t)/2,a=V(c,o.main)?U(c,i,u):NaN;if(!V(a,o.orto))return e(t,c,r+1);var l=e(c,n,r+1);return null!==l?l:c}(a,function(e,t,n){return e?t+n:t-n}(t,a,n));if(null!==l){var f=U(l,i,u);K(t,r,A(e,l,f))}},Y=function(e,t,n,r,o,i,c){var a=z(r,t),u=q(a,e),l=U(o,c.orto,u);if(l!==u){var f=D(l-u);if(!(Number.isNaN(l)||f>n)){var s=U(l,c.main,u),p=D(s-o);Number.isNaN(s)||p>n||V(l,i)&&K(t,r,A(e,l,o))}}},J=function(e,t,n,r,o,i,c){var a=c.fnY,u=c.fnX,l={main:L(t,a,u),orto:N(t,a,u)},f={main:L(t,o,i),orto:N(t,o,i)},s=1/L(t,n,r);if(!1!==c.binaryOptimize&&(X(t,!1,s,e,f,l.main),X(t,!0,s,e,f,l.main)),l.orto&&!1!==c.ortoOptimize){var p=_(f.orto,2),y=p[0],b=p[1];Y(t,!1,s,e,b,f.main,l),Y(t,!0,s,e,b,f.main,l),Y(t,!0,s,e,y,f.main,l),Y(t,!1,s,e,y,f.main,l)}},Z=function(e,t,n){var r=t.kx,o=t.ky,i=n.hor,a=n.ver,l=function(e,t,n,r,o){T=1;var i=o.fnX,c=o.fnY,a=[];return c&&a.push(W("hor",e,n,r,c)),i&&a.push(W("ver",t,r,n,i)),o.mode?f()(a,{mode:o.mode}):u()(a,"length")}(r,o,i,a,e);if(!1!==e.optimize){var s,p=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}(l.list);try{for(p.s();!(s=p.n()).done;){var y=s.value;J(y,l.mode,r,o,i,a,e)}}catch(e){p.e(e)}finally{p.f()}}return 2===l.list.length&&function(e){var t=_(e.list,2),n=t[0],r=t[1];function o(t,r,o){"start"===o?t.splice.apply(t,[0,0].concat(k(r.reverse()))):t.splice.apply(t,[t.length,0].concat(k(r.reverse()))),e.list=[n]}var i=m()(n),c=O()(n),a=m()(r),u=O()(r);I(i,a)?o(n,r,"start"):I(c,u)&&o(n,r,"end")}(l),function(e){return e.map((function(e){return e.map((function(e){var t=_(e,2),n=t[0],r=t[1];return"".concat(c()(n,3)," ").concat(c()(Object(P.p)(r),3))})).join("  ")}))}(l.list)},Q=function(e){if(!e)return null;var t=_(e,2),n=t[0],r=t[1];return Number.isNaN(n)||Number.isNaN(r)?te("boundsIncorrect"):null!==n&&null!==r&&n>=r?te("boundsFromMore"):null},ee=function(e,t){try{return o()(e)&&e.length&&M(e),null}catch(t){return te("parse",e,t.message)}},te=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{key:e,params:n,isPlotErr:!0}},ne=function(e){var t=e.fnX,n=e.fnY,r=[ee(t),ee(n),Q(e.boundsHor),Q(e.boundsVer)].filter(Boolean);return t||n||r.push(te("isEmpty")),r},re=function(e){var t=_(e,2),n=t[0],r=t[1],o=r-n;return[n-o,r+o]}},26:function(e,t,n){"use strict";n.d(t,"u",(function(){return s})),n.d(t,"s",(function(){return p})),n.d(t,"v",(function(){return y})),n.d(t,"w",(function(){return b})),n.d(t,"t",(function(){return d})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return v})),n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return O})),n.d(t,"a",(function(){return j})),n.d(t,"l",(function(){return w})),n.d(t,"r",(function(){return P})),n.d(t,"n",(function(){return R})),n.d(t,"m",(function(){return S})),n.d(t,"b",(function(){return E})),n.d(t,"q",(function(){return k})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return x})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return T})),n.d(t,"e",(function(){return D})),n.d(t,"g",(function(){return A}));var r=n(207),o=n(19),i=n(2),c=n(124),a=n(14);function u(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){u(i,r,o,c,a,"next",e)}function a(e){u(i,r,o,c,a,"throw",e)}c(void 0)}))}}var f=Object(i.b)("PAGE"),s=f.createReplace("SET_PAGE","page"),p=f.createIgnore("SEL","mid"),y=f.createIgnore("UNSEL","mid"),b=f.createIgnore("UNSEL_ALL"),d=f.createIgnore("SEL_ALL"),h=f.create("MOVE_UP","mid"),v=f.create("MOVE_DOWN","mid"),m=f.create("MOD_ADD","idx"),g=f.create("MOD_MAKE_ADAPTIVE","idx"),O=f.create("MOD_CHAIN_ADD","idx, levelId"),j=f.async("MOD_ADAPTIVE_ADD",(function(e,t,n){return function(){var e=l(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(m(t)),r(g(t)),r(O(t,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),w=f.async("MODS_REMOVE",(function(e,t){return function(){var n=l(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:e,mids:t}),n.next=3,r(Object(o.s)());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),P=Object(r.a)("PAGE_RENAME"),R=f.create("MOVE_RIGHT"),S=f.create("MOVE_LEFT"),E=f.async("ADD",(function(e){return function(){var t=l(regeneratorRuntime.mark((function t(n,r){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:e}),o=Object(a.i)(r()),Object(a.q)(o)&&n(D());case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),k=f.async("REMOVE",(function(e){return function(){var t=l(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:e}),t.next=3,n(Object(o.s)());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),_=function(e){return function(){var t=l(regeneratorRuntime.mark((function t(n,r){var o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=Object(a.i)(r()),i=e.map((function(e){return Object(a.l)(o,e)})),n(Object(c.b)("modules",i)),n(b());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=l(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(_(e));case 2:return t.next=4,n(w(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=f.async("MODS_ADAPTIVE_PASTE",(function(e,t,n){return function(){var e=l(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(T(t)),r(O(t,n)),r(g(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),T=f.async("MODS_PASTE",(function(e,t){return function(){var n=l(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:e,idx:t}),n.next=3,r(Object(o.s)());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),D=f.create("INIT_CATEGORIES"),A=f.create("MOD_CHAIN","idx")},27:function(e,t,n){"use strict";n.d(t,"p",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"l",(function(){return h})),n.d(t,"i",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return w})),n.d(t,"n",(function(){return S})),n.d(t,"m",(function(){return E})),n.d(t,"k",(function(){return k})),n.d(t,"o",(function(){return _})),n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return C}));var r=n(52),o=n.n(r);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=Math.abs,u=function(e){return-e},l=function(e,t,n){var r="hor"===e,o=i(n,2),c=o[0],a=o[1];return{x1:r?c:t,y1:u(r?t:c),x2:r?a:t,y2:u(r?t:a)}},f={big:20,medium:15.4,small:10.4},s={sym:11.44,hor:{cornerPad:13.2,axisPad:17.6},ver:{axisPad:20,cornerPad:13.2,numPad:20}},p={pad:6.6},y={above:6.6,pad:6.6,sym:11.44,halfSym:5.72},b=5,d=function(e){return o()(e,3)},h=function(e,t){return d(f[e]/t)},v=function(e,t,n,r,o){var i,c,a,l=p,s=y,b=f,h=t/(b[o]/b.medium);return"hor"===e?(a="middle",i=r,c="before"===n?(-s.pad-s.sym)/h:s.above/h):(a="before"===n?"end":"start",i="before"===n?-l.pad/h:l.pad/h,c=r-s.halfSym/h),{x:d(i),y:u(d(c)),textAnchor:a}},m=function(e){return"before"===e?"after":"before"},g=function(e,t,n,r){var o,i,c,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"auto",l=s,f=l.hor,p=l.ver,y=l.sym;if("hor"===e){o=n-f.cornerPad/t,c="end";var b="auto"===a?m(r):a;i="after"===b?f.axisPad/t:-(y+f.axisPad)/t,a===r&&(i+=("after"===a?y:-y)/t)}else{i=n-(y+p.cornerPad)/t;var h="auto"===a?m(r):a;c="before"===h?"end":"start",o="after"===h?p.axisPad/t:-p.axisPad/t,a===r&&(o+=("after"===a?p.numPad:-p.numPad)/t)}return{x:d(o),y:u(d(i)),textAnchor:c}},O=function(e,t,n){var r=15.6/n,o=t-r,i=9.36/(2*n);return"hor"===e?"\n\t\t\t".concat(o,"           -").concat(i,"\n\t\t\t").concat(o+r,"        0\n\t\t\t").concat(o,"            ").concat(i):"\n\t\t-".concat(i," ").concat(u(o),"\n\t\t0     ").concat(u(o+r),"\n\t\t").concat(i,"  ").concat(u(o))},j=3,w=function(e,t,n){if(0===t)return"medium";var r=function(e,t){var n=0,r=0;function c(e){++r,String(o()(e,j)).length>n&&(n=String(e).length)}for(var a=i(e,2),u=a[0],l=a[1],f=t;f<=l;f+=t)c(f);for(var s=-t;s>=u;s-=t)c(s);return{len:n,count:r}}(e,t),c=r.len,a=r.count,u=n*Math.abs(e[1]-e[0]);return Math.ceil(u/(a*c))<11?"small":"medium"},P=5,R=5,S=function(e,t){var n,r,o,i=0,c=e.x,a=e.y,l=e.placement,f=void 0===l?"top-right":l;return/right$/.test(f)?(o="start",n=c+P/t):(o="end",n=c-P/t),/^top/.test(f)?r=a+R/t:(r=a,i="1em"),{x:n,y:u(r),dy:i,textAnchor:o}},E=function(e,t,n){var r=e.hor,o=e.ver,i=t.x,c=t.y,u=Math.round(i/r.step),l=Math.floor((u*r.step-i)*n.kx);if(a(l)>10)return null;var f=Math.round(c/o.step),s=Math.floor((f*o.step-c)*n.ky);return a(s)>10?null:{x:u*r.step,y:f*o.step}},k=function(e){var t=e.hor,n=e.ver,r=t.bounds[1]-t.bounds[0],o=n.bounds[1]-n.bounds[0];return{w:r,h:o,ar:r/o}},_=function(e){var t=e.createSVGPoint();return{convert:function(n){t.x=n.clientX,t.y=n.clientY;var r=e.getScreenCTM().inverse(),o=t.matrixTransform(r);return o.y=-o.y,{x:o.x,y:o.y}},diff:function(e,t){var n=this.convert(e);return{x:n.x-t.x,y:n.y-t.y}}}},x=function(e,t,n,r){var o=function(e,t,n){var r=Math.abs(e%t),o=e<0;if(r<n)return d(o?e+r:e-r);var i=Math.abs(o?(e-n)%t:(e+n)%t);return i<n?d(o?e-n+i:e+n-i):e}(e,t,t*n);return Math.max(r[0],Math.min(r[1],o))},C=function(e,t,n,r,o){var i=function(t,n,r){var o=t*e,i=Math[r>0?"floor":"ceil"](n/o);return d(i*o)},c=t[1]-t[0],a=n[1]-n[0];return{hor:[i(r,-c,-1),i(r,c,1)],ver:[i(o,-a,-1),i(o,a,1)]}}},294:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r,o,i,c=n(17),a=n.n(c),u=n(1),l=n.n(u),f=n(0),s=n.n(f),p=n(83),y=n(2);n(1078);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){v(i,r,o,c,a,"next",e)}function a(e){v(i,r,o,c,a,"throw",e)}c(void 0)}))}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=Object(y.q)()((i=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,n,r,o=w(i);function i(){var e;g(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(R(e=o.call.apply(o,[this].concat(n))),"state",{width:null,height:null,loaded:!1}),E(R(e),"image",l.a.createRef()),E(R(e),"onLoad",m(regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.width){t.next=4;break}return n=e.image.current,r=n.width,o=n.height,t.next=4,e.safeSetState({width:r,height:o,loaded:!0});case 4:Object(p.b)(),i=e.props.onLoad,onload&&i();case 7:case"end":return t.stop()}}),t)})))),e}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.asset,r=a()(n,"imageSize",{}),o=r.width,i=r.height;return o?{width:o,height:i}:null}}],(n=[{key:"getRatio",value:function(){var e=this.state,t=e.width,n=e.height;return t?n/t:0}},{key:"genImgWidthHeight",value:function(){var e=this.state,t=e.width,n=e.height,r=this.getRatio();return{width:Object(y.v)(t&&"".concat(t,"px")),height:Object(y.v)(!r&&n&&"".concat(n,"px"))}}},{key:"genInnerStyles",value:function(){var e=this.state.height,t=this.getRatio();return{height:Object(y.v)(!t&&e&&"".concat(e,"px"))}}},{key:"genImgStyles",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.genImgWidthHeight())}},{key:"genOuterStyles",value:function(){var e=this.state.width;return{maxWidth:Object(y.v)(e&&"".concat(e,"px")),width:"100%"}}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.src,r=this.state.loaded;return l.a.createElement("div",d({className:"bllx-img-outer","data-loaded":r,style:this.genOuterStyles()},{title:t}),l.a.createElement("div",{className:"bllx-img-inner",style:this.genInnerStyles()}),l.a.createElement("img",d({src:n},{ref:this.image,onLoad:this.onLoad,style:this.genImgStyles()})))}}])&&O(t.prototype,n),r&&O(t,r),i}(l.a.PureComponent),E(o,"propTypes",{asset:s.a.object,src:s.a.string.isRequired,title:s.a.string,onLoad:s.a.func}),r=i))||r},295:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n(1),o=n.n(r),i=n(0),c=n.n(i),a=n(63),u=n(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=new Map,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,n,r,i=v(c);function c(){var e;b(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(g(e=i.call.apply(i,[this].concat(n))),"bgClick",(function(t){var n=t.target;!1!==e.props.canClose&&n.matches(".bllc-dialog")&&e.props.onClose&&e.props.onClose()})),e}return t=c,(n=[{key:"componentDidMount",value:function(){w.set(this,!1),this.props.isActive&&this.props.onOpen&&this.props.onOpen()}},{key:"componentWillUnmount",value:function(){w.delete(this),this.fixPageScroll()}},{key:"fixPageScroll",value:function(){var e=s(w).some((function(e){return f(e,2)[1]}));document.body.style.overflowY=e?"hidden":""}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=e.onClose,i=e.isActive,c=e.canClose,l=e.role,f=Object(u.h)("bllc-dialog",this.props.cls,i&&"bllc-active");return w.set(this,i),this.fixPageScroll(i),o.a.createElement("div",{className:f,onClick:this.bgClick,"data-role":l},o.a.createElement("div",{className:"bllc-dlg-inner"},o.a.createElement("div",{className:"bllc-dlg-title"},o.a.createElement("span",{className:"bllc-dlg-label"},n),r?o.a.createElement("span",{className:"bllc-dlg-close"},o.a.createElement(a.a,{icon:"cancel-circled",onClick:r,disabled:!1===c,role:"close-dialog"})):null),o.a.createElement("div",{className:"bllc-dlg-container"},t)))}},{key:"componentWillReceiveProps",value:function(e){var t=e.isActive;t!==this.props.isActive&&(w.set(this,t),this.fixPageScroll(),t&&this.props.onOpen&&this.props.onOpen())}}])&&d(t.prototype,n),r&&d(t,r),c}(o.a.PureComponent);j(P,"propTypes",{children:c.a.node,title:c.a.string.isRequired,onClose:c.a.func.isRequired,canClose:c.a.bool,isActive:c.a.bool.isRequired,onOpen:c.a.func,role:c.a.string})},3:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return v}));var r=n(50),o=n.n(r),i=n(1),c=n.n(i),a=n(208),u=n(107),l=o()(["c","lessonApi","cprops","cpayload","rapi","mid","modTools","hintedElement"],(function(e,t){e[t]=c.a.createContext()}),{});l.t=u.a.t,l.app=u.a.app;var f=Object(a.a)(l),s=f.provideContext,p=f.contextHOC,y=f.renderContext,b=f.i18nContext,d=f.genNamedContext,h=function(e){return l[e].Consumer},v=function(e){return l[e].Provider}},30:function(e,t,n){"use strict";n.d(t,"f",(function(){return r.a})),n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return g})),n.d(t,"m",(function(){return O})),n.d(t,"h",(function(){return j.a})),n.d(t,"i",(function(){return T})),n.d(t,"k",(function(){return K})),n.d(t,"l",(function(){return oe})),n.d(t,"c",(function(){return ie.a})),n.d(t,"j",(function(){return ce.a})),n.d(t,"g",(function(){return ae.a})),n.d(t,"d",(function(){return ue.a})),n.d(t,"n",(function(){return ue.c})),n.d(t,"e",(function(){return ue.b}));var r=n(63),o=n(252),i=n(1),c=n.n(i),a=n(0),u=n.n(a),l=n(2);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r,o=b(i);function i(){var e;s(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){var n=t.target;(0,e.props.onChange)(n.checked)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.value,r=e.disabled,o=e.label,i=e.role,a=Object(l.h)("bllx-cbox",r&&"bllx-cbox-disabled",this.props.cls);return c.a.createElement("label",{className:a},c.a.createElement("input",{type:"checkbox",onChange:this.onChange,checked:n,disabled:r,"data-role":i}),c.a.createElement("span",{className:"bllc-cbox-label"},t||o))}}])&&p(t.prototype,n),r&&p(t,r),i}(c.a.PureComponent);m(g,"propTypes",{children:u.a.node,onChange:u.a.func,value:u.a.bool.isRequired,disabled:u.a.bool,label:u.a.string,role:u.a.string,cls:u.a.string});var O=function(e){return!1!==e.visible?c.a.createElement("div",{className:"bllx-spinner"},c.a.createElement(r.a,{cls:"bllx-spinner-icon",icon:"clock"})):null},j=n(202);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(i,e);var t,n,r,o=E(i);function i(){var e;P(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(_(e=o.call.apply(o,[this].concat(n))),"focus",(function(e){e.target.parentNode.querySelector("input").focus()})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.label;return c.a.createElement("div",{className:"bllx-input-row"},c.a.createElement("label",{onClick:this.focus},e),c.a.createElement(j.a,this.props))}}])&&R(t.prototype,n),r&&R(t,r),i}(c.a.PureComponent),D=n(79),A=n.n(D),q=n(8),z=n(600);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=Symbol("val"),$=Object(q.a)((function(e){return e}),(function(e){return c.a.Children.map(e,(function(e,t){return G({label:e.props.children,value:t},V,"data-value"in(n=e.props)?n["data-value"]:n.value);var n}))})),K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(i,e);var t,n,r,o=U(i);function i(){var e;L(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return G(F(e=o.call.apply(o,[this].concat(n))),"getIdx",(function(t){return $(e.props.children).findIndex((function(e){return e[V]===t}))})),G(F(e),"onChange",(function(t){var n=e.props,r=n.onChange;r(n.multi?t.map((function(e){return e[V]})):t?t[V]:void 0)})),e}return t=i,(n=[{key:"genOptions",value:function(){var e,t=this.props,n=t.children,r=t.value,o=t.multi,i=$(n);if(o)e=r.map(this.getIdx);else{var c=this.getIdx(r);e=-1===c?void 0:c}return{options:i,value:e}}},{key:"getValueIndex",value:function(){var e=this.props.value;return A()(this.genOptions(),(function(t){return t.props.value===e}))}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.role,r=e.status,o=e.width,i=e.onFocus,a=e.multi,u=e.clearable,f=Object(l.h)("bllx-select-wrapper",this.props.cls),s=this.genOptions(),p=s.options,y=s.value;return c.a.createElement("div",{className:f,"data-status":Object(l.v)(r),style:{width:o},"data-role":n},c.a.createElement(z.a,N({onChange:this.onChange},{options:p,value:y,onFocus:i,disabled:t,multi:a},{clearable:!0===u})))}}])&&M(t.prototype,n),r&&M(t,r),i}(c.a.PureComponent);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?te(e):t}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}G(K,"propTypes",{value:u.a.any,onChange:u.a.func.isRequired,onFocus:u.a.func,cls:u.a.string,children:u.a.node.isRequired,disabled:u.a.bool,role:u.a.string,status:u.a.string,width:u.a.string,multi:u.a.bool,clearable:u.a.bool});var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(i,e);var t,n,r,o=Q(i);function i(){var e;Y(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return re(te(e=o.call.apply(o,[this].concat(n))),"focus",(function(e){e.target.parentNode.querySelector("input").focus()})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.children;return c.a.createElement("div",{className:"bllx-select-row"},c.a.createElement("label",{onClick:this.focus},t),c.a.createElement(K,this.props,n))}}])&&J(t.prototype,n),r&&J(t,r),i}(c.a.PureComponent),ie=n(302),ce=n(142),ae=n(294),ue=n(141)},302:function(e,t,n){"use strict";n.d(t,"a",(function(){return le}));var r=n(1),o=n.n(r),i=n(0),c=n.n(i),a=n(2),u=n(63);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="bllx-choice",g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,r,i=y(c);function c(){var e;f(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=i.call.apply(i,[this].concat(n))),"onKeyDown",(function(e){switch(e.key){case" ":case"Enter":e.preventDefault()}})),v(d(e),"onKeyUp",(function(t){switch(t.key){case" ":case"Enter":e.props.toggleDropdown()}})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.el,n=e.Content,r=e.opened,i=e.toggleDropdown,c=e.placeholder,l=e.disabled,f=t||c||[];return o.a.createElement("div",{className:"".concat(m,"-label"),onClick:Object(a.v)(!l&&i),onKeyDown:Object(a.v)(!l&&this.onKeyDown),onKeyUp:Object(a.v)(!l&&this.onKeyUp),tabIndex:Object(a.v)(!l&&0)},o.a.createElement("div",{className:"".concat(m,"-inner")},o.a.createElement(n,{el:f})),o.a.createElement(u.a,{icon:r?"up-open":"down-open",cls:"".concat(m,"-icon")}))}}])&&s(t.prototype,n),r&&s(t,r),c}(o.a.PureComponent);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}v(g,"propTypes",{el:c.a.any,Content:c.a.func.isRequired,opened:c.a.bool.isRequired,placeholder:c.a.any,toggleDropdown:c.a.func.isRequired,disabled:c.a.bool.isRequired});var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(c,e);var t,n,r,i=R(c);function c(){var e;j(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(E(e=i.call.apply(i,[this].concat(n))),"choose",(function(){var t=e.props,n=t.idx;(0,t.choose)(n)})),_(E(e),"onMouseMove",(function(){var t=e.props,n=t.idx;(0,t.select)(n)})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.el,n=e.idx,r=e.isSel,i=e.Content;return o.a.createElement("div",{className:"".concat("bllx-choice","-dropitem"),onClick:this.choose,"data-is-sel":Object(a.v)(r),onMouseMove:this.onMouseMove},o.a.createElement("div",{className:"".concat("bllx-choice","-content")},o.a.createElement(i,{el:t,idx:n})))}}])&&w(t.prototype,n),r&&w(t,r),c}(o.a.PureComponent);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_(x,"propTypes",{el:c.a.any.isRequired,idx:c.a.number.isRequired,Content:c.a.func.isRequired,choose:c.a.func.isRequired,isSel:c.a.bool.isRequired,select:c.a.func.isRequired});var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(c,e);var t,n,r,i=z(c);function c(){var e;D(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(N(e=i.call.apply(i,[this].concat(n))),"state",{width:null,selected:e.props.value}),M(N(e),"touchMode",Object(a.l)()),M(N(e),"setBlock",(function(t){if(e.block=t,t&&!window.TEST){var n=t.closest(".".concat("bllx-choice")).offsetWidth;e.setState({width:n})}})),M(N(e),"onKeyDown",(function(e){switch(e.key){case"ArrowDown":case"ArrowUp":case" ":e.preventDefault()}})),M(N(e),"onKeyUp",(function(t){switch(t.key){case"ArrowDown":e.chooseDown();break;case"ArrowUp":e.chooseUp();break;case" ":case"Enter":e.chooseSelect()}})),M(N(e),"onBlur",(function(){e.props.close()})),M(N(e),"select",(function(t){t!==e.state.selected&&e.setState({selected:t})})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.block.focus()}},{key:"chooseDown",value:function(){var e=this.props.list,t=this.state.selected,n=void 0===t?-1:t,r=n===e.length-1?0:n+1;this.select(r)}},{key:"chooseUp",value:function(){var e=this.props.list,t=this.state.selected,n=void 0===t?-1:t,r=0===n?e.length-1:n-1;this.select(r)}},{key:"chooseSelect",value:function(){var e=this.state.selected,t=this.props,n=t.choose;t.list[e]&&n(e)}},{key:"render",value:function(){var e=this.props,t=e.list,n=e.choose,r=e.Content,i=this.state,c=i.width,a=i.selected,u=o.a.createElement("div",{className:"".concat("bllx-choice","-dropdown"),ref:this.setBlock,style:{width:c},tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onBlur:this.onBlur},t.map((function(e,i){return o.a.createElement(x,T({key:i},{el:e,Content:r,choose:n,idx:i},{select:this.select,canDel:t.length>1,isSel:a===i}))}),this));return this.touchMode?o.a.createElement("div",{className:"".concat("bllx-choice","-blackout")},u):u}}])&&A(t.prototype,n),r&&A(t,r),c}(o.a.PureComponent);M(B,"propTypes",{list:c.a.array.isRequired,value:c.a.number,Content:c.a.func.isRequired,choose:c.a.func.isRequired,close:c.a.func.isRequired});var U=n(8);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(c,e);var t,n,r,i=$(c);function c(){var e;W(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return J(X(e=i.call.apply(i,[this].concat(n))),"genChildren",Object(U.a)((function(e){return e.children}),(function(e){return o.a.Children.toArray(e).map((function(e,t){return{content:e.props.children,value:e.props.value,idx:t}}))}))),J(X(e),"genList",Object(U.a)(e.genChildren,(function(e){return e.clearable}),(function(t,n){return n?t:t.filter((function(t){return!e.isPlaceholder(t.value)}))}))),J(X(e),"genHash",Object(U.a)((function(e){return e.children}),(function(t){return o.a.Children.toArray(t).reduce((function(t,n,r){return t[e.isPlaceholder(n.props.value)?"placeholder":n.props.value]=r,t}),{})}))),J(X(e),"Content",(function(e){return e.el.content})),J(X(e),"onChange",(function(t){var n=e.parseOptions().list[t];e.props.onChange(n.value)})),e}return t=c,(n=[{key:"isPlaceholder",value:function(e){return!e&&0!==e&&!1!==e}},{key:"parseOptions",value:function(){var e=this.props.value,t=this.genChildren(this.props),n=this.genList(this.props);return{list:n,placeholder:t[this.genHash(this.props).placeholder],value:n.findIndex((function(t){return t.value===e}))}}},{key:"render",value:function(){var e=this.parseOptions(),t=e.placeholder,n=e.list,r=e.value;return o.a.createElement(le,F({},this.props,{placeholder:t,list:n,value:r},{Content:this.Content,onChange:this.onChange}))}}])&&G(t.prototype,n),r&&G(t,r),c}(o.a.PureComponent);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ie(this,n)}}function ie(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?ce(e):t}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}J(Z,"propTypes",{children:c.a.node.isRequired,onChange:c.a.func.isRequired,clearable:c.a.bool}),J(Z,"defaultProps",{clearable:!0});var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(c,e);var t,n,r,i=oe(c);function c(){var e;te(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ue(ce(e=i.call.apply(i,[this].concat(n))),"state",{opened:!1}),ue(ce(e),"toggleDropdown",(function(){e.state.opened?e.close():e.dropdown()})),ue(ce(e),"dropdown",(function(){e.state.opened||(e.setState({opened:!0}),document.body.addEventListener("click",e.tryClose),document.body.addEventListener("keyup",e.escHandle))})),ue(ce(e),"setBlock",(function(t){e.block=t})),ue(ce(e),"tryClose",(function(t){t.target.closest(".".concat("bllx-choice"))!==e.block&&e.close()})),ue(ce(e),"escHandle",(function(t){"Escape"===t.key&&e.close()})),ue(ce(e),"close",(function(){e.setState({opened:!1}),document.body.removeEventListener("click",e.tryClose),document.body.removeEventListener("keypress",e.escHandle)})),ue(ce(e),"choose",(function(t){e.props.onChange(t),e.close(),e.tryFocusLabel()})),e}return t=c,(n=[{key:"tryFocusLabel",value:function(){var e=this.block.querySelector(".".concat("bllx-choice","-label"));e&&e.focus()}},{key:"render",value:function(){var e=this.props,t=e.Content,n=e.value,r=e.list,i=e.width,c=e.placeholder,u=e.disabled,l=void 0!==u&&u,f=e.status,s=e.role,p=this.state.opened,y=Object(a.h)("bllx-choice",this.props.cls);return o.a.createElement("div",{className:y,style:{width:i},disabled:Object(a.v)(l),"data-enabled":Object(a.v)(!l),"data-status":Object(a.v)(f),"data-role":Object(a.v)(s),ref:this.setBlock},o.a.createElement(g,ee({el:r[n]},{Content:t,opened:p,placeholder:c,disabled:l},{toggleDropdown:this.toggleDropdown})),p?o.a.createElement(B,ee({list:r,Content:t,value:n},{choose:this.choose,close:this.close})):null)}}])&&ne(t.prototype,n),r&&ne(t,r),c}(o.a.PureComponent);ue(le,"propTypes",{list:c.a.array.isRequired,value:c.a.number,placeholder:c.a.any,Content:c.a.func.isRequired,width:c.a.string,cls:c.a.string,onChange:c.a.func.isRequired,disabled:c.a.bool,status:c.a.string,role:c.a.string}),ue(le,"Select",Z)},305:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g}));var r=n(1),o=n.n(r),i=n(0),c=n.n(i),a=n(2),u=n(9);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={paragraph:"paragraph",group:"folder-open-empty-1",text:"font",link:"link-ext-alt",assetLink:"link",heading:"header",formula:"math","expression:input":"check-empty-1","expression:choice":"doc-text","expression:math":"calc","expression:dragitem":"move","expression:nest":"target","expression:longMath":"plus-outline","expression:sortable":"shuffle",image:"camera",video:"videocam",table:"table",list:"list-bullet",listItem:"list-add",model:"codepen",toggleBlock:"help-circled",set:"th-large",plot:"chart",gallery:"picture",tip:"marquee",widget:"dropbox",inlineGroup:"box"},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,r,i=y(c);function c(){var e;f(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=i.call.apply(i,[this].concat(n))),"selType",(function(){return e.props.sel(e.props.type)})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.type,n=e.selType,r=e.tt,i=Object(a.h)("bllc-cp-mod-btn","bllc-cmb-".concat(t.replace(":","_")),n===t&&"bllc-cp-mod-selected");return o.a.createElement(u.a,{icon:m[t],cls:i,onClick:this.selType,title:r(t)})}}])&&s(t.prototype,n),r&&s(t,r),c}(o.a.PureComponent);v(g,"propTypes",{tt:c.a.func.isRequired,sel:c.a.func.isRequired,selType:c.a.string,type:c.a.string.isRequired})},309:function(e,t,n){"use strict";var r=n(57),o=n.n(r),i=n(1),c=n.n(i),a=n(618),u=n.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,i=y(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).sortable=c.a.createRef(),e}return t=a,(n=[{key:"componentDidUpdate",value:function(e,t){if(!o()(e.options,this.props.options)){var n=this.sortable.current.sortable,r=e.options,i=this.props.options;for(var c in i)r[c]!==i[c]&&n.option(c,i[c])}}},{key:"render",value:function(){return c.a.createElement(u.a,f({ref:this.sortable},this.props))}}])&&s(t.prototype,n),r&&s(t,r),a}(c.a.PureComponent);t.a=h},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r,o,i=n(1),c=n.n(i),a=n(8),u=n(3),l=n(9),f=n(75);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m,g,O={right:{icon:"check",locale:"rightTip"},wrong:{icon:"check-empty",locale:"wrongTip"},solution:{icon:"flag-filled",locale:"solution"}},j=(r=Object(u.e)("mods.custom.hints."),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=d(i);function i(){return p(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){return c.a.createElement("fieldset",{className:"bllc-fieldset bllc-mod-hints-box"},c.a.createElement("legend",null,e("blockTitle")),Object.keys(O).map((function(t,n){return c.a.createElement("div",{key:n,className:"bllc-mmb-item"},c.a.createElement(l.a,{icon:O[t].icon,title:e(O[t].locale)}),f.a?c.a.createElement(f.a,{path:"hints.".concat(t)}):null)}),this))}}])&&y(t.prototype,n),r&&y(t,r),i}(c.a.PureComponent)).prototype,"render",[r],Object.getOwnPropertyDescriptor(o.prototype,"render"),o.prototype),o),w=function(){return c.a.createElement(f.a,{path:"description"})};function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=(m=Object(u.g)("modTools"),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(i,e);var t,n,r,o=k(i);function i(){return R(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=e.c,n=this.props.children,r="bllc-mb-body ".concat(t());return c.a.createElement("div",{className:r},n)}}])&&S(t.prototype,n),r&&S(t,r),i}(c.a.PureComponent)).prototype,"render",[m],Object.getOwnPropertyDescriptor(g.prototype,"render"),g.prototype),g);n(1188);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,n,r,o=q(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),L(I(t=o.call(this,e)),"modDispatch",(function(){var e;return(e=t.props).modDispatch.apply(e,arguments)})),L(I(t),"getModTools",Object(a.a)((function(e){return e.module.id}),(function(e){return e.modDispatch}),(function(e,n){return{mid:e,modDispatch:n,c:t.c}}))),L(I(t),"c",(function(e){return"bllc-t-".concat(t.cssPrefix||t.type())+(e?"-".concat(e):"")})),t.render=Object(u.f)(["modTools","getModTools"])(null,null,{value:t.render}).value,t}return t=i,(n=[{key:"mid",value:function(){return this.props.module.id}},{key:"type",value:function(){return this.props.module.type}}])&&D(t.prototype,n),r&&D(t,r),i}(c.a.PureComponent);L(M,"Description",w),L(M,"Hints",j),L(M,"Box",C),L(M,"Content",f.a)},310:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(58),o=function(e){if(!Array.isArray(e))throw new TypeError("Argument must be array");for(var t=0;t<e.length-1;t++)if(!r.a.isEqual(e[t],e[t+1]))return!1;return!0}},313:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r,o,i,c,a=n(106),u=n.n(a),l=n(1),f=n.n(l),s=n(0),p=n.n(s),y=n(3);n(1185);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P,R,S,E,k,_,x="bllx-content-tooltip",C=function(e){return e<0?e:0},T=(r=Object(y.g)("lessonApi"),c=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,o=m(i);function i(){var e;d(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(O(e=o.call.apply(o,[this].concat(n))),"block",f.a.createRef()),w(O(e),"handleDocumentClick",(function(t){var n=t.target,r=e.props,o=r.parentCid,i=r.onCloseClick;e.cx.lessonApi.isMobile||n.closest('.bllp-c-tip-outer[data-cid="'.concat(o,'"]'))||i()})),e}return t=i,(n=[{key:"detectTipPos",value:function(){var e=this.props,t=e.tipBlock,n=e.hOffset,r=e.vOffset,o=this.block.current,i=t.getBoundingClientRect(),c=i.top,a=i.bottom,l=i.left,f=i.right,s=t.offsetHeight,p=t.offsetWidth,y=o.offsetHeight,b=o.offsetWidth,d=window.innerWidth,h=window.innerHeight,v=h-a-n,m=d-f-n,g=l-r,O=c+s/2,j=h-a+s/2,w=d-f+p/2,P=l+p/2,R=C(c-r-y),S=C(v-y),E=C(m-b),k=C(g-b),_=C(w-b/2),x=C(P-b/2),T=C(O-y/2),D=C(j-y/2);if(0==S&&0===_&&0===x)return"bottom";if(0==R&&0===_&&0===x)return"top";if(0===E&&0===T&&0===D)return"right";if(0===k&&0===T&&0===D)return"left";var A={bottom:S+_+x,top:R+_+x,right:E+T+D,left:k+T+D};return u()(Object.keys(A),(function(e){return A[e]}))}},{key:"componentDidMount",value:function(){if(document.addEventListener("click",this.handleDocumentClick),!this.cx.lessonApi.isMobile){var e=this.props,t=e.tipBlock,n=e.vOffset,r=e.hOffset,o=this.detectTipPos(),i=this.block.current,c=i.offsetHeight,a=i.offsetWidth,u=t.offsetHeight;switch(o){case"top":i.style.top=-1*(c+n)+"px";break;case"bottom":i.style.top=u+n+"px";break;case"right":i.style.right=-1*(a+r)+"px",i.style.left="initial",i.style.top=(c-u)/2*-1+"px";break;case"left":i.style.left=-1*(a+r)+"px",i.style.right="initial",i.style.top=(c-u)/2*-1+"px"}}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick)}},{key:"render",value:function(e){var t=this.props,n=t.data,r=t.cid,o=t.renderContent,i=t.onCloseClick;return f.a.createElement(f.a.Fragment,null,e.isMobile?null:f.a.createElement("div",{ref:this.block,className:"".concat(x,"-lg")},o(n,r)),e.isMobile?[f.a.createElement("div",{className:"".concat(x,"-sm-overlay"),onClick:i,key:"0"},f.a.createElement("div",{className:"".concat(x,"-sm")},o(n,r))),","]:null)}}])&&h(t.prototype,n),r&&h(t,r),i}(f.a.Component),w(i,"defaultProps",{hOffset:16,vOffset:16}),w(i,"propTypes",{parentCid:p.a.string.isRequired,cid:p.a.string.isRequired,onCloseClick:p.a.func.isRequired,data:p.a.array.isRequired,tipBlock:p.a.object.isRequired,isPlatform:p.a.bool,hOffset:p.a.number,vOffset:p.a.number}),P=(o=c).prototype,R="render",S=[r],E=Object.getOwnPropertyDescriptor(o.prototype,"render"),k=o.prototype,_={},Object.keys(E).forEach((function(e){_[e]=E[e]})),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),_=S.slice().reverse().reduce((function(e,t){return t(P,R,e)||e}),_),k&&void 0!==_.initializer&&(_.value=_.initializer?_.initializer.call(k):void 0,_.initializer=void 0),void 0===_.initializer&&(Object.defineProperty(P,R,_),_=null),o)},314:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r,o,i,c,a,u=n(1),l=n.n(u),f=n(0),s=n.n(f),p=n(9),y=n(74),b=n(94),d=n(3);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S,E,k,_,x,C,T=(r=Object(d.g)("mid"),o=Object(d.e)("mods.expressions."),a=c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,o=O(i);function i(){var e;v(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(w(e=o.call.apply(o,[this].concat(n))),"choose",(function(t){var n=e.props.usedExp,r=e.getContentBlock();b.a.choose(r,null,n,e.onChoose)})),R(w(e),"onChoose",(function(t){t&&"dragitem"!==t.kind&&e.props.onChoose(t)})),e}return t=i,(n=[{key:"getContentBlock",value:function(){var e=this.cx.mid;return Object(y.c)(e,"content")}},{key:"render",value:function(e,t){var n=this.props.disabled;return l.a.createElement(p.a,{icon:"target",disabled:n,onClick:this.choose,title:t("chooseHint")})}}])&&m(t.prototype,n),r&&m(t,r),i}(l.a.PureComponent),R(c,"propTypes",{disabled:s.a.bool.isRequired,onChoose:s.a.func.isRequired,usedExp:s.a.instanceOf(Set).isRequired}),S=(i=a).prototype,E="render",k=[r,o],_=Object.getOwnPropertyDescriptor(i.prototype,"render"),x=i.prototype,C={},Object.keys(_).forEach((function(e){C[e]=_[e]})),C.enumerable=!!C.enumerable,C.configurable=!!C.configurable,("value"in C||C.initializer)&&(C.writable=!0),C=k.slice().reverse().reduce((function(e,t){return t(S,E,e)||e}),C),x&&void 0!==C.initializer&&(C.value=C.initializer?C.initializer.call(x):void 0,C.initializer=void 0),void 0===C.initializer&&(Object.defineProperty(S,E,C),C=null),i)},315:function(e,t,n){"use strict";n.r(t),n.d(t,"def",(function(){return u})),n.d(t,"aVideoTick",(function(){return l})),n.d(t,"map",(function(){return f})),n.d(t,"isCorrect",(function(){return s}));var r=n(2);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=Object(r.b)("PLMOD_SIMPLE"),u={},l=a.create("VIDEO_TICK","diff"),f=c({},l.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=t.diff;return i(i({},e),n)})),s=function(){return!0}},317:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=function(e){return e.toLowerCase().replace(/\./g,",").trim()},o=function(e,t){var n=e.split("|").filter((function(e){return e.length})).map(r),o=r(t||"");return n.some((function(e){return e===o}))}},319:function(e,t,n){"use strict";n.r(t),n.d(t,"conTBlockToggle",(function(){return o})),n.d(t,"def",(function(){return i})),n.d(t,"map",(function(){return c})),n.d(t,"reducer",(function(){return a}));var r=n(5),o=function(e,t){return{type:"CON_TBLOCK_TOGGLE",id:e,cid:t}},i={tblock:{}},c={CON_TBLOCK_TOGGLE:function(e,t){var n=t.id,o=t.cid;return Object(r.p)(e,"tblock",Object(r.n)(e.tblock,"".concat(n,":").concat(o)))}},a=function(e,t){return c[t.type](e,t)}},320:function(e,t,n){"use strict";n.r(t),n.d(t,"aSetValue",(function(){return a})),n.d(t,"map",(function(){return u})),n.d(t,"def",(function(){return l})),n.d(t,"isCorrect",(function(){return f})),n.d(t,"getCorrect",(function(){return s}));var r=n(2);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=Object(r.b)("PLMOD_SELECT").create("SET_VALUE","val"),u=c({},a.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=t.val;return i(i({},e),{},{sel:n})})),l={sel:null},f=function(e,t){var n=e.right;return t.sel===n},s=function(e){return{sel:e.right}}},321:function(e,t,n){"use strict";n.r(t),n.d(t,"aSet",(function(){return a})),n.d(t,"def",(function(){return u})),n.d(t,"map",(function(){return l})),n.d(t,"isCorrect",(function(){return f}));var r=n(2);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=Object(r.b)("PLMOD_ESSAY").create("SET","text"),u={text:""},l=c({},a.type,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=t.text;return i(i({},e),{},{text:n})})),f=function(){return!0}},322:function(e,t,n){"use strict";n.d(t,"a",(function(){return Mj}));var r={};n.r(r),n.d(r,"div",(function(){return ho})),n.d(r,"sub",(function(){return vo.b})),n.d(r,"add",(function(){return vo.a})),n.d(r,"multiply",(function(){return To})),n.d(r,"check",(function(){return Do}));var o=n(50),i=n.n(o),c=n(1),a=n.n(c),u=n(0),l=n.n(u),f=n(17),s=n.n(f),p=n(306),y=n.n(p),b=n(178),d=n.n(b);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,o=O(i);function i(){var e;v(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(w(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){var n=e.props,r=n.text,o=n.onChange,i=t.target.innerText;i!==r&&o(i)})),R(w(e),"onKeyPress",(function(t){"Enter"===t.key&&e.props.onEnter&&(t.preventDefault(),e.props.onEnter())})),e}return t=i,r=[{key:"focus",value:function(e){e.querySelector(".bllc-c-text-editable").focus()}}],(n=[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.text,r=e.cls,o=void 0===r?"":r,i=e.onFocus;return a.a.createElement("span",{"data-cid":t,className:"bllc-c-text-editable ".concat(o),onFocus:i,onKeyPress:this.onKeyPress,contentEditable:"plaintext-only",onBlur:this.onChange,dangerouslySetInnerHTML:{__html:d()(n)}})}}])&&m(t.prototype,n),r&&m(t,r),i}(a.a.PureComponent);R(S,"propTypes",{text:l.a.string.isRequired,onChange:l.a.func.isRequired,onFocus:l.a.func.isRequired,onEnter:l.a.func,cls:l.a.string,cid:l.a.string});var E=n(40),k=n(2),_=n(3),x=n(6);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(i,e);var t,n,r,o=N(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),U(M(t=o.call(this,e)),"focus",(function(e){var n=e.target;if(!t.focusCss||n.matches(t.focusCss)){if(t.focusByCid)if(n.getAttribute("data-cid")!==t.cid())return;t.cx.rapi.sel(t.cid())}})),U(M(t),"replace",(function(e){var n=t.props.cid,r=x.a.pack(e);t.cx.rapi.replaceIn(n,r)})),U(M(t),"replaceField",(function(e,n){var r=t.props.el;t.replace(q(q({},r),{},U({},e,n)))})),t.wrapContext(),t}return t=i,(n=[{key:"wrapContext",value:function(){var e=this,t=this.render;this.render=Object(_.g)("cpayload","rapi")(null,null,{value:function(n,r){for(var o=arguments.length,i=new Array(o>2?o-2:0),c=2;c<o;c++)i[c-2]=arguments[c];return t.apply.apply(t,[e].concat(i))}}).value}},{key:"cid",value:function(){return this.props.cid}},{key:"id",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.cid,n=this.cx.rapi.regionId;return"".concat(n,":").concat(t,":").concat(e)}},{key:"cls",value:function(e){for(var t=this.cx.cpayload,n=t.selected,r=t.isEditing,o=this.props.cid,i=e.split(/\s+/).map((function(e){return"bllc-c-".concat(e)})),c=arguments.length,a=new Array(c>1?c-1:0),u=1;u<c;u++)a[u-1]=arguments[u];return k.h.apply(void 0,T(i).concat([o===n&&"bllc-c-selected",!r&&"bllc-cr-nonediting",r&&"bllc-cr-editing"],a))}}])&&z(t.prototype,n),r&&z(t,r),i}(a.a.PureComponent);U(H,"isContentItem",!0);var F,W,G,V,$=n(25),K=n(125);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),e}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?oe(e):t}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=/^\s*\\(Input|Select)\{[^}]+\}\s*$/,ue=function(e){ee(n,e);var t=ne(n);function n(){return J(this,n),t.apply(this,arguments)}return Q(n,[{key:"render",value:function(){var e=this.props,t=e.bounds,n=e.id,r=e.value;return a.a.createElement("div",{className:"bllc-c-formula-input",style:t,"data-exp-id":n,"data-exp-kind":"formula"},a.a.createElement("input",Y({disabled:!0},{value:r})))}}]),n}(a.a.PureComponent);ce(ue,"propTypes",{bounds:l.a.object.isRequired,value:l.a.string.isRequired,id:l.a.string.isRequired});var le=(F=Object(_.e)("mods.content.exp."),V=G=function(e){ee(n,e);var t=ne(n);function n(){var e;J(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ce(oe(e=t.call.apply(t,[this].concat(o))),"onChange",(function(t){e.replaceField("latex",t)})),ce(oe(e),"state",{controls:[]}),ce(oe(e),"setRef",(function(t){if(t){var n=Array.from(t.querySelectorAll("input")).map((function(t,n){return{bounds:K.a.calcBounds(t),id:"".concat(e.props.el.fid,".").concat(n),value:t.getAttribute("data-value"),kind:"input"}}));n&&e.setState({controls:n})}})),ce(oe(e),"onEnter",(function(){e.cx.rapi.tryFallCreate("group",e.cid())})),e}return Q(n,[{key:"hasIllegalExp",value:function(){var e=this.cx.rapi.withExpressions,t=this.props.el.latex;return!e&&/\\Input/.test(t)}},{key:"render",value:function(){var e=this.props.formula,t=this.cx.cpayload.isEditing,n=this.props.el,r=n.latex,o=n.fid,i=this.state.controls,c=this.cx.tt,u=this.cls("formula",this.hasIllegalExp()&&"bllc-c-illegal");if(t&&r.match(ae)){var l=c("errAloneControl");return a.a.createElement(E.a,{err:"err-formula: ".concat(l)})}if(t)return a.a.createElement(S,{cls:u,text:r,onChange:this.onChange,cid:this.cid(),onFocus:this.focus,onEnter:this.onEnter});if(!o)return a.a.createElement(E.a,{err:"Empty Formula-ID"});var f=window.TEST&&!y()(e,"svg")?r:s()(e,"svg");return f?a.a.createElement("div",{className:u,title:r,"data-cid":this.cid()},a.a.createElement("div",{className:"bllc-c-formula-content",dangerouslySetInnerHTML:{__html:f},ref:this.setRef}),i.map((function(e,t){return a.a.createElement(ue,Y({},e,{key:e.id}))}),this)):a.a.createElement(E.a,{err:"err-formula: ".concat(r)})}}],[{key:"focus",value:function(e){e.focus()}},{key:"map",value:function(e,t){return{formula:e.formulas[t.el.latex]}}}]),n}(H),ce(G,"isContentItem",!0),ce(G,"propTypes",{formula:l.a.shape({w:l.a.number.isRequired,h:l.a.number.isRequired,svg:l.a.string.isRequired}),el:l.a.shape({type:l.a.string.isRequired,fid:l.a.string,latex:l.a.string.isRequired}).isRequired,cid:l.a.string.isRequired}),ce(G,"cxPropTypes",{cpayload:l.a.shape({isEditing:l.a.bool.isRequired}).isRequired,rapi:l.a.shape({withExpressions:l.a.bool.isRequired,tryFallCreate:l.a.func.isRequired}).isRequired,tt:l.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((W=V).prototype,"render",[F],Object.getOwnPropertyDescriptor(W.prototype,"render"),W.prototype),W),fe=Object.assign(Object($.c)(le,["formulas"]),{focus:le.focus});function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var de=null,he=Object(k.p)((function(e){var t=e.list,n=e.path,r=e.useDnD;return t.map((function(e,t){return a.a.createElement(de,be({data:e,key:t},{cid:"".concat(n,".").concat(t),dndIndex:Object(k.v)(r&&t)}))}),this)}),"ContentList");he.propTypes={list:l.a.array.isRequired,path:l.a.string.isRequired,useDnD:l.a.bool};var ve,me,ge,Oe,je,we=Object(k.x)((function(e){return pe(pe({},e),{},{isEditing:!1})})),Pe=Object(k.p)((function(e){var t=Object(_.d)("cpayload"),n=Object(_.c)("cpayload");return a.a.createElement(n,null,(function(n){return a.a.createElement(t,{value:we(n)},a.a.createElement(he,e))}))}),"AlwaysDisplayContentList"),Re=n(35),Se=n(56),Ee=n.n(Se),ke=n(28),_e=n.n(ke),xe=n(24);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?Le(e):t}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue=(ve=Object(_.g)("rapi"),me=Object(_.e)("mods.content.list."),je=Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(i,e);var t,n,r,o=Ie(i);function i(){var e;Ae(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Be(Le(e=o.call.apply(o,[this].concat(n))),"setNumeric",(function(){e.setListType("numeric")})),Be(Le(e),"setBulleted",(function(){e.setListType("bulleted")})),Be(Le(e),"genData",Ee()((function(e){return{id:e}}))),e}return t=i,(n=[{key:"setListType",value:function(e){var t=this.props,n=t.el,r=t.cid,o="numeric"===e?De(De({},n),{},{listType:"numeric"}):_e()(n,"listType");this.cx.rapi.replaceIn(r,o)}},{key:"render",value:function(){var e=this.props,t=e.contexId,n=e.el.listType,r=e.isEditing,o=this.cx.tt;return r?a.a.createElement(xe.a,{id:t},a.a.createElement(xe.c,{disabled:"numeric"===n,onClick:this.setNumeric,data:this.genData("numeric")},o("numeric")),a.a.createElement(xe.c,{disabled:"numeric"!==n,onClick:this.setBulleted,data:this.genData("bulleted")},o("bulleted"))):null}}])&&qe(t.prototype,n),r&&qe(t,r),i}(a.a.PureComponent),Be(Oe,"propTypes",{contexId:l.a.string.isRequired,el:l.a.object.isRequired,cid:l.a.string.isRequired,isEditing:l.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ge=je).prototype,"render",[ve,me],Object.getOwnPropertyDescriptor(ge.prototype,"render"),ge.prototype),ge),He=n(8);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var o=Ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ke(this,n)}}function Ke(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?Xe(e):t}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(c,e);var t,n,r,o=$e(c);function c(){var e;We(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Je(Xe(e=o.call.apply(o,[this].concat(n))),"genTrigger",Object(He.a)((function(e){return e.triggerMatch||function(){return!0}}),(function(e){return Object($.d)(e)}))),Je(Xe(e),"genAttributes",Object(He.a)((function(e){return e}),(function(e){return i()(e,(function(e,t,n){"children"===n||n.startsWith("trigger")||(e[n]=t)}),{})}))),e}return t=c,(n=[{key:"render",value:function(){var e=this.genTrigger(this.props),t=this.props,n=t.children,r=t.triggerTag,o=t.triggerId,i=t.triggerHoldToDisplay;return a.a.createElement(e,{renderTag:r||"div",attributes:this.genAttributes(this.props),holdToDisplay:i,id:o},n)}}])&&Ge(t.prototype,n),r&&Ge(t,r),c}(a.a.PureComponent);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=at(e);if(t){var o=at(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return it(this,n)}}function it(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?ct(e):t}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Je(Ze,"propTypes",{triggerMatch:l.a.oneOfType([l.a.string,l.a.func]),triggerId:l.a.string.isRequired,triggerTag:l.a.string,triggerHoldToDisplay:l.a.number,children:l.a.node.isRequired});var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(i,e);var t,n,r,o=ot(i);function i(){var e;tt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut(ct(e=o.call.apply(o,[this].concat(n))),"focusCss",".bllc-c-list"),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.el,r="conect-list-"+t,o="numeric"===n.listType?"ol":"ul",i=this.cx.cpayload.isEditing;return a.a.createElement(Ze,{triggerMatch:".bllc-c-list,.bllc-c-listItem",triggerTag:o,triggerId:r,"data-cid":t,className:this.cls("list"),onClick:this.focus},a.a.createElement(he,{list:n.list,path:"".concat(t,".list")}),a.a.createElement(Re.a,et({cid:t},{parentType:"list",itemType:"listItem"})),a.a.createElement(Ue,{el:n,cid:t,contexId:r,isEditing:i}))}}])&&nt(t.prototype,n),r&&nt(t,r),i}(H);function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?vt(e):t}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ut(lt,"propTypes",{el:l.a.shape({list:l.a.array.isRequired}).isRequired,cid:l.a.string.isRequired}),ut(lt,"cxPropTypes",{cpayload:l.a.shape({isEditing:l.a.bool.isRequired}).isRequired});var Ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(i,e);var t,n,r,o=dt(i);function i(){var e;pt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gt(vt(e=o.call.apply(o,[this].concat(n))),"focusCss",".bllc-c-listItem"),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.el;return a.a.createElement("li",{"data-cid":t,className:this.cls("listItem"),onClick:this.focus},a.a.createElement(he,{list:n.list,path:"".concat(t,".list")}),a.a.createElement(Re.a,st({cid:t},{parentType:"listItem"})))}}])&&yt(t.prototype,n),r&&yt(t,r),i}(H);gt(Ot,"propTypes",{el:l.a.shape({list:l.a.array.isRequired}).isRequired,cid:l.a.string.isRequired});var jt=n(64);function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dt(e);if(t){var o=Dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ct(this,n)}}function Ct(e,t){return!t||"object"!==wt(t)&&"function"!=typeof t?Tt(e):t}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(i,e);var t,n,r,o=xt(i);function i(){var e;Et(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return At(Tt(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){var n=e.props;(0,n.replace)(St(St({},n.el),{},{value:t}))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.el,n=e.width,r=e.onFocus,o=e.disabled,i=n;if(i){var c=parseInt(i.slice(0,-2))+2;i="".concat(c,"ex")}return a.a.createElement(jt.a,Pt({cls:"bllc-c-exp-input",value:t.value,onChange:this.onChange},{width:i,disabled:o,onFocus:r}))}}])&&kt(t.prototype,n),r&&kt(t,r),i}(a.a.PureComponent);At(qt,"focus",jt.a.focus),At(qt,"propTypes",{el:l.a.shape({id:l.a.string.isRequired,value:l.a.string.isRequired}).isRequired,replace:l.a.func.isRequired,onFocus:l.a.func.isRequired,disabled:l.a.bool.isRequired,width:l.a.string});var zt,It,Nt,Lt,Mt=n(106),Bt=n.n(Mt),Ut=n(59);function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){Gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t,n){return t&&Kt(e.prototype,t),n&&Kt(e,n),e}function Yt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var o=tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qt(this,n)}}function Qt(e,t){return!t||"object"!==Vt(t)&&"function"!=typeof t?en(e):t}function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nn=function(e){var t=e.children,n=e.mode;return a.a.createElement("span",{className:"bllc-c-exp-math-str","data-mode":n},t)},rn=function(e){Yt(n,e);var t=Zt(n);function n(){return $t(this,n),t.apply(this,arguments)}return Xt(n,[{key:"getSize",value:function(e){var t;return t=e.size?e.size:e.values.length?Bt()(e.values,"length").length:5,Math.max(3,t)}},{key:"render",value:function(){var e=this.props.data;return a.a.createElement("span",{className:"bllc-c-math-region"},e.map((function(e,t){return["string"===e.kind?a.a.createElement(nn,{key:"0"},Object(Ut.e)(e.text)):null,"nonmath"===e.kind?a.a.createElement(nn,{mode:"nonmath",key:"1"},e.text):null,"input"===e.kind?a.a.createElement(jt.a,{cls:"bllc-c-exp-math-input",disabled:!0,value:e.values.join("|"),size:this.getSize(e),key:"2"}):null]}),this))}}]),n}(a.a.PureComponent),on=(zt=Object(_.e)("mods.content.exp."),Lt=Nt=function(e){Yt(n,e);var t=Zt(n);function n(){var e;$t(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Gt(en(e=t.call.apply(t,[this].concat(o))),"onChange",(function(t){var n=e.props,r=n.replace,o=n.el,i=e.cx.tt,c=Object(Ut.d)(t);!0===Object(Ut.f)(c)?r(Wt(Wt({},o),{},{mask:t})):Object($.e)(i("incorrect"))})),e}return Xt(n,[{key:"render",value:function(){var e=this.props,t=e.el,n=e.onFocus,r=e.disabled,o=e.isEditing,i=Object(Ut.d)(t.mask),c=i.left,u=i.right;return o?a.a.createElement(jt.a,Ht({cls:"bllc-c-exp-math-edit-input",value:t.mask},{disabled:r,onFocus:n},{onChange:this.onChange})):a.a.createElement("span",{className:"bllc-c-math-region"},a.a.createElement(rn,{data:c}),a.a.createElement(nn,null,"="),a.a.createElement(rn,{data:u}))}}]),n}(a.a.PureComponent),Gt(Nt,"focus",jt.a.focus),Gt(Nt,"propTypes",{el:l.a.shape({mask:l.a.string.isRequired}).isRequired,replace:l.a.func.isRequired,onFocus:l.a.func.isRequired,disabled:l.a.bool.isRequired,isEditing:l.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((It=Lt).prototype,"render",[zt],Object.getOwnPropertyDescriptor(It.prototype,"render"),It.prototype),It),cn=n(308),an=n.n(cn),un=n(9),ln=n(94);function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hn(e);if(t){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dn(this,n)}}function dn(e,t){return!t||"object"!==fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vn,mn,gn,On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(i,e);var t,n,r,o=bn(i);function i(){return sn(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.isEditing,n=e.menuId,r=e.tt,o=e.el,i=e.toggleMode;if(!t)return null;var c="single"===o.mode?"multiple":"single";return a.a.createElement(xe.a,{id:n},a.a.createElement(xe.c,{onClick:i},r("mode.".concat(c))))}}])&&pn(t.prototype,n),r&&pn(t,r),i}(a.a.PureComponent);vn=On,mn="propTypes",gn={el:l.a.shape({mode:l.a.oneOf(["single"])}).isRequired,menuId:l.a.string.isRequired,tt:l.a.func.isRequired,toggleMode:l.a.func.isRequired,isEditing:l.a.bool.isRequired},mn in vn?Object.defineProperty(vn,mn,{value:gn,enumerable:!0,configurable:!0,writable:!0}):vn[mn]=gn;var jn,wn,Pn,Rn,Sn,En=n(5);function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(){return(_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e){return function(e){if(Array.isArray(e))return Dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function An(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return(zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mn(e);if(t){var o=Mn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nn(this,n)}}function Nn(e,t){return!t||"object"!==kn(t)&&"function"!=typeof t?Ln(e):t}function Ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Un="bllc-c-exp",Hn=(jn=Object(_.g)("rapi"),wn=Object(_.e)("mods.content.dnd."),Sn=Rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(i,e);var t,n,r,o=In(i);function i(){var e;An(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bn(Ln(e=o.call.apply(o,[this].concat(n))),"focusCss",".bllc-c-exp-nest"),Bn(Ln(e),"state",{isChoosing:!1}),Bn(Ln(e),"chooseStart",(function(t){e.setState({isChoosing:!0});var n=e.cx.rapi.getRegionBlock(),r=new Set(e.props.el.value);ln.a.choose(n,"dragitem",r,e.onChoose)})),Bn(Ln(e),"onChoose",(function(t){if(e.setState({isChoosing:!1}),t){var n=t.eid,r=e.props,o=r.replace,i=r.el,c=i.value.includes(n)?i.value.filter((function(e){return e!==n})):[].concat(Tn(i.value),[n]);o(Cn(Cn({},i),{},{value:c}))}})),Bn(Ln(e),"onMouseEnter",(function(){ln.a.isChoosing||ln.a.hightlight(e.getBoundDragItems(),!0)})),Bn(Ln(e),"onMouseLeave",(function(t){ln.a.isChoosing||ln.a.hightlight(e.getBoundDragItems(),!1)})),Bn(Ln(e),"menuMatch",(function(e){return!!e.closest(".".concat(Un,"-dn-controls"))})),Bn(Ln(e),"toggleMode",(function(){var t=e.props,n=t.replace,r=t.el,o="single"===r.mode?void 0:"single";n(Object(En.p)(r,"mode",o))})),Bn(Ln(e),"hasExpressions",Object(He.a)((function(e){return e.el}),(function(e){return x.a.filterDeep(e,"expression").length>0}))),e}return t=i,(n=[{key:"getBoundDragItems",value:function(){var e=this.cx.rapi.getRegionBlock(),t=ln.a.getHash(e,"dragitem");return an()(t,this.props.el.value)}},{key:"genMenuId",value:function(){var e=this.props,t=e.id,n=e.cid;return"m:".concat(t,":").concat(n)}},{key:"render",value:function(e,t){var n=this.props,r=n.el,o=n.cid,i=n.isEditing,c=r.list,u=r.value,l=this.state.isChoosing,f=this.genMenuId();return a.a.createElement(Ze,{triggerMatch:this.menuMatch,triggerId:f,className:"".concat(Un,"-nest"),"data-exp-choosing":Object(k.v)(l),onMouseEnter:Object(k.v)(i&&this.onMouseEnter),onMouseLeave:Object(k.v)(i&&this.onMouseLeave)},a.a.createElement("div",{className:"".concat(Un,"-dn-controls")},i?a.a.createElement(un.a,{icon:"target",role:"dnd-choose-target",onClick:Object(k.v)(i&&this.chooseStart)}):null,"single"===r.mode&&i?a.a.createElement("div",{className:"".concat(Un,"-dn-limit"),onClick:this.toggleMode},"1"):null),a.a.createElement("div",{className:"".concat(Un,"-dn-body")},a.a.createElement(he,{list:c,path:"".concat(o,".list")}),a.a.createElement(Re.a,_n({cid:o},{parentType:"expression:nest",maxLength:1,length:c.length})),a.a.createElement(E.d,{predicate:!i&&!u.length,msg:t("unboundNest"),shape:"icon"}),a.a.createElement(E.d,{predicate:this.hasExpressions(this.props),msg:t("no-exp"),shape:"icon"})),a.a.createElement(On,_n({el:r,tt:t,isEditing:i,menuId:f},{toggleMode:this.toggleMode})))}}])&&qn(t.prototype,n),r&&qn(t,r),i}(a.a.PureComponent),Bn(Rn,"propTypes",{el:l.a.shape({id:l.a.string.isRequired,list:l.a.array.isRequired,value:l.a.arrayOf(l.a.string).isRequired,mode:l.a.oneOf(["single"])}).isRequired,cid:l.a.string.isRequired,id:l.a.string.isRequired,replace:l.a.func.isRequired,isEditing:l.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Pn=Sn).prototype,"render",[jn,wn],Object.getOwnPropertyDescriptor(Pn.prototype,"render"),Pn.prototype),Pn);function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){Qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zn(e);if(t){var o=Zn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yn(this,n)}}function Yn(e,t){return!t||"object"!==Fn(t)&&"function"!=typeof t?Jn(e):t}function Jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er,tr,nr,rr,or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(i,e);var t,n,r,o=Xn(i);function i(){var e;Vn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qn(Jn(e=o.call.apply(o,[this].concat(n))),"setMultiple",(function(){e._setMultiple(!0)})),Qn(Jn(e),"unsetMultiple",(function(){e._setMultiple(!1)})),e}return t=i,(n=[{key:"_setMultiple",value:function(e){var t=this.props,n=t.replace,r=t.el;n(e?Gn(Gn({},r),{},{isMultiple:!0}):_e()(r,"isMultiple"))}},{key:"render",value:function(){var e=this.props,t=e.isEditing,n=e.menuId,r=e.el,o=e.tt,i=r.isMultiple;return t?a.a.createElement(xe.a,{id:n},i?null:a.a.createElement(xe.c,{onClick:this.setMultiple},o("setMultiple")),i?a.a.createElement(xe.c,{onClick:this.unsetMultiple},o("unsetMultiple")):null):null}}])&&$n(t.prototype,n),r&&$n(t,r),i}(a.a.PureComponent);function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(){return(cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yr(e);if(t){var o=yr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sr(this,n)}}function sr(e,t){return!t||"object"!==ir(t)&&"function"!=typeof t?pr(e):t}function pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Qn(or,"propTypes",{el:l.a.shape({isMultiple:l.a.bool}).isRequired,menuId:l.a.string.isRequired,tt:l.a.func.isRequired,replace:l.a.func.isRequired,isEditing:l.a.bool.isRequired});var dr,hr,vr,mr,gr="bllc-c-exp",Or=(er=Object(_.e)("mods.content.dnd."),rr=nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(i,e);var t,n,r,o=fr(i);function i(){var e;ar(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return br(pr(e=o.call.apply(o,[this].concat(n))),"focusCss",".bllc-c-exp-dragitem"),br(pr(e),"menuMatch",(function(e){return!!e.closest(".".concat(gr,"-di-tag"))})),e}return t=i,(n=[{key:"genMenuId",value:function(){var e=this.props,t=e.id,n=e.cid;return"m:".concat(t,":").concat(n)}},{key:"render",value:function(e){var t=this.props,n=t.el,r=t.cid,o=t.isEditing,i=t.replace,c=n.list,u=n.isMultiple,l=this.genMenuId();return a.a.createElement(Ze,{triggerMatch:this.menuMatch,triggerId:l,className:"".concat(gr,"-dragitem")},a.a.createElement("div",{className:"".concat(gr,"-di-tag")},a.a.createElement(un.a,{icon:"move",cls:"".concat(gr,"-di-icon")}),u?a.a.createElement(un.a,{icon:"th",title:e("multipleHint")}):null),a.a.createElement("div",{className:"".concat(gr,"-di-body")},a.a.createElement(E.d,{msg:e("emptyItem"),predicate:!o&&!c.length,shape:"icon"}),a.a.createElement(he,{list:c,path:"".concat(r,".list")}),a.a.createElement(Re.a,cr({cid:r},{parentType:"expression:dragitem",maxLength:1,length:c.length})),a.a.createElement(E.c,{content:this.props.el})),a.a.createElement(or,{el:n,tt:e,isEditing:o,menuId:l,replace:i}))}}])&&ur(t.prototype,n),r&&ur(t,r),i}(a.a.PureComponent),br(nr,"propTypes",{el:l.a.shape({id:l.a.string.isRequired,list:l.a.array.isRequired}).isRequired,id:l.a.string.isRequired,isEditing:l.a.bool.isRequired,cid:l.a.string.isRequired,replace:l.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((tr=rr).prototype,"render",[er],Object.getOwnPropertyDescriptor(tr.prototype,"render"),tr.prototype),tr);function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_r(e);if(t){var o=_r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(e,t){return!t||"object"!==jr(t)&&"function"!=typeof t?kr(e):t}function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cr(e){return function(e){if(Array.isArray(e))return Tr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dr="bllc-c-exp-lm",Ar={"+":"+","-":"–","*":"×","center+":"+"},qr=function(e){var t=e.sign;return t?a.a.createElement("div",{className:"".concat(Dr,"-sign"),"data-sign":t},Ar[t]):null},zr=function(e){return e.point?a.a.createElement("div",{className:"".concat(Dr,"-point")}):null},Ir=function(e){return e.active?a.a.createElement("div",{className:"".concat(Dr,"-minus")}):null},Nr=function(e){var t=e.border;return t?Cr(t).map((function(e,t){return a.a.createElement("div",{className:"".concat(Dr,"-bline"),"data-kind":e,key:e})}),this):null},Lr=/^\d+|\.|A$/,Mr=function(e){var t=e.value;return Lr.test(t)?a.a.createElement("div",{className:"".concat(Dr,"-value")},"A"===t?10:t):null},Br=(dr=Object(_.e)("mods.content.longMath."),mr=vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(i,e);var t,n,r,o=Sr(i);function i(){var e;wr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xr(kr(e=o.call.apply(o,[this].concat(n))),"onClick",(function(){var t=e.props;(0,t.toggle)(t.path)})),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.cell,r=t.isEditing,o=t.isActive;return a.a.createElement("div",{className:"".concat(Dr,"-cell"),"data-filled":Object(k.v)("space"!==n.t),"data-active":Object(k.v)(o),onClick:Object(k.v)(r&&this.onClick),title:Object(k.v)(r&&e("toggle"))},a.a.createElement(Mr,{value:n.v}),a.a.createElement(Nr,{border:n.b}),a.a.createElement(qr,{sign:n.sign}),a.a.createElement(zr,{point:n.point}),a.a.createElement(Ir,{active:n.neg}))}}])&&Pr(t.prototype,n),r&&Pr(t,r),i}(a.a.PureComponent),xr(vr,"propTypes",{cell:l.a.shape({sign:l.a.string,t:l.a.string,point:l.a.bool,v:l.a.oneOfType([l.a.number,l.a.oneOf(["A","."])])}).isRequired,path:l.a.string.isRequired,isEditing:l.a.bool.isRequired,toggle:l.a.func.isRequired,isActive:l.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((hr=mr).prototype,"render",[dr],Object.getOwnPropertyDescriptor(hr.prototype,"render"),hr.prototype),hr);function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(){return(Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kr(e);if(t){var o=Kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $r(this,n)}}function $r(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(i,e);var t,n,r,o=Vr(i);function i(){return Fr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.row,n=e.path,r=e.isEditing,o=e.toggle,i=e.active,c=t.some((function(e){return"mind"===e.t})),u=Object(k.h)("bllc-c-exp-lm-row",c&&"bllc-c-exp-lm-mind");return a.a.createElement("div",{className:u},t.map((function(e,t){return a.a.createElement(Br,Hr({key:t,cell:e,isEditing:r,toggle:o},{isActive:"".concat(n,"-").concat(t)in i,path:"".concat(n,"-").concat(t)}))}),this))}}])&&Wr(t.prototype,n),r&&Wr(t,r),i}(a.a.PureComponent);function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(){return(Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ro(e);if(t){var o=ro(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return no(this,n)}}function no(e,t){return!t||"object"!==Yr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Xr,"propTypes",{row:l.a.arrayOf(l.a.object).isRequired,path:l.a.number.isRequired,isEditing:l.a.bool.isRequired,toggle:l.a.func.isRequired,active:l.a.object.isRequired});var oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}(i,e);var t,n,r,o=to(i);function i(){return Zr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.table,n=e.isEditing,r=e.toggle,o=e.active,i=t.some((function(e){return e[0].sign}));return a.a.createElement("div",{className:"bllc-c-exp-lm-table","data-signed":Object(k.v)(i)},t.map((function(e,t){return a.a.createElement(Xr,Jr({key:t,row:e,isEditing:n,toggle:r,active:o},{path:t}))}),this))}}])&&Qr(t.prototype,n),r&&Qr(t,r),i}(a.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(oo,"propTypes",{table:l.a.arrayOf(l.a.array).isRequired,isEditing:l.a.bool.isRequired,toggle:l.a.func.isRequired,active:l.a.object.isRequired});var io=n(212),co=n(36),ao=n.n(co),uo=n(18);function lo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||so(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fo(e){return function(e){if(Array.isArray(e))return po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||so(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(e,t){if(e){if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?po(e,t):void 0}}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yo=function(e,t){for(var n=0,r=-1,o=!1;n<t&&r<e.length-1&&(n=10*n+e[++r].v,o=r>=e.length-1,0!==n););if(n<t&&o)return[];var i=uo.a.toRow(n);i[0].sign="-";var c=Math.floor(n/t)*t,a=n-c,u=[i,uo.a.toRow(c),uo.a.toRow(a)];uo.a.justifyRight.apply(uo.a,u);var l,f=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=so(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}(u[1]);try{for(f.s();!(l=f.n()).done;){l.value.b="b"}}catch(e){f.e(e)}finally{f.f()}if(!o){var s=function(e,t,n,r,o){var i=[];t>0&&i.push.apply(i,fo(uo.a.toRow(t))),i.push.apply(i,fo(n.slice(r+1)));var c=yo(i,o),a=0===t?uo.a.dim(e)-uo.a.dim(t)+1:uo.a.dim(e)-uo.a.dim(t);return uo.a.shiftLeft(c,a),c}(n,a,e,r,t);s.length>0&&(u.pop(),u.push.apply(u,fo(s)))}return u},bo=function(e,t,n){ao()(t).b="r",t[0].sign="-";var r=fo(e);r[0]=fo(t),uo.a.justifyLeft(r[0],r[1]);var o=lo(r,2),i=o[0],c=o[1];return i.push.apply(i,fo(n)),c.push.apply(c,fo(function(e,t){var n=Math.floor(e.num/t.num),r=uo.a.toRow(n);return r[0].b="l",r}(t,n))),uo.a.justifyLeft.apply(uo.a,fo(r)),i.slice(t.length).forEach((function(e){e.b="b"})),r},ho=function(e,t){var n=uo.a.toRow(e),r=uo.a.toRow(t),o=function(e,t){for(var n=uo.a.copyRow(e),r=uo.a.copyRow(t);n.num%10==0&&r.num%10==0;)uo.a.div10(n),uo.a.div10(r);return{cA:n,cB:r}}(n,r),i=o.cA,c=o.cB,a=yo(i,c.num);return bo(a,n,r)},vo=n(248),mo=n(79),go=n.n(mo),Oo=(n(617),n(420)),jo=n.n(Oo),wo=n(327),Po=n.n(wo),Ro=n(184),So=n.n(Ro);function Eo(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function ko(e){return function(e){if(Array.isArray(e))return xo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(e,t){if(e){if("string"==typeof e)return xo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xo(e,t):void 0}}function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Co=function(e,t){var n=jo()(e,t);return e.length-n-1},To=function(e,t){var n=uo.a.toRow(e),r=uo.a.toRow(t),o=function(e,t){var n=Co(e,(function(e){return 0!==e.v}));Po()(n,(function(){return uo.a.div10(e)}));var r=Co(t,(function(e){return 0!==e.v}));return Po()(r,(function(){return uo.a.div10(t)})),{a:n,b:r,total:n+r}}(n,r),i={a:uo.a.upToInteger(n),b:uo.a.upToInteger(r)},c=function(e){var t=0;return So()(e,(function(e,n){return(0!==e.v||t>0)&&++t,t<2})),t<2}(r),a=function(e,t){var n=uo.a.ignFraction(e);return ko(t).reverse().map((function(e){return Math.abs(n*e.v)})).map((function(e){return uo.a.toRow(e)}))}(n,r);a.length>1&&function(e){var t,n=0,r=Eo(e);try{for(r.s();!(t=r.n()).done;){for(var o=t.value,i=0;i<n;++i)o.push(uo.a.makeSpace());++n}}catch(e){r.e(e)}finally{r.f()}}(a),a=a.filter((function(e){return 0!==e.num}));var u=[n,r].concat(ko(a));if(a.length>1){var l=uo.a.toRow(n.num*r.num);u.push(l)}var f=ao()(u);return n.num*r.num<0&&(f.find(uo.a.isDigit).neg=!0),uo.a.justifyRight.apply(uo.a,ko(u)),o.total>0&&function(e,t,n,r){var o=function(e,t){return Po()(t,(function(t){e.push(uo.a.makeDigit(0))}))};o(e,r.a),o(t,r.b),o(ao()(n),r.total),uo.a.justifyLeft.apply(uo.a,ko(n))}(n,r,u,o),function(e,t,n,r){var o,i=Eo(e.keys());try{for(i.s();!(o=i.n()).done;){var c=o.value;(uo.a.isNotSpace(e[c])||uo.a.isNotSpace(t[c]))&&(t[c].b="b")}}catch(e){i.e(e)}finally{i.f()}var a,u=Eo(r?t:ao()(n));try{for(u.s();!(a=u.n()).done;){a.value.b="b"}}catch(e){u.e(e)}finally{u.f()}}(n,r,a,c),function(e,t){var n=go()(e,uo.a.isNotSpace),r=go()(t,uo.a.isNotSpace);e[Math.min(n,r)].sign="*"}(n,r),c||function(e){e.length%2==1?e[Math.floor(e.length/2)][0].sign="center+":e[e.length/2-1][0].sign="+"}(a),function(e,t,n,r){var o=function(e,t){if(!(t<1)){var n=e.filter(uo.a.isDigit);n[n.length-1-t].point=!0}};o(t,e.a),o(n,e.b),o(r,e.a+e.b)}(i,n,r,f),u},Do=uo.a.check;function Ao(e){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(n),!0).forEach((function(t){Fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t){return(Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ho(e);if(t){var o=Ho(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bo(this,n)}}function Bo(e,t){return!t||"object"!==Ao(t)&&"function"!=typeof t?Uo(e):t}function Uo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(e){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wo,Go,Vo,$o,Ko=/^\s*-?\d+(\.\d+)?\s*$/,Xo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)}(c,e);var t,n,o,i=Mo(c);function c(){var e;Io(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Fo(Uo(e=i.call.apply(i,[this].concat(n))),"setOp",(function(t){return e.setField("op",t)})),Fo(Uo(e),"setA",(function(t){Ko.test(t)?e.setField("a",Number(t)):Object($.e)(e.props.tt("notNum"))})),Fo(Uo(e),"setB",(function(t){Ko.test(t)?e.setField("b",Number(t)):Object($.e)(e.props.tt("notNum"))})),e}return t=c,o=[{key:"focus",value:function(e){jt.a.focus(e.querySelector('[data-role="lm-set-a"]'))}}],(n=[{key:"setField",value:function(e,t){var n,o=this.props,i=o.el,c=o.replace,a=zo(zo({},i),{},(Fo(n={},e,t),Fo(n,"active",{}),Fo(n,"table",null),n));try{Do(a)||(a.table=r[a.op](a.a,a.b))}catch(e){}c(a)}},{key:"render",value:function(){var e=this.props,t=e.el,n=e.sel,r=t.op,o=t.a,i=t.b;return a.a.createElement("div",{className:"bllc-c-exp-lm-controls"},a.a.createElement(jt.a,{value:o,onChange:this.setA,onFocus:n,role:"lm-set-a"}),a.a.createElement(io.a,{value:r,onFocus:n,onChange:this.setOp,role:"lm-set-op"},a.a.createElement("option",{value:"add"},"+"),a.a.createElement("option",{value:"sub"},"-"),a.a.createElement("option",{value:"multiply"},"×"),a.a.createElement("option",{value:"div"},"÷")),a.a.createElement(jt.a,{value:i,onChange:this.setB,onFocus:n,role:"lm-set-b"}))}}])&&No(t.prototype,n),o&&No(t,o),c}(a.a.PureComponent);function Yo(e){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(){return(Jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(n),!0).forEach((function(t){ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ni(e,t){return(ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ri(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ci(e);if(t){var o=ci(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oi(this,n)}}function oi(e,t){return!t||"object"!==Yo(t)&&"function"!=typeof t?ii(e):t}function ii(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fo(Xo,"propTypes",{el:l.a.shape({a:l.a.number.isRequired,b:l.a.number.isRequired,op:l.a.string.isRequired}).isRequired,replace:l.a.func.isRequired,sel:l.a.func.isRequired,tt:l.a.func.isRequired});var ui=(Wo=Object(_.e)("mods.content.longMath."),$o=Vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ni(e,t)}(i,e);var t,n,r,o=ri(i);function i(){var e;ei(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ai(ii(e=o.call.apply(o,[this].concat(n))),"toggleCell",(function(t){var n=e.props,r=n.el;(0,n.replace)(Qo(Qo({},r),{},{active:Object(En.n)(r.active,t)}))})),e}return t=i,(n=[{key:"checkActive",value:function(e){var t=e.table,n=e.active;return Object.keys(n).map((function(e){return e.replace("-",".")})).every((function(e){return y()(t,e)}))}},{key:"check",value:function(e,t){var n=this.cx.t.pre("mods.content.longMath."),r=uo.a.check(e);return r?n(r):t&&this.checkActive(e)?null:n("empty")}},{key:"render",value:function(e){var t=this.props,n=t.el,r=t.isEditing,o=t.replace,i=t.sel,c=n.table,u=this.check(n,!!c);return a.a.createElement("div",{className:"bllc-c-exp-longmath"},r?a.a.createElement(Xo,{el:n,replace:o,tt:e,sel:i}):null,u?a.a.createElement(E.a,{err:u}):null,u?null:a.a.createElement(oo,Jo({table:c,isEditing:r},{active:n.active,toggle:this.toggleCell})))}}])&&ti(t.prototype,n),r&&ti(t,r),i}(a.a.PureComponent),ai(Vo,"focus",Xo.focus),ai(Vo,"propTypes",{el:l.a.shape({op:l.a.oneOf(["sub","add","div","multiply"]),a:l.a.number.isRequired,b:l.a.number.isRequired}).isRequired,replace:l.a.func.isRequired,isEditing:l.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Go=$o).prototype,"render",[Wo],Object.getOwnPropertyDescriptor(Go.prototype,"render"),Go.prototype),Go),li=n(53),fi=n.n(li);function si(e){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bi(e,t){return(bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function di(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mi(e);if(t){var o=mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hi(this,n)}}function hi(e,t){return!t||"object"!==si(t)&&"function"!=typeof t?vi(e):t}function vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}(i,e);var t,n,r,o=di(i);function i(){var e;pi(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gi(vi(e=o.call.apply(o,[this].concat(n))),"onClick",(function(){e.props.sel(),e.props.toggleDropdown()})),gi(vi(e),"onFocus",(function(){e.props.sel()})),gi(vi(e),"onKeyUp",(function(t){var n=t.key;[" ","Enter","ArrowDown"].includes(n)&&!t.altKey&&(t.preventDefault(),e.props.toggleDropdown())})),gi(vi(e),"genDisplayData",Object(He.a)((function(e){return e.isEditing}),(function(e){return e.el}),(function(e,t){return e?t.map((function(e){return"formula"===e.type?{type:"text",text:"[⨍]"}:e})):t}))),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.opened,r=this.genDisplayData(this.props);return a.a.createElement("div",{className:"".concat("bllc-c-exp-choice","-label"),onClick:this.onClick,onKeyDown:this.onKeyUp,tabIndex:0,onFocus:this.onFocus},a.a.createElement("div",{className:"".concat("bllc-c-exp-choice","-inner")},a.a.createElement(Pe,{list:r,path:t})),a.a.createElement(un.a,{cls:"".concat("bllc-c-exp-choice","-activator"),icon:n?"up-open":"down-open"}))}}])&&yi(t.prototype,n),r&&yi(t,r),i}(a.a.PureComponent);function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wi(){return(wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Si(e,t){return(Si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ei(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xi(e);if(t){var o=xi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ki(this,n)}}function ki(e,t){return!t||"object"!==ji(t)&&"function"!=typeof t?_i(e):t}function _i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xi(e){return(xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gi(Oi,"propTypes",{el:l.a.array.isRequired,cid:l.a.string.isRequired,sel:l.a.func.isRequired,toggleDropdown:l.a.func.isRequired,opened:l.a.bool.isRequired,isEditing:l.a.bool.isRequired});var Ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Si(e,t)}(i,e);var t,n,r,o=Ei(i);function i(){var e;Pi(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ci(_i(e=o.call.apply(o,[this].concat(n))),"setAsRight",(function(){var t=e.props,n=t.idx;(0,t.setAsRight)(n)})),Ci(_i(e),"del",(function(){var t=e.props,n=t.idx;(0,t.del)(n)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.el,n=e.cid,r=e.isEditing,o=e.close,i=e.right,c=e.canDel;return a.a.createElement("div",{className:"".concat("bllc-c-exp-choice","-dropitem"),onClick:Object(k.v)(!r&&o)},a.a.createElement("div",{className:"".concat("bllc-c-exp-choice","-content")},a.a.createElement(he,{list:t,path:n}),a.a.createElement(Re.a,wi({cid:n},{parentType:"dropdown"}))),r?[a.a.createElement(un.a,{icon:"ok",disabled:i,onClick:this.setAsRight,role:"opt-set-right",key:"0"}),a.a.createElement(un.a,{icon:"trash",disabled:!c,onClick:this.del,role:"opt-rm",key:"1"})]:null)}}])&&Ri(t.prototype,n),r&&Ri(t,r),i}(a.a.PureComponent);function Di(e){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(){return(Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ii(e,t){return(Ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ni(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bi(e);if(t){var o=Bi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Li(this,n)}}function Li(e,t){return!t||"object"!==Di(t)&&"function"!=typeof t?Mi(e):t}function Mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bi(e){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ci(Ti,"propTypes",{el:l.a.array.isRequired,right:l.a.bool.isRequired,idx:l.a.number.isRequired,cid:l.a.string.isRequired,isEditing:l.a.bool.isRequired,close:l.a.func.isRequired,setAsRight:l.a.func.isRequired,del:l.a.func.isRequired,canDel:l.a.bool.isRequired});var Hi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ii(e,t)}(i,e);var t,n,r,o=Ni(i);function i(){var e;qi(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ui(Mi(e=o.call.apply(o,[this].concat(n))),"state",{width:null}),Ui(Mi(e),"setBlock",(function(t){if(t&&!window.TEST){var n=t.closest(".".concat("bllc-c-exp-choice")).offsetWidth;e.setState({width:n})}})),e}return t=i,(n=[{key:"genStyle",value:function(){var e=this.state.width;return this.props.isEditing?{minWidth:e}:{width:e}}},{key:"render",value:function(){var e=this.props,t=e.list,n=e.right,r=e.cid,o=e.isEditing,i=e.close,c=e.add,u=e.del,l=e.setAsRight;return a.a.createElement("div",{className:"".concat("bllc-c-exp-choice","-dropdown"),ref:this.setBlock,style:this.genStyle()},t.map((function(e,c){return a.a.createElement(Ti,Ai({key:c},{el:e,isEditing:o,close:i,setAsRight:l,del:u,idx:c},{cid:"".concat(r,".list.").concat(c),right:n===c,canDel:t.length>1}))}),this),o?a.a.createElement("div",{className:"".concat("bllc-c-exp-choice","-controls")},a.a.createElement(un.a,{icon:"plus",onClick:c,role:"choice-insert"})):null)}}])&&zi(t.prototype,n),r&&zi(t,r),i}(a.a.PureComponent);Ui(Hi,"propTypes",{list:l.a.array.isRequired,right:l.a.number.isRequired,cid:l.a.string.isRequired,isEditing:l.a.bool.isRequired,close:l.a.func.isRequired,add:l.a.func.isRequired,setAsRight:l.a.func.isRequired,del:l.a.func.isRequired});var Fi=n(30);function Wi(e){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gi(){return(Gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vi(e){return function(e){if(Array.isArray(e))return $i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(n),!0).forEach((function(t){rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zi(e,t){return(Zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nc(e);if(t){var o=nc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ec(this,n)}}function ec(e,t){return!t||"object"!==Wi(t)&&"function"!=typeof t?tc(e):t}function tc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nc(e){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zi(e,t)}(i,e);var t,n,r,o=Qi(i);function i(){var e;Yi(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rc(tc(e=o.call.apply(o,[this].concat(n))),"state",{opened:!1}),rc(tc(e),"toggleDropdown",(function(){e.state.opened?e.close():e.dropdown()})),rc(tc(e),"dropdown",(function(){e.state.opened||(e.setState({opened:!0}),document.body.addEventListener("click",e.tryClose),document.body.addEventListener("keyup",e.escHandle))})),rc(tc(e),"tryClose",(function(t){t.target.closest(".".concat("bllc-c-exp-choice",",").concat(".bllc-c-panel"))||e.close()})),rc(tc(e),"escHandle",(function(t){"Escape"===t.key&&e.close()})),rc(tc(e),"close",(function(){e.unmounted||(e.setState({opened:!1}),document.body.removeEventListener("click",e.tryClose),document.body.removeEventListener("keypress",e.escHandle))})),rc(tc(e),"add",(function(){var t=e.props,n=t.el;(0,t.replace)(Xi(Xi({},n),{},{list:[].concat(Vi(n.list),[[{type:"text",text:"New element"}]])}))})),rc(tc(e),"setAsRight",(function(t){var n=e.props,r=n.el;(0,n.replace)(Xi(Xi({},r),{},{right:t}))})),rc(tc(e),"del",(function(t){var n=e.props,r=n.el,o=n.replace,i=Object(En.l)(r.list,t,1),c=r.right===t?0:r.right;o(Xi(Xi({},r),{},{list:i,right:c}))})),rc(tc(e),"ItemContent",(function(t){var n=t.el,r=t.idx,o="".concat(e.props.cid,".list.").concat(r);return a.a.createElement(he,{list:n,path:o})})),e}return t=i,r=[{key:"focus",value:function(e){e.querySelector("[tabindex]").focus()}}],(n=[{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this.props,t=e.el,n=e.cid,r=e.sel,o=e.width,i=e.isEditing,c=this.state.opened,u=t.list,l=t.right;return i?a.a.createElement("div",{className:"bllc-c-exp-choice",style:{width:o},"data-cid":n},a.a.createElement(Oi,Gi({el:u[l],toggleDropdown:this.toggleDropdown},{cid:n,sel:r,opened:c,isEditing:i})),c?a.a.createElement(Hi,Gi({list:u,right:l,cid:n,isEditing:i},{close:this.close,add:this.add,del:this.del,setAsRight:this.setAsRight})):null):a.a.createElement("div",{className:"bllc-c-exp-choice-display","data-cid":n},a.a.createElement(Fi.c,Gi({width:o,list:u},{value:l,Content:this.ItemContent,onChange:fi.a})))}}])&&Ji(t.prototype,n),r&&Ji(t,r),i}(a.a.PureComponent);rc(oc,"propTypes",{el:l.a.shape({list:l.a.array.isRequired,right:l.a.number.isRequired,width:l.a.string}).isRequired,replace:l.a.func.isRequired,sel:l.a.func.isRequired,isEditing:l.a.bool.isRequired,cid:l.a.string.isRequired,width:l.a.string});var ic,cc,ac,uc,lc,fc=n(309),sc={id:l.a.string.isRequired,isEditing:l.a.bool.isRequired,cid:l.a.string.isRequired,replace:l.a.func.isRequired,disabled:l.a.bool.isRequired,onFocus:l.a.func.isRequired,sel:l.a.func.isRequired,width:l.a.string},pc=n(310);function yc(e){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dc(){return(dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mc(e,t){return(mc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wc(e);if(t){var o=wc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oc(this,n)}}function Oc(e,t){return!t||"object"!==yc(t)&&"function"!=typeof t?jc(e):t}function jc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rc=(ic=Object(_.e)("mods.content.sortable."),cc=Object(_.g)("rapi"),lc=uc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mc(e,t)}(i,e);var t,n,r,o=gc(i);function i(){var e;hc(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pc(jc(e=o.call.apply(o,[this].concat(n))),"focusCss",".bllc-c-exp-sortable-wrapper, .bllc-c-exp-sortable"),Pc(jc(e),"onChange",(function(t,n,r){var o=r.newIndex,i=r.oldIndex,c=e.props.cid;e.cx.rapi.reorder("".concat(c,".list"),o,i)})),Pc(jc(e),"isHomogeneous",Object(He.a)((function(e){return e.el.list}),(function(e){return!(e.length<2)&&Object(pc.a)(e)}))),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.el,r=t.cid,o=t.isEditing,i=n.list;return a.a.createElement("div",{className:"".concat("bllc-c-exp-sortable","-wrapper")},a.a.createElement(fc.a,{className:"bllc-c-exp-sortable",onChange:this.onChange,options:{handle:".bllc-icon-move",disabled:!o,draggable:".bllc-c-sortableItem",animation:150}},a.a.createElement(he,{list:i,path:"".concat(r,".list")}),a.a.createElement(Re.a,dc({cid:r},{parentType:"expression:sortable",itemType:"sortableItem",length:i.length}))),a.a.createElement(E.d,{predicate:this.isHomogeneous(this.props),msg:e("no-homo")}),a.a.createElement(E.c,{content:this.props.el}))}}])&&vc(t.prototype,n),r&&vc(t,r),i}(a.a.PureComponent),Pc(uc,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){Pc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({el:l.a.shape({id:l.a.string.isRequired,kind:l.a.string.isRequired,type:l.a.string.isRequired,list:l.a.array.isRequired}).isRequired},sc)),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ac=lc).prototype,"render",[ic,cc],Object.getOwnPropertyDescriptor(ac.prototype,"render"),ac.prototype),ac);function Sc(e){return(Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ec(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _c(e,t){return(_c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dc(e);if(t){var o=Dc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cc(this,n)}}function Cc(e,t){return!t||"object"!==Sc(t)&&"function"!=typeof t?Tc(e):t}function Tc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dc(e){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_c(e,t)}(i,e);var t,n,r,o=xc(i);function i(){var e;Ec(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ac(Tc(e=o.call.apply(o,[this].concat(n))),"setX",(function(t){return e.domX=t})),Ac(Tc(e),"onMouseDown",(function(t){var n=t.clientX;e.calcEx(),e.observe(),e.x=n})),Ac(Tc(e),"onMouseMove",(function(t){var n=t.clientX-e.x;if(!(Math.abs(n)<e.ex)){var r=Math.floor(n/e.ex);e.x+=r*e.ex,e.props.onResize(r)}})),Ac(Tc(e),"onMouseUp",(function(t){window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),e.props.onFinish()})),e}return t=i,(n=[{key:"observe",value:function(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)}},{key:"calcEx",value:function(){this.domX.style.display="inline",this.ex=this.domX.getClientRects()[0].width,this.domX.style.display="none"}},{key:"render",value:function(){return a.a.createElement("span",{className:"bllc-resizer"},a.a.createElement(un.a,{icon:"resize-horizontal",onMouseDown:this.onMouseDown}),a.a.createElement("span",{style:{display:"none"},ref:this.setX},"x"))}}])&&kc(t.prototype,n),r&&kc(t,r),i}(a.a.PureComponent);function zc(e){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ic(){return(Ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nc(Object(n),!0).forEach((function(t){Vc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uc(e,t){return(Uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gc(e);if(t){var o=Gc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fc(this,n)}}function Fc(e,t){return!t||"object"!==zc(t)&&"function"!=typeof t?Wc(e):t}function Wc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gc(e){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ac(qc,"propTypes",{onResize:l.a.func.isRequired,onFinish:l.a.func.isRequired});var $c={input:qt,math:on,dragnest:Hn,dragitem:Or,longMath:ui,choice:oc,sortable:Rc},Kc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uc(e,t)}(i,e);var t,n,r,o=Hc(i);function i(){var e;Mc(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vc(Wc(e=o.call.apply(o,[this].concat(n))),"state",{width:null}),Vc(Wc(e),"defWidths",{input:8,choice:20}),Vc(Wc(e),"minWidth",2),Vc(Wc(e),"maxWidth",45),Vc(Wc(e),"focus",(function(t){var n=t.target;("INPUT"===n.tagName?n.parentElement:n).matches('[class*="bllc-c-exp"],.bllx-error')&&e.sel()})),Vc(Wc(e),"sel",(function(){e.cx.rapi.sel(e.props.cid)})),Vc(Wc(e),"onResize",(function(t){var n=e.props.el,r=n.width,o=n.kind,i=parseInt(e.state.width||r||e.defWidths[o],10),c=Math.min(e.maxWidth,Math.max(e.minWidth,i+t));e.setState({width:c+"ex"})})),Vc(Wc(e),"onFinishResize",(function(){if(e.state.width){var t=Lc(Lc({},e.props.el),{},{width:e.state.width});e.replace(t),e.setState({width:null})}})),e}return t=i,r=[{key:"focus",value:function(e,t){var n=$c[t.kind];n&&n.focus&&n.focus(e,t)}}],(n=[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.el,r=this.cx.rapi.withExpressions,o=this.cx.cpayload.isEditing,i=n.id,c=n.kind,u="longMath"===c||"sortable"===c,l=this.cls(u?"expblock":"expression","bllc-c-".concat(c,"-exp")),f={id:this.id(),cid:t,el:n,width:this.state.width||n.width,onFocus:this.focus,sel:this.sel,disabled:!o,isEditing:o,replace:this.replace},s=o&&["input","choice"].includes(c),p=$c[c],y=u?"div":"span";return a.a.createElement(y,{"data-cid":t,"data-exp-id":i,"data-exp-kind":c,className:l,onClick:this.focus},r?null:a.a.createElement(E.a,{err:"Illegal element: ".concat(n.kind)}),r?[a.a.createElement(p,Ic({},f,{key:"0"})),s?a.a.createElement(qc,{onResize:this.onResize,onFinish:this.onFinishResize,key:"1"}):null]:null)}}])&&Bc(t.prototype,n),r&&Bc(t,r),i}(H);function Xc(e){return(Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zc(e,t){return(Zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ta(e);if(t){var o=ta(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ea(this,n)}}function ea(e,t){return!t||"object"!==Xc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Vc(Kc,"propTypes",{el:l.a.shape({id:l.a.string.isRequired,kind:l.a.string.isRequired,data:l.a.string,width:l.a.string}).isRequired,cid:l.a.string.isRequired}),Vc(Kc,"cxPropTypes",{rapi:l.a.shape({sel:l.a.func.isRequired,withExpressions:l.a.bool.isRequired}).isRequired,cpayload:l.a.shape({isEditing:l.a.bool.isRequired}).isRequired});var na,ra,oa,ia,ca=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zc(e,t)}(i,e);var t,n,r,o=Qc(i);function i(){return Yc(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.preview,n=e.url,r="none"===t,o=r?null:"url(".concat(n(t),")");return a.a.createElement("div",{className:Object(k.h)("bllc-c-video-mock",r&&"bllc-c-video-nonpreview"),style:{backgroundImage:o}},a.a.createElement(un.a,{icon:"videocam"}))}}])&&Jc(t.prototype,n),r&&Jc(t,r),i}(a.a.PureComponent);function aa(e){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(){return(ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function la(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sa(e,t){return(sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=da(e);if(t){var o=da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ya(this,n)}}function ya(e,t){return!t||"object"!==aa(t)&&"function"!=typeof t?ba(e):t}function ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ca,"propTypes",{url:l.a.func.isRequired,preview:l.a.string.isRequired});var va=(na=Object(_.g)("rapi"),ia=oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sa(e,t)}(i,e);var t,n,r,o=pa(i);function i(){var e;la(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ha(ba(e=o.call.apply(o,[this].concat(n))),"openReplace",(function(){var t=e.props,n=t.el,r=t.field,o=n[r],i="video"===r?"video":"image";e.cx.rapi.chooseAsset(i,o).then((function(t){e.props.replace(r,t)})).catch($.e)})),ha(ba(e),"getUrl",(function(){var t=e.props,n=t.el,r=t.field;return(0,t.url)(n[r])})),ha(ba(e),"toggleWatermark",(function(){var t=e.props,n=t.el,r=t.field,o=t.assets,i=t.updateAsset,c=o[n[r]];i(c.name,{watermark:!c.watermark})})),e}return t=i,(n=[{key:"getAssetLabel",value:function(){var e=this.props,t=e.el,n=e.field,r=e.assets,o=t[n];return s()(r[o],"label")}},{key:"render",value:function(){var e=this.props,t=e.field,n="none"===e.el[t],r="video"===t?"videocam":"camera";return a.a.createElement("div",{className:"bllc-c-video-cr-region"},a.a.createElement(un.a,ua({icon:r},{disabled:!0})),":",n?null:[a.a.createElement(un.a,{icon:"link-ext-alt",role:"".concat(t,"-external"),href:this.getUrl(),key:"0"}),a.a.createElement(un.a,{icon:"watermark",onClick:this.toggleWatermark,key:"1"})],a.a.createElement(un.a,{icon:"up-circled2",onClick:this.openReplace,title:this.getAssetLabel(),role:"".concat(t,"-set")}))}}])&&fa(t.prototype,n),r&&fa(t,r),i}(a.a.PureComponent),ha(oa,"propTypes",{field:l.a.string.isRequired,el:l.a.object.isRequired,assets:l.a.object.isRequired,url:l.a.func.isRequired,replace:l.a.func.isRequired,updateAsset:l.a.func}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ra=ia).prototype,"render",[na],Object.getOwnPropertyDescriptor(ra.prototype,"render"),ra.prototype),ra);function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ga(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e,t){return(ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ra(e);if(t){var o=Ra(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pa(this,n)}}function Pa(e,t){return!t||"object"!==ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ra(e){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ja(e,t)}(i,e);var t,n,r,o=wa(i);function i(){return ga(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.url,n=e.preview,r=e.video,o=!n||"none"===n;return a.a.createElement("div",{className:"bllc-c-video-wrapper"},a.a.createElement("video",{controls:!0,preload:"none",src:t(r),controlsList:"nodownload",poster:Object(k.v)(!o&&t(n))}))}}])&&Oa(t.prototype,n),r&&Oa(t,r),i}(a.a.PureComponent);function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ka(){return(ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ca(e,t){return(Ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Aa(e);if(t){var o=Aa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Da(this,n)}}function Da(e,t){return!t||"object"!==Ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Aa(e){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Sa,"propTypes",{preview:l.a.string.isRequired,video:l.a.string.isRequired,url:l.a.func.isRequired});var za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ca(e,t)}(i,e);var t,n,r,o=Ta(i);function i(){return _a(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.el,t=e.preview,n=e.video,r="none"===n,o=this.cx.cpayload,i=o.isEditing,c=o.assets,u=o.url,l=o.updateAsset,f=this.cls("video",r&&"bllc-c-empty"),s=this.replaceField,p=!1;return c[e.video]&&(p=void 0!==c[e.video].watermark&&c[e.video].watermark),a.a.createElement("div",{"data-cid":this.cid(),className:f,onClick:this.focus},i?a.a.createElement("div",{className:"bllc-c-video-controlrow"},a.a.createElement(va,ka({assets:c,url:u,el:e,replace:s},{field:"preview"})),a.a.createElement(va,ka({assets:c,url:u,el:e,replace:s,updateAsset:l},{field:"video"}))):null,r?a.a.createElement(ca,{preview:t,url:u}):null,r?null:a.a.createElement(Sa,{video:n,preview:t,url:u}),p?a.a.createElement("div",{className:"bllc-video-watermark"}):null)}}])&&xa(t.prototype,n),r&&xa(t,r),i}(H);function Ia(e){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Na(){return(Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function La(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t){return(Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wa(e);if(t){var o=Wa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ha(this,n)}}function Ha(e,t){return!t||"object"!==Ia(t)&&"function"!=typeof t?Fa(e):t}function Fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}qa(za,"propTypes",{el:l.a.shape({preview:l.a.string.isRequired,video:l.a.string.isRequired}).isRequired}),qa(za,"cxPropTypes",{cpayload:l.a.shape({url:l.a.func.isRequired,isEditing:l.a.bool.isRequired,assets:l.a.object.isRequired,updateAsset:l.a.func.isRequired}).isRequired});var Va,$a,Ka,Xa,Ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(i,e);var t,n,r,o=Ua(i);function i(){var e;La(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ga(Fa(e=o.call.apply(o,[this].concat(n))),"focusByCid",!0),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.el;return a.a.createElement("div",{"data-cid":t,className:this.cls("group"),onClick:this.focus},a.a.createElement(he,{list:n.list,path:t}),a.a.createElement(Re.a,Na({cid:t},{parentType:"group"})))}}])&&Ma(t.prototype,n),r&&Ma(t,r),i}(H);function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(){return(Za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tu(e,t){return(tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iu(e);if(t){var o=iu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ru(this,n)}}function ru(e,t){return!t||"object"!==Ja(t)&&"function"!=typeof t?ou(e):t}function ou(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iu(e){return(iu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ga(Ya,"propTypes",{el:l.a.shape({list:l.a.array.isRequired}).isRequired,cid:l.a.string.isRequired});var au,uu,lu,fu,su,pu=(Va=Object(_.e)("mods.content.misc."),Xa=Ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tu(e,t)}(i,e);var t,n,r,o=nu(i);function i(){var e;Qa(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cu(ou(e=o.call.apply(o,[this].concat(n))),"focusCss",".bllc-c-toggleblock"),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.el,r=n.list,o=n.label,i=this.cx.cpayload.isEditing,c=this.cx.tt;return a.a.createElement("div",{"data-cid":t,className:this.cls("toggleblock"),onClick:this.focus},a.a.createElement("div",{className:"bllc-c-tb-label-block"},a.a.createElement(un.a,{cls:"bllc-c-tb-labelicon",icon:"help-circled"}),a.a.createElement("div",{className:"bllc-c-tb-label"},a.a.createElement(he,{list:o,path:"".concat(t,".label")}),a.a.createElement(Re.a,{cid:"".concat(t,".label"),parentType:"group"}))),a.a.createElement("div",{className:"bllc-c-tb-list"},a.a.createElement(he,{list:r,path:"".concat(t,".list")}),i||r.length?null:a.a.createElement(E.b,{err:c("emptyItemErr")}),a.a.createElement(Re.a,Za({cid:t},{parentType:"toggleBlock"}))))}}])&&eu(t.prototype,n),r&&eu(t,r),i}(H),cu(Ka,"propTypes",{el:l.a.shape({list:l.a.array.isRequired}).isRequired,cid:l.a.string.isRequired}),cu(Ka,"cxPropTypes",{cpayload:l.a.shape({isEditing:l.a.bool.isRequired}).isRequired,tt:l.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}(($a=Xa).prototype,"render",[Va],Object.getOwnPropertyDescriptor($a.prototype,"render"),$a.prototype),$a),yu=n(619),bu=n.n(yu),du=n(326);function hu(){return(hu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(n),!0).forEach((function(t){ku(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gu(e){return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ou(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wu(e,t){return(wu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Eu(e);if(t){var o=Eu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ru(this,n)}}function Ru(e,t){return!t||"object"!==gu(t)&&"function"!=typeof t?Su(e):t}function Su(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eu(e){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _u,xu,Cu,Tu,Du=(au=Object(_.g)("rapi"),uu=Object(_.e)("mods.content.audio."),su=fu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wu(e,t)}(i,e);var t,n,r,o=Pu(i);function i(){var e;Ou(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ku(Su(e=o.call.apply(o,[this].concat(n))),"setAudio",(function(){var t=e.cx.rapi.chooseAsset,n=e.props.setAudio;t("audio").then((function(e){n(e)})).catch(fi.a)})),ku(Su(e),"delAudio",(function(){e.props.setAudio(void 0)})),e}return t=i,(n=[{key:"render",value:function(e,t){var n=this.props,r=n.id,o=n.audio;return a.a.createElement(xe.a,{id:r},a.a.createElement(xe.c,{onClick:this.setAudio,disabled:!!o},t("set")),a.a.createElement(xe.c,{onClick:this.delAudio,disabled:!o},t("del")))}}])&&ju(t.prototype,n),r&&ju(t,r),i}(a.a.PureComponent),ku(fu,"propTypes",{id:l.a.string.isRequired,audio:l.a.string,setAudio:l.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((lu=su).prototype,"render",[au,uu],Object.getOwnPropertyDescriptor(lu.prototype,"render"),lu.prototype),lu),Au={setAudio:function(e){var t=this.props.el,n=e?mu(mu({},t),{},{audio:e}):_e()(t,"audio");this.replace(n)},audioMenuSelector:function(){return'\n\t\t\t.bllx-c-audio-btn,\n\t\t\t.bllx-c-audio-icon,\n\t\t\t[data-cid="'.concat(this.props.cid,'"]')},renderAudioButton:function(){var e=this.props.el.audio;if(!e)return null;var t=this.cx.cpayload.url(e);return a.a.createElement(du.a,{key:"audio-btn",audio:t})}},qu=function(e){return function(e,t,n){return bu()(e,Au),Object.assign(n,{value:(r=n.value,function(){for(var e=this.props.el,t=this.cx.cpayload.isEditing,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var c=r.call.apply(r,[this].concat(o));if(!t)return c;var u=this.id("audio"),l=c.props.children,f=a.a.Children.toArray(l);return f.push(a.a.createElement(Du,hu({key:u},{id:u},{audio:e.audio,setAudio:Object(k.c)(this,"setAudio")}))),a.a.createElement(Ze,mu({triggerTag:c.type,triggerId:u,triggerMatch:this.audioMenuSelector()},c.props),f)})});var r}};function zu(e){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach((function(t){Gu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bu(e,t){return(Bu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wu(e);if(t){var o=Wu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hu(this,n)}}function Hu(e,t){return!t||"object"!==zu(t)&&"function"!=typeof t?Fu(e):t}function Fu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wu(e){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vu,$u,Ku,Xu,Yu=(_u=qu(),Tu=Cu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bu(e,t)}(i,e);var t,n,r,o=Uu(i);function i(){var e;Lu(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gu(Fu(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){var n=e.props.el;e.replace(Nu(Nu({},n),{},{text:t}))})),Gu(Fu(e),"onEnter",(function(){e.cx.rapi.tryFallCreate("heading",e.cid())})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.el.text,t=this.cx.cpayload,n=t.isEditing,r=t.transformHTML,o=r?r.bind(null,this.cid()):void 0;return n?a.a.createElement("h4",{"data-cid":this.cid(),className:this.cls("heading"),onClick:this.focus},a.a.createElement(S,{text:e,onChange:this.onChange,onFocus:this.focus,onEnter:this.onEnter}),this.renderAudioButton()):a.a.createElement("h4",{"data-cid":this.cid(),className:this.cls("heading")},a.a.createElement(k.a,{html:x.a.genTextHTML(e,o)}),this.renderAudioButton())}}])&&Mu(t.prototype,n),r&&Mu(t,r),i}(H),Gu(Cu,"focus",S.focus),Gu(Cu,"propTypes",{el:l.a.shape({text:l.a.string.isRequired}).isRequired,cid:l.a.string.isRequired}),Gu(Cu,"cxPropTypes",{cpayload:l.a.shape({isEditing:l.a.bool.isRequired}).isRequired,rapi:l.a.shape({tryFallCreate:l.a.func.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((xu=Tu).prototype,"render",[_u],Object.getOwnPropertyDescriptor(xu.prototype,"render"),xu.prototype),xu);function Ju(e){return(Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(n),!0).forEach((function(t){al(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function el(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nl(e,t){return(nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cl(e);if(t){var o=cl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ol(this,n)}}function ol(e,t){return!t||"object"!==Ju(t)&&"function"!=typeof t?il(e):t}function il(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cl(e){return(cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ul,ll,fl,sl,pl=(Vu=qu(),Xu=Ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nl(e,t)}(i,e);var t,n,r,o=rl(i);function i(){var e;el(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return al(il(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){var n=e.props.el;e.replace(Qu(Qu({},n),{},{text:t}))})),al(il(e),"onEnter",(function(){e.cx.rapi.tryFallCreate("group",e.cid())})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.el.text,t=this.cx.cpayload,n=t.isEditing,r=t.transformHTML,o=r?r.bind(null,this.cid()):void 0;return n?a.a.createElement("span",{key:"text","data-cid":this.cid(),className:this.cls("inline"),onClick:this.focus},a.a.createElement(S,{text:e,onChange:this.onChange,onFocus:this.focus,onEnter:this.onEnter}),this.renderAudioButton()):a.a.createElement("span",{key:"text","data-cid":this.cid(),className:this.cls("inline")},a.a.createElement(k.a,{html:x.a.genTextHTML(e,o)}),this.renderAudioButton())}}])&&tl(t.prototype,n),r&&tl(t,r),i}(H),al(Ku,"focus",S.focus),al(Ku,"propTypes",{el:l.a.shape({text:l.a.string.isRequired}).isRequired,cid:l.a.string.isRequired}),al(Ku,"cxPropTypes",{cpayload:l.a.shape({isEditing:l.a.bool.isRequired}).isRequired,rapi:l.a.shape({tryFallCreate:l.a.func.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}(($u=Xu).prototype,"render",[Vu],Object.getOwnPropertyDescriptor($u.prototype,"render"),$u.prototype),$u);function yl(e){return(yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(n),!0).forEach((function(t){Pl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ml(e,t){return(ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wl(e);if(t){var o=wl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ol(this,n)}}function Ol(e,t){return!t||"object"!==yl(t)&&"function"!=typeof t?jl(e):t}function jl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wl(e){return(wl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rl=(ul=qu(),sl=fl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ml(e,t)}(i,e);var t,n,r,o=gl(i);function i(){var e;hl(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pl(jl(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){var n=e.props.el;e.replace(dl(dl({},n),{},{text:t}))})),Pl(jl(e),"onEnter",(function(){e.cx.rapi.tryFallCreate("paragraph",e.cid())})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.el.text,t=this.cx.cpayload,n=t.isEditing,r=t.transformHTML,o=r?r.bind(null,this.cid()):void 0;return n?a.a.createElement("div",{"data-cid":this.cid(),className:this.cls("paragraph"),onClick:this.focus},a.a.createElement(S,{text:e,onChange:this.onChange,onFocus:this.focus,onEnter:this.onEnter}),this.renderAudioButton()):a.a.createElement("div",{"data-cid":this.cid(),className:this.cls("paragraph")},a.a.createElement(k.a,{html:x.a.genTextHTML(e,o)}),this.renderAudioButton())}}])&&vl(t.prototype,n),r&&vl(t,r),i}(H),Pl(fl,"focus",S.focus),Pl(fl,"propTypes",{el:l.a.shape({text:l.a.string.isRequired}).isRequired,cid:l.a.string.isRequired}),Pl(fl,"cxPropTypes",{cpayload:l.a.shape({isEditing:l.a.bool.isRequired}).isRequired,rapi:l.a.shape({tryFallCreate:l.a.func.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ll=sl).prototype,"render",[ul],Object.getOwnPropertyDescriptor(ll.prototype,"render"),ll.prototype),ll);function Sl(e){return(Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function El(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?El(Object(n),!0).forEach((function(t){zl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cl(e,t){return(Cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ql(e);if(t){var o=ql(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dl(this,n)}}function Dl(e,t){return!t||"object"!==Sl(t)&&"function"!=typeof t?Al(e):t}function Al(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ql(e){return(ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Il=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cl(e,t)}(i,e);var t,n,r,o=Tl(i);function i(){var e;_l(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zl(Al(e=o.call.apply(o,[this].concat(n))),"genData",Ee()((function(e){return{cmd:e.cmd,param:e.param}}))),zl(Al(e),"Command",(function(t,n,r){return a.a.createElement(xe.c,{onClick:e.cmd,data:e.genData({cmd:t,param:r}),disabled:!!n},e.props.tt(t+(r?".".concat(r):"")))})),zl(Al(e),"cmd",(function(t,n,r){var o=n.cmd,i=n.param,c=e.props.el;e[o](c,i)})),e}return t=i,(n=[{key:"setImageAlign",value:function(e,t){var n=this.props.replace,r="default"===t?_e()(e,"align"):kl(kl({},e),{},{align:t});n(x.a.pack(r))}},{key:"render",value:function(){var e=this.props,t=e.menuId,n=e.disabled,r=e.el.align;return n?null:a.a.createElement(xe.a,{id:t},this.Command("setImageAlign",!r,"default"),this.Command("setImageAlign","left"===r,"left"),this.Command("setImageAlign","center"===r,"center"),this.Command("setImageAlign","right"===r,"right"))}}])&&xl(t.prototype,n),r&&xl(t,r),i}(a.a.PureComponent);zl(Il,"propTypes",{disabled:l.a.bool.isRequired,tt:l.a.func.isRequired,menuId:l.a.string.isRequired,el:l.a.any.isRequired,replace:l.a.func.isRequired});var Nl,Ll,Ml,Bl,Ul=Fi.g;function Hl(e){return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fl(){return(Fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vl(e,t){return(Vl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yl(e);if(t){var o=Yl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kl(this,n)}}function Kl(e,t){return!t||"object"!==Hl(t)&&"function"!=typeof t?Xl(e):t}function Xl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yl(e){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zl=(Nl=Object(_.e)("mods.content.image."),Bl=Ml=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vl(e,t)}(i,e);var t,n,r,o=$l(i);function i(){var e;Wl(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jl(Xl(e=o.call.apply(o,[this].concat(n))),"openReplace",(function(){e.cx.rapi.chooseAsset("image",e.props.el.asset).then((function(t){e.replace("I:".concat(t))})).catch($.e)})),Jl(Xl(e),"openExternal",(function(){var t=e.props.el.asset,n=e.cx.cpayload.url(t);window.open(n)})),Jl(Xl(e),"isEmpty",(function(e){return!e||"none"===e})),e}return t=i,(n=[{key:"render",value:function(){var e=this.cx.cpayload,t=e.assets,n=e.url,r=e.isEditing,o=this.props,i=o.cid,c=o.el,u=this.cx.tt,l=this.isEmpty(c.asset),f=Object(k.v)(!l&&n(c.asset)),p=this.id("menu"),y=s()(t[c.asset],"label"),b=this.cls("image",l&&"bllc-c-image-none");return a.a.createElement(Ze,{triggerId:p,triggerTag:"div","data-cid":i,style:{textAlign:c.align},className:b,onClick:this.focus},r?a.a.createElement("div",{className:"bllc-c-image-controlrow"},l?null:a.a.createElement(un.a,{icon:"link-ext-alt",onClick:this.openExternal,cls:"bllc-c-ext-link"}),a.a.createElement(un.a,{icon:"up-circled2",onClick:this.openReplace,title:y,cls:"bllc-c-im-choose"})):null,l?null:a.a.createElement(Ul,{src:f,asset:t[c.asset],title:Object(k.v)(!l&&y)}),a.a.createElement(Il,Fl({el:c,tt:u,menuId:p},{replace:this.replace,disabled:!r})))}}])&&Gl(t.prototype,n),r&&Gl(t,r),i}(H),Jl(Ml,"propTypes",{el:l.a.shape({asset:l.a.string.isRequired,align:l.a.string}).isRequired}),Jl(Ml,"cxPropTypes",{tt:l.a.func.isRequired,rapi:l.a.shape({chooseAsset:l.a.func.isRequired}).isRequired,cpayload:l.a.shape({url:l.a.func.isRequired,isEditing:l.a.bool.isRequired,assets:l.a.object.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Ll=Bl).prototype,"render",[Nl],Object.getOwnPropertyDescriptor(Ll.prototype,"render"),Ll.prototype),Ll),Ql=n(23),ef=n.n(Ql);function tf(e){return(tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nf(){return(nf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cf(e,t){return(cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function af(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lf(e);if(t){var o=lf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uf(this,n)}}function uf(e,t){return!t||"object"!==tf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lf(e){return(lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ff=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cf(e,t)}(i,e);var t,n,r,o=af(i);function i(){return rf(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.el,n=e.cid,r=e.tableCid,o=e.width,i=e.cAlign,c=e.cValign,u=t.align,l=t.valign,f="heading"===t.kind?"th":"td";return a.a.createElement(Ze,{triggerMatch:"th,td",triggerId:r,triggerTag:f,className:this.cls("tableCell"),"data-cid":n,style:{width:o?o+"%":void 0},"data-align":u||i,"data-valign":l||c},t.list.map((function(e,t){return a.a.createElement(de,nf({data:e,key:t},{cid:"".concat(n,".list.").concat(t)}))}),this),a.a.createElement(Re.a,nf({cid:n},{parentType:"tableCell"})))}}])&&of(t.prototype,n),r&&of(t,r),i}(H);function sf(e){return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pf(){return(pf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function df(e,t){return(df=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mf(e);if(t){var o=mf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vf(this,n)}}function vf(e,t){return!t||"object"!==sf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mf(e){return(mf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ff,"propTypes",{el:l.a.shape({list:l.a.array.isRequired}).isRequired,width:l.a.number,cAlign:l.a.string,cValign:l.a.string,cid:l.a.string.isRequired,tableCid:l.a.string.isRequired});var gf,Of,jf,wf,Pf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&df(e,t)}(i,e);var t,n,r,o=hf(i);function i(){return yf(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"cellProps",value:function(e){var t=this.props,n=t.columnWidths,r=t.columnAligns,o=void 0===r?{}:r,i=t.columnValigns,c=void 0===i?{}:i;return{width:n[e],cAlign:o[e],cValign:c[e]}}},{key:"render",value:function(){var e=this.props,t=e.el,n=e.cid,r=e.tableCid;return a.a.createElement("tr",{"data-cid":n,className:this.cls("tableRow")},t.list.map((function(e,t){return a.a.createElement(ff,pf({key:t,tableCid:r},this.cellProps(t),{el:e,cid:"".concat(n,".list.").concat(t)}))}),this))}}])&&bf(t.prototype,n),r&&bf(t,r),i}(H);function Rf(e){return(Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ef(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t){return(kf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tf(e);if(t){var o=Tf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xf(this,n)}}function xf(e,t){return!t||"object"!==Rf(t)&&"function"!=typeof t?Cf(e):t}function Cf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tf(e){return(Tf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Df(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Pf,"propTypes",{el:l.a.shape({list:l.a.array.isRequired}).isRequired,columnWidths:l.a.object.isRequired,columnAligns:l.a.object,columnValign:l.a.object,cid:l.a.string.isRequired,tableCid:l.a.string.isRequired});var Af,qf,zf,If,Nf=x.a.table,Lf=(gf=Object(_.g)("rapi"),wf=jf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kf(e,t)}(i,e);var t,n,r,o=_f(i);function i(){var e;Sf(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Df(Cf(e=o.call.apply(o,[this].concat(n))),"state",{cell:null,colIdx:null}),Df(Cf(e),"getCid",(function(e){return e.getAttribute("data-cid")})),Df(Cf(e),"genData",Ee()((function(e){var t=e.cmd,n=e.param;return{cmd:t,param:n,id:"".concat(t).concat(n?":"+n:"")}}))),Df(Cf(e),"Command",(function(t,n,r){return a.a.createElement(xe.c,{onClick:e.cmd,data:e.genData({cmd:t,param:r}),disabled:!!n},e.props.tt(t+(r?".".concat(r):"")))})),Df(Cf(e),"onShow",(function(t){var n=t.detail.target,r=e.getCid(n),o=e.props,i=o.tableCid,c=o.data,a=r&&Nf.getCell(c,i,r),u=r&&Nf.getColumnIdx(r);e.setState({cell:a,colIdx:u})})),Df(Cf(e),"cmd",(function(t,n,r){var o=n.cmd,i=n.param,c=e.getCid(r),a=e.props.data;e[o]?e[o](a,c,i):e.replaceTable(Nf[o](a,c))})),e}return t=i,(n=[{key:"replaceTable",value:function(e){var t=this.props.tableCid;this.cx.rapi.replaceIn(t,e)}},{key:"setWidth",value:function(e,t){var n=Nf.getColumnIdx(t),r=e.columnWidths[n]||"",o=prompt(this.props.tt("askSetWidth"),r);null!==o&&(o&&!/^\d+$/.test(o)||o!==String(r)&&this.replaceTable(Nf.setColWidth(e,n,o)))}},{key:"setField",value:function(e,t,n,r){var o=this.props.tableCid,i=Nf[e](t,o,n,r);this.replaceTable(i)}},{key:"setCellAlign",value:function(e,t,n){this.setField("setCellAlign",e,t,n)}},{key:"setCellValign",value:function(e,t,n){this.setField("setCellValign",e,t,n)}},{key:"setCellKind",value:function(e,t,n){this.setField("setCellKind",e,t,n)}},{key:"setColumnAlign",value:function(e,t,n){var r=Nf.getColumnIdx(t);this.setField("setColumnAlign",e,r,n)}},{key:"setColumnValign",value:function(e,t,n){var r=Nf.getColumnIdx(t);this.setField("setColumnValign",e,r,n)}},{key:"render",value:function(){var e=this.props,t=e.tt,n=e.data,r=e.tableCid,o=e.isEditing,i=this.state,c=i.colIdx,u=i.cell||{},l=u.align,f=u.valign,p=u.kind,y=s()(n.columnAligns,c),b=s()(n.columnValigns,c);return o?a.a.createElement(xe.a,{id:r,onShow:this.onShow},a.a.createElement(xe.d,{title:t("columnAlign"),hoverDelay:0},this.Command("setColumnAlign",!y,"default"),this.Command("setColumnAlign","left"===y,"left"),this.Command("setColumnAlign","center"===y,"center"),this.Command("setColumnAlign","right"===y,"right"),a.a.createElement(xe.c,{divider:!0}),this.Command("setColumnValign",!b,"default"),this.Command("setColumnValign","top"===b,"top"),this.Command("setColumnValign","center"===b,"center"),this.Command("setColumnValign","bottom"===b,"bottom")),a.a.createElement(xe.d,{title:t("align"),hoverDelay:0},this.Command("setCellAlign",!l,"default"),this.Command("setCellAlign","left"===l,"left"),this.Command("setCellAlign","center"===l,"center"),this.Command("setCellAlign","right"===l,"right"),a.a.createElement(xe.c,{divider:!0}),this.Command("setCellValign",!f,"default"),this.Command("setCellValign","top"===f,"top"),this.Command("setCellValign","center"===f,"center"),this.Command("setCellValign","bottom"===f,"bottom")),a.a.createElement(xe.d,{title:t("kind"),hoverDelay:0},this.Command("setCellKind",!p,"default"),this.Command("setCellKind","heading"===p,"heading")),a.a.createElement(xe.c,{divider:!0}),this.Command("addRowDown"),this.Command("addRowUp"),a.a.createElement(xe.c,{divider:!0}),this.Command("addColumnRight"),this.Command("addColumnLeft"),a.a.createElement(xe.c,{divider:!0}),this.Command("delColumn",Nf.getColCount(n)<2),this.Command("delRow",Nf.getRowCount(n)<2),a.a.createElement(xe.c,{divider:!0}),"transparent"!==n.border?this.Command("setTransparentBorder"):null,"transparent"===n.border?this.Command("setSolidBorder"):null,this.Command("setWidth")):null}}])&&Ef(t.prototype,n),r&&Ef(t,r),i}(a.a.PureComponent),Df(jf,"propTypes",{tt:l.a.func.isRequired,tableCid:l.a.string.isRequired,data:l.a.object.isRequired,isEditing:l.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Of=wf).prototype,"render",[gf],Object.getOwnPropertyDescriptor(Of.prototype,"render"),Of.prototype),Of);function Mf(e){return(Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bf(){return(Bf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Uf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ff(e,t){return(Ff=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$f(e);if(t){var o=$f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gf(this,n)}}function Gf(e,t){return!t||"object"!==Mf(t)&&"function"!=typeof t?Vf(e):t}function Vf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $f(e){return($f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xf,Yf,Jf,Zf,Qf=(Af=Object(_.e)("mods.content.table."),If=zf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ff(e,t)}(i,e);var t,n,r,o=Wf(i);function i(){var e;Uf(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kf(Vf(e=o.call.apply(o,[this].concat(n))),"focusByCid",!0),Kf(Vf(e),"checkTable",Object(He.a)((function(e){return e.el}),(function(e){return x.a.table.check(e)}))),e}return t=i,(n=[{key:"isTableFixed",value:function(){var e=this.props.el,t=e.columnWidths,n=e.list;return Object.keys(t||{}).length===n[0].list.length}},{key:"render",value:function(){var e=this.props,t=e.cid,n=e.el,r=this.cx.cpayload.isEditing,o=this.cx.tt,i=this.cls("table",n.border&&"bllc-c-table-border-".concat(n.border)),c=t;if(!this.checkTable(this.props))return a.a.createElement("div",{"data-cid":t,className:i,onClick:this.focus},a.a.createElement(E.a,{err:o("errStructure")}));var u=ef()(n,"columnWidths","columnAligns","columnValigns");return a.a.createElement("div",{className:i,"data-cid":t,onClick:this.focus},a.a.createElement("table",{"data-fixed":Object(k.v)(this.isTableFixed())},a.a.createElement("tbody",null,n.list.map((function(e,n){return a.a.createElement(Pf,Bf({key:n,tableCid:c},{el:e},u,{cid:"".concat(t,".list.").concat(n)}))}),this))),a.a.createElement(Lf,{data:n,tt:o,isEditing:r,tableCid:c}))}}])&&Hf(t.prototype,n),r&&Hf(t,r),i}(H),Kf(zf,"propTypes",{el:l.a.shape({list:l.a.array.isRequired,border:l.a.string,columnWidths:l.a.object.isRequired}).isRequired,cid:l.a.string.isRequired}),Kf(zf,"cxPropTypes",{tt:l.a.func.isRequired,cpayload:l.a.shape({isEditing:l.a.bool.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((qf=If).prototype,"render",[Af],Object.getOwnPropertyDescriptor(qf.prototype,"render"),qf.prototype),qf);function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ts(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rs(e,t){return(rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=as(e);if(t){var o=as(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return is(this,n)}}function is(e,t){return!t||"object"!==es(t)&&"function"!=typeof t?cs(e):t}function cs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function as(e){return(as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ls=(Xf=Object(_.e)("mods.content.misc."),Zf=Jf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rs(e,t)}(i,e);var t,n,r,o=os(i);function i(){var e;ts(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return us(cs(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){e.replaceField("text",t)})),us(cs(e),"replaceHref",(function(){var t=e.props.el,n=e.cx.tt,r=prompt(n("setHref"),t.href);null!==r&&r!==t.href&&e.replaceField("href",r)})),e}return t=i,(n=[{key:"getHref",value:function(e){if(/^#\d+$/.test(e)){var t=Number(e.slice(1));return this.cx.rapi.getLessonUrl(t)}return e}},{key:"render",value:function(){var e=this.props.el,t=e.text,n=e.href,r=this.cx.cpayload.isEditing;return a.a.createElement("span",{"data-cid":this.cid(),className:this.cls("inline link"),onClick:this.focus},r?[a.a.createElement(un.a,{cls:"bllc-c-link-url",icon:"link-ext-alt",title:n,onClick:this.replaceHref,key:"0"}),a.a.createElement(S,{text:t,onChange:this.onChange,onFocus:this.focus,key:"1"})]:null,r?null:a.a.createElement("a",{href:this.getHref(n),target:"_blank",dangerouslySetInnerHTML:{__html:x.a.genTextHTML(t)}}))}}])&&ns(t.prototype,n),r&&ns(t,r),i}(H),us(Jf,"focus",S.focus),us(Jf,"propTypes",{el:l.a.shape({text:l.a.string.isRequired,href:l.a.string.isRequired}).isRequired,cid:l.a.string.isRequired}),us(Jf,"cxPropTypes",{cpayload:l.a.shape({isEditing:l.a.bool.isRequired}).isRequired,rapi:l.a.shape({getLessonUrl:l.a.func.isRequired}).isRequired,tt:l.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Yf=Zf).prototype,"render",[Xf],Object.getOwnPropertyDescriptor(Yf.prototype,"render"),Yf.prototype),Yf);function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ys(e,t){return(ys=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vs(e);if(t){var o=vs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ds(this,n)}}function ds(e,t){return!t||"object"!==fs(t)&&"function"!=typeof t?hs(e):t}function hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vs(e){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ys(e,t)}(i,e);var t,n,r,o=bs(i);function i(){var e;ss(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ms(hs(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){e.replaceField("text",t)})),ms(hs(e),"replaceAsset",(function(){e.cx.rapi.chooseAsset(null,e.props.el.asset).then((function(t){e.replaceField("asset",t)})).catch($.e)})),e}return t=i,(n=[{key:"getHref",value:function(){var e=this.props.el.asset,t=this.cx.cpayload.url;return Object(k.v)("none"!==e&&t(e))}},{key:"render",value:function(){var e=this.cx.cpayload,t=e.assets,n=e.isEditing,r=this.props.el,o=s()(t[r.asset],"label");return a.a.createElement("span",{"data-cid":this.cid(),className:this.cls("inline link assetLink"),onClick:this.focus},n?[a.a.createElement(un.a,{cls:"bllc-c-link-url",icon:"link",title:o,onClick:this.replaceAsset,key:"0"}),a.a.createElement(S,{text:r.text,onChange:this.onChange,onFocus:this.focus,key:"1"})]:null,n?null:a.a.createElement("a",{href:this.getHref(),target:"_blank",dangerouslySetInnerHTML:{__html:x.a.genTextHTML(r.text)}}))}}])&&ps(t.prototype,n),r&&ps(t,r),i}(H);ms(gs,"focus",S.focus),ms(gs,"propTypes",{el:l.a.shape({text:l.a.string.isRequired,asset:l.a.string.isRequired}).isRequired,cid:l.a.string.isRequired}),ms(gs,"cxPropTypes",{cpayload:l.a.shape({url:l.a.func.isRequired,isEditing:l.a.bool.isRequired,assets:l.a.object.isRequired}).isRequired,rapi:l.a.shape({chooseAsset:l.a.func.isRequired}).isRequired,tt:l.a.func.isRequired});var Os,js,ws,Ps,Rs=n(55),Ss=n.n(Rs);function Es(e){return(Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ks(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xs(e,t){return(xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=As(e);if(t){var o=As(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ts(this,n)}}function Ts(e,t){return!t||"object"!==Es(t)&&"function"!=typeof t?Ds(e):t}function Ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function As(e){return(As=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zs,Is,Ns,Ls,Ms=(Os=Object(_.e)("mods.content.model."),Ps=ws=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xs(e,t)}(i,e);var t,n,r,o=Cs(i);function i(){var e;ks(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qs(Ds(e=o.call.apply(o,[this].concat(n))),"genData",Ee()((function(e){return{id:e}}))),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.contexId,r=t.el,o=t.setBgColor,i=t.resetProjection,c=t.setHeight;return a.a.createElement(xe.a,{id:n},a.a.createElement(xe.c,{onClick:o,data:this.genData("setBgColor")},e("setBgColor")),a.a.createElement(xe.c,{onClick:i,data:this.genData("resetProjection"),disabled:!r.projection},e("resetProjection")),a.a.createElement(xe.c,{onClick:c,data:this.genData("setHeight")},e("setHeight")))}}])&&_s(t.prototype,n),r&&_s(t,r),i}(a.a.PureComponent),qs(ws,"propTypes",{contexId:l.a.string.isRequired,el:l.a.object.isRequired,setBgColor:l.a.func.isRequired,resetProjection:l.a.func.isRequired,setHeight:l.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((js=Ps).prototype,"render",[Os],Object.getOwnPropertyDescriptor(js.prototype,"render"),js.prototype),js),Bs=n(218),Us=Fi.m;function Hs(e){return(Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fs(){return(Fs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach((function(t){Qs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ks(e,t){return(Ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zs(e);if(t){var o=Zs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ys(this,n)}}function Ys(e,t){return!t||"object"!==Hs(t)&&"function"!=typeof t?Js(e):t}function Js(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zs(e){return(Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ep=window.TEST?function(){return a.a.createElement("div",null)}:Bs.a,tp=(zs=Object(_.e)("mods.content.model."),Ls=Ns=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ks(e,t)}(i,e);var t,n,r,o=Xs(i);function i(){var e;Vs(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qs(Js(e=o.call.apply(o,[this].concat(n))),"state",{isLoaded:!1,projection:null}),Qs(Js(e),"openReplace",(function(){e.cx.rapi.chooseAsset("model",e.props.el.asset).then(e.setAsset).catch($.e)})),Qs(Js(e),"setAsset",(function(t){var n=_e()(e.props.el,"bgColor","projection");e.replace(Gs(Gs({},n),{},{asset:t}))})),Qs(Js(e),"isEmpty",(function(e){return!e||"none"===e})),Qs(Js(e),"onLoad",(function(){e.setState({isLoaded:!0})})),Qs(Js(e),"clearProjection",Ss()((function(){e.setState({projection:null})}),1e3)),Qs(Js(e),"onMove",(function(t){if(!e.cx.cpayload.isEditing)return e.setState({projection:t}),void e.clearProjection();var n=t?Gs(Gs({},e.props.el),{},{projection:t}):_e()(e.props.el,"projection");e.replace(n,!0)})),Qs(Js(e),"resetProjection",(function(){e.replace(_e()(e.props.el,"projection"),!0)})),Qs(Js(e),"setBgColor",(function(t){var n=e.props.el,r=(0,e.cx.tt)("promptBgColor"),o=prompt(r,n.bgColor);if(null!==o)if("#"===(o=o.toUpperCase())[0]&&(o=o.slice(1)),!o.length||/^[\dABCDEF]{6}$/.test(o)){var i=o.length?Gs(Gs({},n),{},{bgColor:o}):_e()(n,"bgColor");e.replace(i)}else Object($.e)("incorrect format: ".concat(o))})),Qs(Js(e),"setHeight",(function(){var t=e.props.el,n=(0,e.cx.tt)("promptHeight"),r=prompt(n,t.height);if(null!==r)if(!(r=r.replace("%","").trim()).length||/^\d{1,3}$/.test(r)){var o=r.length?Gs(Gs({},t),{},{height:Number(r)}):_e()(t,"height");e.replace(o)}else Object($.e)("incorrect format: ".concat(r))})),Qs(Js(e),"replace",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props.cid,o=e.cx.rapi;n?o.replaceInIgnore(r,t):o.replaceIn(r,t)})),e}return t=i,(n=[{key:"genModelCls",value:function(){var e=this.isEmpty(this.props.el.asset),t=this.cx.cpayload.isEditing,n=this.state.isLoaded;return this.cls("model",e&&"bllc-c-model-empty",t&&"bllc-c-editing",n&&"bllc-c-model-loaded")}},{key:"genStyle",value:function(){var e=this.props.el.height;return{paddingTop:e?"".concat(e,"%"):null}}},{key:"render",value:function(){var e=this.props,t=e.el,n=e.cid,r=this.cx.rapi.path,o=this.cx.cpayload,i=o.isEditing,c=o.assets,u=this.state.isLoaded,l=this.isEmpty(t.asset),f=!l&&s()(c[t.asset],"hash"),p=s()(c[t.asset],"label"),y="conect-model-"+n,b=!i&&this.state.projection?this.state.projection:t.projection;return a.a.createElement(Ze,{triggerTag:"div",triggerId:y,triggerHoldToDisplay:99999,className:this.genModelCls(),onClick:this.focus,"data-cid":n,style:this.genStyle()},i?[a.a.createElement("div",{className:"bllc-c-model-controlrow",key:"0"},a.a.createElement(un.a,{icon:"up-circled2",onClick:this.openReplace,title:p})),a.a.createElement(Ms,Fs({el:t,contexId:y},{resetProjection:this.resetProjection,setBgColor:this.setBgColor,setHeight:this.setHeight,key:"1"}))]:null,a.a.createElement(Us,{visible:!l&&!u}),l?null:a.a.createElement(ep,{path:r+t.asset,hash:f,onLoad:this.onLoad,onMove:this.onMove,key:t.asset+f,bgColor:t.bgColor,projection:b}))}}])&&$s(t.prototype,n),r&&$s(t,r),i}(H),Qs(Ns,"propTypes",{el:l.a.shape({asset:l.a.string.isRequired}).isRequired}),Qs(Ns,"cxPropTypes",{tt:l.a.func.isRequired,rapi:l.a.shape({chooseAsset:l.a.func.isRequired,path:l.a.string.isRequired,replaceInIgnore:l.a.func.isRequired,replaceIn:l.a.func.isRequired}).isRequired,cpayload:l.a.shape({isEditing:l.a.bool.isRequired,assets:l.a.object.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Is=Ls).prototype,"render",[zs],Object.getOwnPropertyDescriptor(Is.prototype,"render"),Is.prototype),Is),np=n(217),rp=n(48),op=n.n(rp),ip=n(84);function cp(e){return(cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ap(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function up(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lp(e,t){return(lp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yp(e);if(t){var o=yp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sp(this,n)}}function sp(e,t){return!t||"object"!==cp(t)&&"function"!=typeof t?pp(e):t}function pp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yp(e){return(yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lp(e,t)}(i,e);var t,n,r,o=fp(i);function i(){var e;ap(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bp(pp(e=o.call.apply(o,[this].concat(n))),"onClick",(function(){var t=e.props,n=t.dispatch,r=t.graph;n(Object(ip.g)(r))})),e}return t=i,(n=[{key:"render",value:function(){return a.a.createElement(un.a,{icon:"pencil",onClick:this.onClick,role:"plot-edit"})}}])&&up(t.prototype,n),r&&up(t,r),i}(a.a.PureComponent);bp(dp,"propTypes",{dispatch:l.a.func.isRequired,graph:l.a.object.isRequired});var hp,vp,mp=n(141);function gp(e){return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pp(e,t,n){return t&&wp(e.prototype,t),n&&wp(e,n),e}function Rp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sp(e,t)}function Sp(e,t){return(Sp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ep(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xp(e);if(t){var o=xp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kp(this,n)}}function kp(e,t){return!t||"object"!==gp(t)&&"function"!=typeof t?_p(e):t}function _p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xp(e){return(xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cp=function(e){Rp(n,e);var t=Ep(n);function n(){return jp(this,n),t.apply(this,arguments)}return Pp(n,[{key:"gen",value:function(e){var t=this.props,n=t.children,r=t.active,o=t.setTab;return a.a.Children.map(n,(function(t){return a.a.cloneElement(t,{isTabActive:t.props.tabName===r,tabMode:e,setTab:o})}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"bllx-tabs-box"},a.a.createElement("div",{className:"bllx-tbox-btns"},this.gen("button")),a.a.createElement("div",{className:"bllx-tbox-content"},this.gen("content")))}}]),n}(a.a.PureComponent),Tp=Object(mp.c)((vp=hp=function(e){Rp(n,e);var t=Ep(n);function n(){var e;jp(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Op(_p(e=t.call.apply(t,[this].concat(o))),"setTab",(function(){var t=e.props;(0,t.setTab)(t.tabName)})),e}return Pp(n,[{key:"renderBtn",value:function(){var e=this.props,t=e.isTabActive,n=e.tabLabel,r=e.tabName,o=Object(k.h)("bllx-tbox-btn","bllx-tbox-btn-".concat(t?"active":"inactive"));return a.a.createElement("div",{className:o,onClick:this.setTab,"data-tab":r},n)}},{key:"renderContent",value:function(){var e=this.props,t=e.Comp,n=e.tabName;return a.a.createElement("div",{className:"bllx-tab","data-tab":n},a.a.createElement(t,this.props))}},{key:"render",value:function(){var e=this.props,t=e.tabMode,n=e.isTabActive;return"button"===t?this.renderBtn():n?this.renderContent():null}}]),n}(a.a.PureComponent),Op(hp,"propTypes",{Comp:l.a.func.isRequired,tabName:l.a.string.isRequired,tabMode:l.a.oneOf(["button","content"]),tabLabel:l.a.string.isRequired}),vp)),Dp=n(155),Ap=n.n(Dp),qp=n(52),zp=n.n(qp),Ip=n(27);function Np(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Np(Object(n),!0).forEach((function(t){Mp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Np(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Up(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hp=function(e){return zp()(e,3)},Fp=function(e,t,n){var r=Bp(e.hor.bounds,2),o=r[0],i=r[1],c=Bp(e.ver.bounds,2),a=c[0],u=c[1],l=[Hp(o-t),Hp(i-t)],f=[Hp(a+n),Hp(u+n)];return Lp(Lp({},e),{},{hor:Object(En.p)(e.hor,"bounds",l),ver:Object(En.p)(e.ver,"bounds",f)})},Wp=function(e){var t=e.replace(/,/g,".");return zp()(t,3)},Gp=function(e,t,n){if(Number.isNaN(e))return"boundsErr.boundsIncorrect";var r="from"==t?n[1]:n[0];return"from"===t&&e>=r?"boundsErr.boundsFromMore":"to"===t&&e<=r?"boundsErr.boundsToLess":null},Vp=Mp({1:.1,2:.25,5:.5,15:1,25:2,50:5,100:10,200:20,500:50,1e3:100,2e3:200},Number.MAX_SAFE_INTEGER,500),$p=function(e,t){var n=Bp(e.bounds,2),r=n[0],o=n[1],i=(t?1:-1)*(o-r)*.25,c=[Hp(r+i),Hp(o-i)],a=function(e){var t=e[1]-e[0];return Ap()(Vp,(function(e,n){return t<=n}))}(c);return Lp(Lp({},e),{},{step:a,legendStep:a,bounds:c})},Kp=function(e,t){var n=Object(Ip.k)(e),r=n.w,o=n.h;if(t&&(r<.5||o<.5))return e;var i=$p(e.hor,t),c=$p(e.hor,t);return Lp(Lp({},e),{},{hor:i,ver:c})};function Xp(e){return(Xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zp(e,t){return(Zp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ny(e);if(t){var o=ny(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ey(this,n)}}function ey(e,t){return!t||"object"!==Xp(t)&&"function"!=typeof t?ty(e):t}function ty(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ny(e){return(ny=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ry(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zp(e,t)}(i,e);var t,n,r,o=Qp(i);function i(){var e;Yp(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ry(ty(e=o.call.apply(o,[this].concat(n))),"setBound",(function(t,n){var r=e.props,o=r.axis,i=r.change,c=r.tt,a=Wp(t),u=Gp(a,n,o.bounds);u?Object($.e)(c(u)):i("bounds.".concat("from"===n?0:1),a)})),ry(ty(e),"setFrom",(function(t){e.setBound(t,"from")})),ry(ty(e),"setTo",(function(t){e.setBound(t,"to")})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.tt,n=e.axis,r=t.pre("grid.");return a.a.createElement("fieldset",null,a.a.createElement("legend",null,r("bounds.label")),a.a.createElement("div",{className:"bllc-dual-fields"},a.a.createElement(Fi.i,{label:r("bounds.from"),onChange:this.setFrom,value:n.bounds[0],role:"bounds-from"}),a.a.createElement(Fi.i,{label:r("bounds.to"),onChange:this.setTo,value:n.bounds[1],role:"bounds-to"})))}}])&&Jp(t.prototype,n),r&&Jp(t,r),i}(a.a.PureComponent);ry(oy,"propTypes",{tt:l.a.func.isRequired,axis:l.a.object.isRequired,change:l.a.func.isRequired});var iy=n(92);function cy(e){return(cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ay(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ly(e,t){return(ly=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yy(e);if(t){var o=yy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sy(this,n)}}function sy(e,t){return!t||"object"!==cy(t)&&"function"!=typeof t?py(e):t}function py(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yy(e){return(yy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function by(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ly(e,t)}(i,e);var t,n,r,o=fy(i);function i(){var e;ay(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return by(py(e=o.call.apply(o,[this].concat(n))),"setUseGrid",(function(t){e.props.change("useGrid",t)})),by(py(e),"setIsEnabled",(function(t){e.props.change("isEnabled",t)})),by(py(e),"setStep",(function(t){var n=e.props,r=n.tt,o=n.change,i=zp()(t,3);e.isCorrectMeshStep(i)?o("step",i):Object($.e)(r("grid.mesh.incorrectStep"))})),e}return t=i,(n=[{key:"isCorrectMeshStep",value:function(e){if(Number.isNaN(e))return!1;var t=1e3*e-1e3*Math.floor(e);return 0===t||1e3%t==0}},{key:"render",value:function(){var e=this.props,t=e.tt,n=e.axis,r=t.pre("grid.");return a.a.createElement("fieldset",null,a.a.createElement("legend",null,r("mesh.label")),a.a.createElement("div",{className:"bllc-dual-fields"},a.a.createElement(iy.a,{label:r("mesh.useGrid"),value:n.useGrid,onChange:this.setUseGrid,role:"use-grid"}),a.a.createElement(Fi.i,{label:r("mesh.step"),onChange:this.setStep,value:n.step,disabled:!n.useGrid,role:"step"})),a.a.createElement(iy.a,{label:r("mesh.isEnabled"),value:n.isEnabled,onChange:this.setIsEnabled,role:"is-enabled"}))}}])&&uy(t.prototype,n),r&&uy(t,r),i}(a.a.PureComponent);function hy(e){return(hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function my(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gy(e,t){return(gy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Py(e);if(t){var o=Py(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jy(this,n)}}function jy(e,t){return!t||"object"!==hy(t)&&"function"!=typeof t?wy(e):t}function wy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Py(e){return(Py=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ry(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}by(dy,"propTypes",{axis:l.a.object.isRequired,tt:l.a.func.isRequired,change:l.a.func.isRequired,mode:l.a.string.isRequired});var Sy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gy(e,t)}(i,e);var t,n,r,o=Oy(i);function i(){var e;vy(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ry(wy(e=o.call.apply(o,[this].concat(n))),"defLegendPlace","before"),Ry(wy(e),"setLabel",(function(t){(0,e.props.change)("label",""===t||t===e.defLabel()?void 0:t)})),Ry(wy(e),"setLegendPlace",(function(t){e.props.change("legendPlace",t)})),Ry(wy(e),"setLegendStep",(function(t){var n=e.props,r=n.tt,o=n.change,i=zp()(t,3);e.isCorrectLegendStep(i)?o("legendStep",i):Object($.e)(r("grid.ls.incorrect"))})),Ry(wy(e),"defAxisNamePlace","auto"),Ry(wy(e),"setAxisNamePlace",(function(t){var n=t===e.defAxisNamePlace?void 0:t;e.props.change("axisNamePlace",n)})),e}return t=i,(n=[{key:"defLabel",value:function(){return"hor"===this.props.mode?"X":"Y"}},{key:"isCorrectLegendStep",value:function(e){var t=1e3*e-1e3*Math.floor(e);return 0===t||1e3%t==0}},{key:"render",value:function(){var e=this.props,t=e.tt,n=e.axis,r=t.pre("grid.");return n.isEnabled?a.a.createElement("fieldset",null,a.a.createElement("legend",null,r("legend")),a.a.createElement("div",{className:"bllc-double-fields-row"},a.a.createElement("label",null,r("an.label")),a.a.createElement(jt.a,{value:n.label||this.defLabel(),onChange:this.setLabel,role:"axis-legend-label"}),a.a.createElement(io.a,{value:n.axisNamePlace||this.defAxisNamePlace,onChange:this.setAxisNamePlace,role:"axis-legend-name-place"},a.a.createElement("option",{value:"auto"},r("an.auto")),a.a.createElement("option",{value:"before"},r("an.before")),a.a.createElement("option",{value:"after"},r("an.after")))),a.a.createElement(Fi.l,{label:r("lp.label"),value:n.legendPlace||this.defLegendPlace,onChange:this.setLegendPlace,role:"axis-legend-place"},a.a.createElement("option",{value:"before"},r("lp.before")),a.a.createElement("option",{value:"after"},r("lp.after"))),a.a.createElement(Fi.i,{label:r("ls.label"),value:n.legendStep,onChange:this.setLegendStep,role:"axis-legend-step"})):null}}])&&my(t.prototype,n),r&&my(t,r),i}(a.a.PureComponent);function Ey(e){return(Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ky(){return(ky=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cy(e,t){return(Cy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ty(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qy(e);if(t){var o=qy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dy(this,n)}}function Dy(e,t){return!t||"object"!==Ey(t)&&"function"!=typeof t?Ay(e):t}function Ay(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qy(e){return(qy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ry(Sy,"propTypes",{axis:l.a.object.isRequired,tt:l.a.func.isRequired,change:l.a.func.isRequired,mode:l.a.string.isRequired});var Iy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cy(e,t)}(i,e);var t,n,r,o=Ty(i);function i(){var e;_y(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zy(Ay(e=o.call.apply(o,[this].concat(n))),"change",(function(t,n){var r=e.props,o=r.mode;(0,r.onChange)("bg.axis.".concat(o,".").concat(t),n)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.tt,n=e.mode;return a.a.createElement("fieldset",{className:"bllc-nested-fieldset"},a.a.createElement("legend",null,t("grid.".concat(n,"Axis"))),a.a.createElement(oy,ky({},this.props,{change:this.change})),a.a.createElement(dy,ky({},this.props,{change:this.change})),a.a.createElement(Sy,ky({},this.props,{change:this.change})))}}])&&xy(t.prototype,n),r&&xy(t,r),i}(a.a.PureComponent);function Ny(e){return(Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ly(){return(Ly=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function My(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function By(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uy(e,t){return(Uy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wy(e);if(t){var o=Wy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fy(this,n)}}function Fy(e,t){return!t||"object"!==Ny(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wy(e){return(Wy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uy(e,t)}(i,e);var t,n,r,o=Hy(i);function i(){return My(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.tt,n=e.graph,r=e.onChange,o=n.bg.axis,i=o.hor,c=o.ver;return a.a.createElement("div",{className:"bllx-tbox-grid"},a.a.createElement(Iy,Ly({mode:"hor",axis:i},{tt:t,onChange:r})),a.a.createElement(Iy,Ly({mode:"ver",axis:c},{tt:t,onChange:r})))}}])&&By(t.prototype,n),r&&By(t,r),i}(a.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Gy,"propTypes",{tt:l.a.func.isRequired,graph:l.a.object.isRequired,onChange:l.a.func.isRequired});var Vy=n(622),$y=n.n(Vy),Ky=n(252),Xy=n(623),Yy=new(n(154).a)({list:["ru","kz","en"],labels:{ru:"Русский",kz:"Қазақ",en:"English"},fallbackPath:["ru","kz","en"]}).mix(Xy);function Jy(e){return(Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zy(){return(Zy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tb(e,t){return(tb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ib(e);if(t){var o=ib(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rb(this,n)}}function rb(e,t){return!t||"object"!==Jy(t)&&"function"!=typeof t?ob(e):t}function ob(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ib(e){return(ib=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ab=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tb(e,t)}(i,e);var t,n,r,o=nb(i);function i(){var e;Qy(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cb(ob(e=o.call.apply(o,[this].concat(n))),"state",{showPicker:!1,left:null,right:null,top:null,bottom:null}),cb(ob(e),"toggle",(function(t){var n=t.pageX,r=t.pageY;e.setState({left:n+"px",top:r+"px",bottom:"auto",right:"auto",showPicker:!0})})),cb(ob(e),"setDropdown",(function(t){if(t){var n=window.innerHeight;t.offsetTop+t.offsetHeight>n&&e.setState({top:"auto",bottom:"0"});var r=window.innerWidth;t.offsetLeft+t.offsetWidth>r&&e.setState({left:"auto",right:"0"}),document.body.addEventListener("click",e.onClick)}})),cb(ob(e),"hide",(function(){e.setState({showPicker:!1}),document.body.removeEventListener("click",e.onClick)})),cb(ob(e),"onClick",(function(t){t.target.closest(".bllc-color-picker")||e.hide()})),cb(ob(e),"onSetColor",(function(t){var n=t.hex;e.hex=n})),cb(ob(e),"apply",(function(){e.hide(),e.hex&&e.props.onChange(e.hex)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.state,t=e.showPicker,n=e.top,r=e.left,o=e.right,i=e.bottom,c=this.props,u=c.role,l=c.lang,f=c.color,s=c.label,p=Yy.gen(l);return a.a.createElement("div",{className:"bllc-color-picker","data-role":u},s?a.a.createElement("label",null,s):null,a.a.createElement("div",{className:"bllc-cpicker-cbox",onClick:this.toggle},a.a.createElement("div",{style:{background:f},className:"bllc-cpicker-color"}),a.a.createElement("div",{className:"bllc-cpicker-label"},f)),t?a.a.createElement("div",{className:"bllc-cpicker-dropdown",ref:this.setDropdown,style:{top:n,left:r,right:o,bottom:i}},a.a.createElement($y.a,Zy({disableAlpha:!0},{color:f},{onChangeComplete:this.onSetColor})),a.a.createElement("div",{className:"bllc-cpicker-controls"},a.a.createElement(Ky.a,{icon:"ok",label:p("ui.ok"),onClick:this.apply}),a.a.createElement(Ky.a,{icon:"block",label:p("ui.cancel"),onClick:this.hide}))):null)}}])&&eb(t.prototype,n),r&&eb(t,r),i}(a.a.PureComponent);function ub(e){return(ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sb(e,t){return(sb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=db(e);if(t){var o=db(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yb(this,n)}}function yb(e,t){return!t||"object"!==ub(t)&&"function"!=typeof t?bb(e):t}function bb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function db(e){return(db=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cb(ab,"propTypes",{color:l.a.string.isRequired,label:l.a.string,lang:l.a.string.isRequired,role:l.a.string});var vb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sb(e,t)}(i,e);var t,n,r,o=pb(i);function i(){var e;lb(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hb(bb(e=o.call.apply(o,[this].concat(n))),"setFnX",(function(t){e.setFn("X",t)})),hb(bb(e),"setFnY",(function(t){e.setFn("Y",t)})),e}return t=i,(n=[{key:"setFn",value:function(e,t){(0,this.props.changeCurve)("fn".concat(e),t.length?t:void 0)}},{key:"render",value:function(){var e=this.props,t=e.tt,n=e.curve;return a.a.createElement("div",{className:"bllc-dual-fields"},a.a.createElement(Fi.i,{label:t("curve.fn.fnX"),value:n.fnX||"",onChange:this.setFnX,role:"fn-x"}),a.a.createElement(Fi.i,{label:t("curve.fn.fnY"),value:n.fnY||"",onChange:this.setFnY,role:"fn-y"}))}}])&&fb(t.prototype,n),r&&fb(t,r),i}(a.a.PureComponent);function mb(e){return(mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ob(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jb(e,t){return(jb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sb(e);if(t){var o=Sb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pb(this,n)}}function Pb(e,t){return!t||"object"!==mb(t)&&"function"!=typeof t?Rb(e):t}function Rb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sb(e){return(Sb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}hb(vb,"propTypes",{tt:l.a.func.isRequired,changeCurve:l.a.func.isRequired,curve:l.a.shape({fnX:l.a.string,fnY:l.a.string}).isRequired});var kb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jb(e,t)}(i,e);var t,n,r,o=wb(i);function i(){var e;gb(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Eb(Rb(e=o.call.apply(o,[this].concat(n))),"defRole","display"),Eb(Rb(e),"setRole",(function(t){var n=t===e.defRole?void 0:t;e.props.changeCurve("role",n)})),Eb(Rb(e),"defDisplay","always"),Eb(Rb(e),"setDisplay",(function(t){var n=t===e.defDisplay?void 0:t;e.props.changeCurve("display",n)})),Eb(Rb(e),"setIsCorrect",(function(t){e.props.changeCurve("isCorrect",t||void 0)})),Eb(Rb(e),"setIsExcess",(function(t){e.props.changeCurve("isExcess",t||void 0)})),Eb(Rb(e),"setShift",(function(t,n){var r=e.props,o=r.changeCurve,i=r.legendStep,c=n.match(/-(\w+)$/)[1],a=i[c],u=void 0;""===t||null!==(u=Object(k.t)(t))&&t%a==0?o("shift.".concat("hor"===c?"x":"y"),u):Object($.e)(e.props.tt("curve.shift.incorrect"))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.curve,n=e.tt.pre("curve."),r="display"===t.role||!t.role&&"display"===this.defRole,o=!r&&"shift"!==t.role;return a.a.createElement("fieldset",{className:"bllc-fieldset"},a.a.createElement("legend",null,n("role.label")),a.a.createElement(Fi.l,{label:n("role.label"),value:t.role||this.defRole,onChange:this.setRole,role:"role"},a.a.createElement("option",{value:"choose"},n("role.choose")),a.a.createElement("option",{value:"display"},n("role.display")),a.a.createElement("option",{value:"shift"},n("role.shift"))),r?a.a.createElement(Fi.l,{label:n("display.label"),value:t.display||this.defDisplay,onChange:this.setDisplay,role:"display"},a.a.createElement("option",{value:"always"},n("display.always")),a.a.createElement("option",{value:"failure"},n("display.failure")),a.a.createElement("option",{value:"success"},n("display.success"))):null,o?a.a.createElement("div",{className:"bllc-dual-fields"},a.a.createElement(iy.a,{label:n("display.isCorrect"),value:t.isCorrect||!1,onChange:this.setIsCorrect,role:"isCorrect"}),t.isCorrect?null:a.a.createElement(iy.a,{label:n("display.isExcess"),value:t.isExcess||!1,onChange:this.setIsExcess,role:"isExcess"})):null,"shift"===t.role?a.a.createElement("div",{className:"bllc-dual-fields"},a.a.createElement(Fi.i,{label:n("shift.hor"),value:s()(t.shift,"x",""),onChange:this.setShift,role:"shift-hor"}),a.a.createElement(Fi.i,{label:n("shift.ver"),value:s()(t.shift,"y",""),onChange:this.setShift,role:"shift-ver"})):null)}}])&&Ob(t.prototype,n),r&&Ob(t,r),i}(a.a.PureComponent);function _b(e){return(_b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xb(e){return function(e){if(Array.isArray(e))return Cb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ab(e,t){return(Ab=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nb(e);if(t){var o=Nb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zb(this,n)}}function zb(e,t){return!t||"object"!==_b(t)&&"function"!=typeof t?Ib(e):t}function Ib(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nb(e){return(Nb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Eb(kb,"propTypes",{tt:l.a.func.isRequired,curve:l.a.object.isRequired,changeCurve:l.a.func.isRequired,legendStep:l.a.object.isRequired});var Mb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ab(e,t)}(i,e);var t,n,r,o=qb(i);function i(){var e;Tb(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lb(Ib(e=o.call.apply(o,[this].concat(n))),"setBound",(function(t,n){var r="from"===n?0:1;if(""!==t){var o=Wp(t),i=e.genCheckBounds(r,o),c=Gp(o,n,i);c?Object($.e)(e.props.tt(c)):e.changeCurveBound(r,o)}else e.changeCurveBound(r,null)})),Lb(Ib(e),"setFrom",(function(t){e.setBound(t,"from")})),Lb(Ib(e),"setTo",(function(t){e.setBound(t,"to")})),e}return t=i,(n=[{key:"getField",value:function(){return"hor"===this.props.mode?"boundsHor":"boundsVer"}},{key:"getBounds",value:function(){return this.props.curve[this.getField()]||[null,null]}},{key:"getGridBounds",value:function(){var e=this.props;return e.bounds[e.mode]}},{key:"genRealBounds",value:function(){var e=this.getGridBounds(),t=this.getBounds();return[null===t[0]?e[0]:t[0],null===t[1]?e[1]:t[1]]}},{key:"genCheckBounds",value:function(e,t){var n=this.genRealBounds();return n[e]=t,n}},{key:"changeCurveBound",value:function(e,t){var n=this.props.changeCurve,r=xb(this.getBounds());r[e]=t,null===r[0]&&null===r[1]&&(r=void 0),n(this.getField(),r)}},{key:"render",value:function(){var e=this.props,t=e.tt,n=e.mode,r=t.pre("curve.bounds."),o=this.getBounds();return a.a.createElement("div",{className:"bllc-multi-fields"},a.a.createElement("label",null,r(n)),a.a.createElement(Fi.i,{label:r("from"),value:o[0],onChange:this.setFrom,role:"bounds-".concat(n,"-from")}),a.a.createElement(Fi.i,{label:r("to"),value:o[1],onChange:this.setTo,role:"bounds-".concat(n,"-to")}))}}])&&Db(t.prototype,n),r&&Db(t,r),i}(a.a.PureComponent);function Bb(e){return(Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ub(){return(Ub=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hb(Object(n),!0).forEach((function(t){Jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vb(e,t){return(Vb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yb(e);if(t){var o=Yb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kb(this,n)}}function Kb(e,t){return!t||"object"!==Bb(t)&&"function"!=typeof t?Xb(e):t}function Xb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yb(e){return(Yb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Lb(Mb,"propTypes",{tt:l.a.func.isRequired,mode:l.a.oneOf(["hor","ver"]).isRequired});var Zb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vb(e,t)}(i,e);var t,n,r,o=$b(i);function i(){var e;Wb(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jb(Xb(e=o.call.apply(o,[this].concat(n))),"changeCurve",(function(t,n){var r=e.props,o=r.idx,i=r.onChange,c=r.curve,a=Object(En.p)(c,t,n);i("curves.".concat(o),a)})),Jb(Xb(e),"setColor",(function(t){e.changeCurve("color",t)})),Jb(Xb(e),"setOptimize",(function(t){var n=!1!==t&&void 0;e.changeCurve("optimize",n)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.curve,n=e.tt.pre("curve."),r=Fb(Fb({},this.props),{},{changeCurve:this.changeCurve});return a.a.createElement("div",{className:"bllx-tbox-cp-left"},a.a.createElement(vb,r),a.a.createElement("div",{className:"bllc-dual-fields"},a.a.createElement(ab,{color:t.color,label:n("color"),onChange:this.setColor,lang:n.lang,role:"color"}),a.a.createElement(iy.a,{value:!1!==t.optimize,onChange:this.setOptimize,role:"optimize"},n("optimize"),a.a.createElement(un.a,{icon:"help-circled",title:n("optimizeHint")}))),a.a.createElement("fieldset",{className:"bllc-fieldset"},a.a.createElement("legend",null,n("bounds.label")),a.a.createElement(Mb,Ub({},r,{mode:"hor"})),a.a.createElement(Mb,Ub({},r,{mode:"ver"}))),a.a.createElement(kb,r))}}])&&Gb(t.prototype,n),r&&Gb(t,r),i}(a.a.PureComponent);function Qb(e){return(Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nd(e,t){return(nd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cd(e);if(t){var o=cd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return od(this,n)}}function od(e,t){return!t||"object"!==Qb(t)&&"function"!=typeof t?id(e):t}function id(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cd(e){return(cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Jb(Zb,"propTypes",{tt:l.a.func.isRequired,curve:l.a.object.isRequired,onChange:l.a.func.isRequired,idx:l.a.number.isRequired,legendStep:l.a.object.isRequired});var ud=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nd(e,t)}(i,e);var t,n,r,o=rd(i);function i(){var e;ed(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ad(id(e=o.call.apply(o,[this].concat(n))),"del",(function(){if(confirm(e.props.tt("curve.askDel"))){var t=e.props,n=t.onChange,r=t.idx;n("curves",e.splice(r,1))}})),ad(id(e),"move",(function(t){var n=e.props,r=n.curves,o=n.idx;(0,n.onChange)("curves",("up"===t?En.o:En.f)(r,r[o]))})),ad(id(e),"moveUp",(function(){e.move("up")})),ad(id(e),"moveDown",(function(){e.move("down")})),ad(id(e),"copy",(function(){var t=e.props;(0,t.copy)("plot-curve",t.curve)})),e}return t=i,(n=[{key:"splice",value:function(){for(var e=this.props.curves,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return En.l.apply(void 0,[e].concat(n))}},{key:"render",value:function(){var e=this.props,t=e.isFirst,n=e.isLast;return a.a.createElement("div",{className:"bllx-tbox-cp-controls"},a.a.createElement(un.a,{icon:"trash",onClick:this.del,role:"del-elist-item"}),a.a.createElement(un.a,{icon:"docs",onClick:this.copy,role:"copy-elist-item"}),a.a.createElement(un.a,{icon:"up-open",onClick:this.moveUp,disabled:t,role:"move-up-elist-item"}),a.a.createElement(un.a,{icon:"down-open",onClick:this.moveDown,disabled:n,role:"move-down-elist-item"}))}}])&&td(t.prototype,n),r&&td(t,r),i}(a.a.PureComponent);function ld(e){return(ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pd(e,t){return(pd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dd(e);if(t){var o=dd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bd(this,n)}}function bd(e,t){return!t||"object"!==ld(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dd(e){return(dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ad(ud,"propTypes",{isFirst:l.a.bool.isRequired,isLast:l.a.bool.isRequired,curves:l.a.array.isRequired,curve:l.a.object.isRequired,idx:l.a.number.isRequired,onChange:l.a.func.isRequired,copy:l.a.func.isRequired});var hd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pd(e,t)}(i,e);var t,n,r,o=yd(i);function i(){return fd(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"bllx-tbox-item-panel bllx-tbox-curve"},a.a.createElement(Zb,this.props),a.a.createElement(ud,this.props))}}])&&sd(t.prototype,n),r&&sd(t,r),i}(a.a.PureComponent),vd=n(63);function md(){return(md=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gd(e){return(gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Od(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wd(e,t,n){return t&&jd(e.prototype,t),n&&jd(e,n),e}function Pd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rd(e,t)}function Rd(e,t){return(Rd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var o=_d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ed(this,n)}}function Ed(e,t){return!t||"object"!==gd(t)&&"function"!=typeof t?kd(e):t}function kd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _d(e){return(_d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cd=function(e){Pd(n,e);var t=Sd(n);function n(){var e;Od(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xd(kd(e=t.call.apply(t,[this].concat(o))),"add",(function(){e.props.add(e.props.idx)})),xd(kd(e),"paste",(function(){e.props.paste(e.props.idx)})),e}return wd(n,[{key:"render",value:function(){var e=this.props,t=e.canAdd,n=e.canPaste;return a.a.createElement("div",{className:"bllc-elist-middle-panel"},a.a.createElement(vd.a,{icon:"plus",disabled:!t,onClick:this.add,role:"add"}),a.a.createElement(vd.a,{icon:"paste",disabled:!n,onClick:this.paste,role:"paste"}))}}]),n}(a.a.PureComponent);xd(Cd,"propTypes",{canAdd:l.a.bool.isRequired,canPaste:l.a.bool.isRequired,add:l.a.func.isRequired,paste:l.a.func.isRequired});var Td=function(e){Pd(n,e);var t=Sd(n);function n(){return Od(this,n),t.apply(this,arguments)}return wd(n,[{key:"render",value:function(){var e=this.props,t=e.cls,n=e.list,r=e.Item,o=e.idxKey,i=e.itemProps,c=e.itemKey,u=ef()(this.props,"canAdd","canPaste","add","paste");return a.a.createElement("div",{className:"bllc-editable-list ".concat(t||"")},a.a.createElement(Cd,md({key:0,idx:0},u)),n.map((function(e,t){return[a.a.createElement(r,md({key:o?e[o]:t},xd({idx:t},c||"data",e),i,{isFirst:0===t,isLast:t===n.length-1})),a.a.createElement(Cd,md({key:t+1,idx:t+1},u))]}),this))}}]),n}(a.a.PureComponent);function Dd(e){return(Dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ad(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zd(e,t){return(zd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Id(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Md(e);if(t){var o=Md(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nd(this,n)}}function Nd(e,t){return!t||"object"!==Dd(t)&&"function"!=typeof t?Ld(e):t}function Ld(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Md(e){return(Md=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}xd(Td,"propTypes",{cls:l.a.string,list:l.a.array.isRequired,Item:l.a.func.isRequired,idxKey:l.a.string,itemKey:l.a.string,itemProps:l.a.object.isRequired,canAdd:l.a.bool.isRequired,canPaste:l.a.bool.isRequired,add:l.a.func.isRequired,paste:l.a.func.isRequired});var Ud=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zd(e,t)}(i,e);var t,n,r,o=Id(i);function i(){var e;Ad(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bd(Ld(e=o.call.apply(o,[this].concat(n))),"add",(function(t){var n=e.props,r=n.graph,o=n.onChange,i=Object(ip.d)(r.curves);o("curves",Object(En.l)(r.curves,t,0,i))})),Bd(Ld(e),"paste",(function(t){var n=e.props,r=n.clipboard,o=n.onChange,i=n.graph,c=r.data;o("curves",Object(En.l)(i.curves,t,0,c))})),Bd(Ld(e),"genProps",Object(He.a)((function(e){return e.graph.bg.axis.hor.bounds}),(function(e){return e.graph.bg.axis.ver.bounds}),(function(e){return e.graph.bg.axis.hor.legendStep}),(function(e){return e.graph.bg.axis.ver.legendStep}),(function(e){return e.graph.curves}),(function(e){return e.tt}),(function(e){return e.onChange}),(function(e){return e.copy}),(function(e,t,n,r,o,i,c,a){return{bounds:{hor:e,ver:t},tt:i,onChange:c,curves:o,copy:a,legendStep:{hor:n,ver:r}}}))),e}return t=i,(n=[{key:"canPaste",value:function(){var e=this.props.clipboard;return"plot-curve"===e.kind&&!!e.data}},{key:"render",value:function(){var e=this.genProps(this.props);return a.a.createElement(Td,{cls:"bllx-tbox-curve-panel",list:this.props.graph.curves,Item:hd,itemKey:"curve",itemProps:e,canAdd:!0,canPaste:this.canPaste(),add:this.add,paste:this.paste})}}])&&qd(t.prototype,n),r&&qd(t,r),i}(a.a.PureComponent);function Hd(e){return(Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gd(e,t){return(Gd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xd(e);if(t){var o=Xd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $d(this,n)}}function $d(e,t){return!t||"object"!==Hd(t)&&"function"!=typeof t?Kd(e):t}function Kd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xd(e){return(Xd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Bd(Ud,"propTypes",{clipboard:l.a.object,copy:l.a.func.isRequired,graph:l.a.object.isRequired,tt:l.a.func.isRequired,onChange:l.a.func.isRequired});var Jd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gd(e,t)}(i,e);var t,n,r,o=Vd(i);function i(){var e;Fd(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yd(Kd(e=o.call.apply(o,[this].concat(n))),"state",{isTargeting:!1}),Yd(Kd(e),"setX",(function(t){e.setCoord("x",t)})),Yd(Kd(e),"setY",(function(t){e.setCoord("y",t)})),Yd(Kd(e),"toggleTarget",(function(){var t=e.props.queryPointTarget;e.state.isTargeting?(t(null),e.unset()):(e.constructor.activeTarget&&e.constructor.activeTarget(),t(e.setPoint),e.setState({isTargeting:!0}),e.constructor.activeTarget=e.unset)})),Yd(Kd(e),"unset",(function(){e.constructor.activeTarget=null,e.setState({isTargeting:!1})})),Yd(Kd(e),"setPoint",(function(t,n){e.unset(),e.props.set({x:t,y:n})})),e}return t=i,(n=[{key:"setCoord",value:function(e,t){var n=Number(t);if(Number.isNaN(n))Object($.e)(this.props.tt("point.coordErr"));else{var r=this.props,o=r.x,i=r.y;(0,r.set)(Yd({x:o,y:i},e,n))}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=this.state.isTargeting;return a.a.createElement("div",{className:"bllc-multi-fields bllx-tbox-point-coords"},a.a.createElement(Fi.i,{label:"X =",value:t,onChange:this.setX,role:"x"}),a.a.createElement(Fi.i,{label:"Y =",value:n,onChange:this.setY,role:"y"}),a.a.createElement(un.a,{icon:"target",cls:Object(k.v)(r&&"bllx-plot-st-target"),onClick:this.toggleTarget}))}}])&&Wd(t.prototype,n),r&&Wd(t,r),i}(a.a.PureComponent);function Zd(e){return(Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qd(){return(Qd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach((function(t){lh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oh(e,t){return(oh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ih(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uh(e);if(t){var o=uh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ch(this,n)}}function ch(e,t){return!t||"object"!==Zd(t)&&"function"!=typeof t?ah(e):t}function ah(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uh(e){return(uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Yd(Jd,"activeTarget",null),Yd(Jd,"propTypes",{x:l.a.number.isRequired,y:l.a.number.isRequired,set:l.a.func.isRequired,tt:l.a.func.isRequired,queryPointTarget:l.a.func.isRequired});var fh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oh(e,t)}(i,e);var t,n,r,o=ih(i);function i(){var e;nh(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return lh(ah(e=o.call.apply(o,[this].concat(n))),"changePoint",(function(t,n){var r=e.props,o=r.idx,i=r.onChange,c=r.point,a=Object(En.p)(c,t,n);i("points.".concat(o),a)})),lh(ah(e),"setCoords",(function(t){var n=t.x,r=t.y,o=e.props,i=o.onChange,c=o.point,a=o.idx;i("points.".concat(a),th(th({},c),{},{x:n,y:r}))})),lh(ah(e),"setColor",(function(t){e.changePoint("color",t)})),lh(ah(e),"setLabel",(function(t){e.changePoint("label",t)})),lh(ah(e),"defPlacement","top-right"),lh(ah(e),"setPlacement",(function(t){var n=t===e.defPlacement?void 0:t;e.changePoint("placement",n)})),lh(ah(e),"defRole","display"),lh(ah(e),"setRole",(function(t){var n=t===e.defRole?void 0:t;e.changePoint("role",n)})),lh(ah(e),"defDisplay","always"),lh(ah(e),"setDisplay",(function(t){var n=t===e.defDisplay?void 0:t;e.changePoint("display",n)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.point,n=e.tt,r=e.queryPointTarget,o=n.pre("point."),i="display"===t.role||!t.role&&"display"===this.defRole;return a.a.createElement("div",{className:"bllx-tbox-cp-left"},a.a.createElement(Jd,Qd({x:t.x,y:t.y,set:this.setCoords},{tt:n,queryPointTarget:r})),a.a.createElement("div",{className:"bllc-dual-fields"},a.a.createElement(Fi.i,{label:o("label"),value:t.label,onChange:this.setLabel,role:"label"}),i?a.a.createElement(ab,{color:t.color,label:o("color"),onChange:this.setColor,lang:n.lang,role:"color"}):null),a.a.createElement(Fi.l,{label:o("pm.label"),value:t.placement||this.defPlacement,onChange:this.setPlacement,role:"placement"},a.a.createElement("option",{value:"top-left"},o("pm.top-left")),a.a.createElement("option",{value:"top-right"},o("pm.top-right")),a.a.createElement("option",{value:"bottom-left"},o("pm.bottom-left")),a.a.createElement("option",{value:"bottom-right"},o("pm.bottom-right"))),a.a.createElement(Fi.l,{label:o("role.label"),value:t.role||this.defRole,onChange:this.setRole,role:"role"},a.a.createElement("option",{value:"choose"},o("role.choose")),a.a.createElement("option",{value:"display"},o("role.display"))),i?a.a.createElement(Fi.l,{label:o("display.label"),value:t.display||this.defDisplay,onChange:this.setDisplay,role:"display"},a.a.createElement("option",{value:"always"},o("display.always")),a.a.createElement("option",{value:"failure"},o("display.failure")),a.a.createElement("option",{value:"success"},o("display.success"))):null)}}])&&rh(t.prototype,n),r&&rh(t,r),i}(a.a.PureComponent);function sh(e){return(sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ph(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bh(e,t){return(bh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mh(e);if(t){var o=mh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hh(this,n)}}function hh(e,t){return!t||"object"!==sh(t)&&"function"!=typeof t?vh(e):t}function vh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mh(e){return(mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}lh(fh,"propTypes",{tt:l.a.func.isRequired,point:l.a.shape({x:l.a.number.isRequired,y:l.a.number.isRequired,label:l.a.string.isRequired,color:l.a.string.isRequired}).isRequired,onChange:l.a.func.isRequired,queryPointTarget:l.a.func.isRequired});var Oh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bh(e,t)}(i,e);var t,n,r,o=dh(i);function i(){var e;ph(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gh(vh(e=o.call.apply(o,[this].concat(n))),"del",(function(){if(confirm(e.props.tt("point.askDel"))){var t=e.props,n=t.onChange,r=t.idx;n("points",e.splice(r,1))}})),gh(vh(e),"copy",(function(){var t=e.props;(0,t.copy)("plot-point",t.point)})),e}return t=i,(n=[{key:"splice",value:function(){for(var e=this.props.points,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return En.l.apply(void 0,[e].concat(n))}},{key:"render",value:function(){return a.a.createElement("div",{className:"bllx-tbox-cp-controls"},a.a.createElement(un.a,{icon:"trash",onClick:this.del,role:"del-elist-item"}),a.a.createElement(un.a,{icon:"docs",onClick:this.copy,role:"copy-elist-item"}))}}])&&yh(t.prototype,n),r&&yh(t,r),i}(a.a.PureComponent);function jh(e){return(jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ph(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rh(e,t){return(Rh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kh(e);if(t){var o=kh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eh(this,n)}}function Eh(e,t){return!t||"object"!==jh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kh(e){return(kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}gh(Oh,"propTypes",{points:l.a.array.isRequired,point:l.a.object.isRequired,idx:l.a.number.isRequired,onChange:l.a.func.isRequired,copy:l.a.func.isRequired});var _h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rh(e,t)}(i,e);var t,n,r,o=Sh(i);function i(){return wh(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"bllx-tbox-item-panel bllx-tbox-point"},a.a.createElement(fh,this.props),a.a.createElement(Oh,this.props))}}])&&Ph(t.prototype,n),r&&Ph(t,r),i}(a.a.PureComponent);function xh(e){return(xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ch(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Th(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dh(e,t){return(Dh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ah(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ih(e);if(t){var o=Ih(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qh(this,n)}}function qh(e,t){return!t||"object"!==xh(t)&&"function"!=typeof t?zh(e):t}function zh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ih(e){return(Ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dh(e,t)}(i,e);var t,n,r,o=Ah(i);function i(){var e;Ch(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nh(zh(e=o.call.apply(o,[this].concat(n))),"add",(function(t){var n=e.props,r=n.graph,o=n.onChange,i=Object(ip.e)(r.points);o("points",Object(En.l)(r.points,t,0,i))})),Nh(zh(e),"paste",(function(t){var n=e.props,r=n.clipboard,o=n.onChange,i=n.graph,c=r.data;o("points",Object(En.l)(i.points,t,0,c))})),Nh(zh(e),"setPointLimit",(function(t){(0,e.props.onChange)("pointsLimit",!!t||void 0)})),Nh(zh(e),"genProps",Object(He.a)((function(e){return e.graph.points}),(function(e){return e.tt}),(function(e){return e.onChange}),(function(e){return e.copy}),(function(e){return e.queryPointTarget}),(function(e,t,n,r,o){return{tt:t,onChange:n,points:e,copy:r,queryPointTarget:o}}))),e}return t=i,(n=[{key:"canPaste",value:function(){var e=this.props.clipboard;return"plot-point"===e.kind&&!!e.data}},{key:"render",value:function(){var e=this.props,t=e.tt,n=e.graph,r=this.genProps(this.props);return a.a.createElement("div",{className:"bllx-tbox-point-panel"},a.a.createElement("div",{className:"bllx-tbot-point-up"},a.a.createElement(iy.a,{value:n.pointsLimit||!1,onChange:this.setPointLimit,role:"points-limit"},t("point.limit"),a.a.createElement(un.a,{icon:"help-circled",title:t("point.limitHint")}))),a.a.createElement(Td,{list:this.props.graph.points,Item:_h,itemKey:"point",itemProps:r,canAdd:!0,canPaste:this.canPaste(),add:this.add,paste:this.paste}))}}])&&Th(t.prototype,n),r&&Th(t,r),i}(a.a.PureComponent);function Mh(e){return(Mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bh(){return(Bh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Uh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fh(e,t){return(Fh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$h(e);if(t){var o=$h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gh(this,n)}}function Gh(e,t){return!t||"object"!==Mh(t)&&"function"!=typeof t?Vh(e):t}function Vh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $h(e){return($h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Nh(Lh,"propTypes",{clipboard:l.a.object,copy:l.a.func.isRequired,graph:l.a.object.isRequired,tt:l.a.func.isRequired,onChange:l.a.func.isRequired,queryPointTarget:l.a.func.isRequired});var Xh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fh(e,t)}(i,e);var t,n,r,o=Wh(i);function i(){var e;Uh(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kh(Vh(e=o.call.apply(o,[this].concat(n))),"setTab",(function(t){e.props.dispatch(Object(ip.a)(t))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.tt,n=e.tab,r=e.graph,o=e.onChange,i=e.clipboard,c=e.copy,u=e.queryPointTarget;return a.a.createElement(Cp,{cls:"bllc-ptd-edit-panel",active:n,setTab:this.setTab},a.a.createElement(Tp,Bh({Comp:Gy,tabName:"grid",tabLabel:t("grid.tabLabel")},{tt:t,graph:r,onChange:o})),a.a.createElement(Tp,Bh({Comp:Ud,tabName:"curve",tabLabel:t("curve.tabLabel")},{tt:t,graph:r,onChange:o,clipboard:i,copy:c})),a.a.createElement(Tp,Bh({Comp:Lh,tabName:"point",tabLabel:t("point.tabLabel")},{tt:t,graph:r,onChange:o,clipboard:i,copy:c,queryPointTarget:u})))}}])&&Hh(t.prototype,n),r&&Hh(t,r),i}(a.a.PureComponent);Kh(Xh,"propTypes",{dispatch:l.a.func.isRequired,tt:l.a.func.isRequired,graph:l.a.object.isRequired,tab:l.a.string.isRequired,onChange:l.a.func.isRequired,clipboard:l.a.object,copy:l.a.func.isRequired,queryPointTarget:l.a.func.isRequired});var Yh=n(295),Jh=n(181);n(1143);function Zh(){return(Zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qh(e){return function(e){if(Array.isArray(e))return ev(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ev(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tv(Object(n),!0).forEach((function(t){rv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ov(e){return(ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function av(e,t,n){return t&&cv(e.prototype,t),n&&cv(e,n),e}function uv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lv(e,t)}function lv(e,t){return(lv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yv(e);if(t){var o=yv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sv(this,n)}}function sv(e,t){return!t||"object"!==ov(t)&&"function"!=typeof t?pv(e):t}function pv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yv(e){return(yv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bv=function(e){uv(n,e);var t=fv(n);function n(){return iv(this,n),t.apply(this,arguments)}return av(n,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.apply,r=e.tt;return a.a.createElement("div",{className:"bllc-ptd-controls"},a.a.createElement(Jh.a,{label:r("apply"),icon:"ok",onClick:n,role:"plot-ok"}),a.a.createElement(Jh.a,{label:r("cancel"),icon:"block",onClick:t.close}))}}]),n}(a.a.PureComponent),dv=function(e){uv(n,e);var t=fv(n);function n(){var e;iv(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return rv(pv(e=t.call.apply(t,[this].concat(o))),"actions",op()({close:ip.b,upd:ip.h},(function(t){return function(){return e.props.dispatch(t.apply(void 0,arguments))}}))),rv(pv(e),"state",{graph:null}),rv(pv(e),"onChange",(function(t,n){var r=e.props.graph,o=Object(En.p)(r,t,n);e.actions.upd(o),e.state.graph&&e.setState({graph:null})})),rv(pv(e),"apply",(function(){var t=e.props;(0,t.onChange)(t.graph),e.actions.close()})),rv(pv(e),"close",(function(){e.actions.close()})),rv(pv(e),"onGridMove",(function(t,n,r){var o=e.getGraph(),i=Fp(o.bg.axis,t,n);r?e.onChange("bg.axis",i):e.setState({graph:Object(En.p)(o,"bg.axis",i)})})),rv(pv(e),"onGridScroll",(function(t){var n=e.props.graph,r=Kp(n.bg.axis,t);e.onChange("bg.axis",r)})),rv(pv(e),"onSetPoint",(function(t){var n=t.x,r=t.y;if(e.pointFn)return e.pointFn(n,r),void(e.pointFn=null);var o=e.props.graph.points,i=nv(nv({},Object(ip.e)(o)),{},{x:n,y:r});e.onChange("points",[].concat(Qh(o),[i]))})),rv(pv(e),"queryPointTarget",(function(t){e.pointFn=t})),e}return av(n,[{key:"getGraph",value:function(){return this.state.graph||this.props.graph}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.t.pre("mods.plotEdit.");return t?a.a.createElement(Yh.a,{cls:"bllc-plot-dialog",title:n("dialogTitle"),onClose:this.close,isActive:!0},this.renderPanel(),a.a.createElement(bv,Zh({tt:n},{actions:this.actions,apply:this.apply}))):null}},{key:"renderPanel",value:function(){var e=this.props,t=e.tab,n=e.t,r=e.clipboard,o=e.copy,i=e.dispatch,c=n.pre("mods.plotEdit."),u=this.getGraph(),l=["grid","curve"].includes(t),f="point"===t;return a.a.createElement("div",{className:"bllc-ptd-up"},a.a.createElement("div",{className:"bllc-ptd-left"},a.a.createElement(np.a,Zh({graph:u,t:n},{onSetPoint:Object(k.v)(f&&this.onSetPoint),onGridMove:Object(k.v)(l&&this.onGridMove),onGridScroll:this.onGridScroll,sizeMode:"contain",mode:"edit"}))),a.a.createElement(Xh,Zh({graph:u,tt:c,tab:t,dispatch:i,clipboard:r,copy:o},{onChange:this.onChange,queryPointTarget:this.queryPointTarget})))}}]),n}(a.a.PureComponent);rv(dv,"Icon",dp),rv(dv,"propTypes",{dispatch:l.a.func.isRequired,t:l.a.func.isRequired,isActive:l.a.bool.isRequired,clipboard:l.a.object,copy:l.a.func.isRequired,onChange:l.a.func.isRequired});var hv,vv,mv,gv;n(1144);function Ov(e){return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jv(){return(jv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rv(e,t){return(Rv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kv(e);if(t){var o=kv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ev(this,n)}}function Ev(e,t){return!t||"object"!==Ov(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kv(e){return(kv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _v=(hv=Object(_.g)("t"),gv=mv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rv(e,t)}(i,e);var t,n,r,o=Sv(i);function i(){return wv(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.graph,r=t.clipboard,o=t.isEditing,i=t.copy,c=t.state,u=t.dispatch,l=t.onChange,f=t.cls,s=t.attrs,p=t.canEdit;return a.a.createElement("div",jv({},s,{className:f}),a.a.createElement(np.a,jv({graph:n,t:e},{mode:"edit"}),p?a.a.createElement(dv.Icon,{graph:n,dispatch:u}):null),o&&c.isActive?a.a.createElement(dv,jv({},c,{t:e,dispatch:u,onChange:l,copy:i,clipboard:r})):null)}}])&&Pv(t.prototype,n),r&&Pv(t,r),i}(a.a.PureComponent),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(mv,"propTypes",{attrs:l.a.object,cls:l.a.string.isRequired,dispatch:l.a.func.isRequired,onChange:l.a.func.isRequired,copy:l.a.func.isRequired,graph:l.a.object.isRequired,state:l.a.object.isRequired,isEditing:l.a.bool.isRequired,canEdit:l.a.bool.isRequired,clipboard:l.a.object}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((vv=gv).prototype,"render",[hv],Object.getOwnPropertyDescriptor(vv.prototype,"render"),vv.prototype),vv);function xv(e){return(xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cv(){return(Cv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Tv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Av(e,t){return(Av=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nv(e);if(t){var o=Nv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zv(this,n)}}function zv(e,t){return!t||"object"!==xv(t)&&"function"!=typeof t?Iv(e):t}function Iv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nv(e){return(Nv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Av(e,t)}(i,e);var t,n,r,o=qv(i);function i(){var e;Tv(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lv(Iv(e=o.call.apply(o,[this].concat(n))),"plotDispatch",(function(t){e.cx.rapi.subDispatch("plot",t)})),Lv(Iv(e),"plotChange",(function(t){return e.replaceField("graph",t)})),Lv(Iv(e),"genAttributes",Object(He.a)((function(e){return e.cid}),(function(e){return e.el.id}),(function(t,n){return{"data-cid":t,"data-exp-id":n,"data-exp-kind":"plot",onClick:e.focus}}))),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.el,n=e.cid,r=this.cx.cpayload,o=r.sub,i=r.isEditing,c=r.selected,u=r.clipboard,l=t.graph,f=this.cx.rapi.copy,s=o.plot,p=i&&c===n;return a.a.createElement(_v,Cv({cls:this.cls("plot"),attrs:this.genAttributes(this.props)},{graph:l,clipboard:u,copy:f,state:s},{isEditing:p,canEdit:i,onChange:this.plotChange,dispatch:this.plotDispatch}))}}])&&Dv(t.prototype,n),r&&Dv(t,r),i}(H);Lv(Mv,"propTypes",{cid:l.a.string.isRequired,el:l.a.shape({graph:l.a.object.isRequired}).isRequired}),Lv(Mv,"cxPropTypes",{rapi:l.a.shape({subDispatch:l.a.func.isRequired,copy:l.a.func.isRequired}).isRequired,cpayload:l.a.shape({sub:l.a.shape({plot:l.a.object.isRequired}).isRequired,selected:l.a.string,clipboard:l.a.object,isEditing:l.a.bool.isRequired}).isRequired,tt:l.a.func.isRequired});var Bv=n(83),Uv=n(311),Hv=n.n(Uv);function Fv(e){return(Fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vv(e,t){return(Vv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yv(e);if(t){var o=Yv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kv(this,n)}}function Kv(e,t){return!t||"object"!==Fv(t)&&"function"!=typeof t?Xv(e):t}function Xv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yv(e){return(Yv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vv(e,t)}(i,e);var t,n,r,o=$v(i);function i(){var e;Wv(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jv(Xv(e=o.call.apply(o,[this].concat(n))),"runCommand",(function(t,n){var r=n.key,o=n.val,i=Hv()("set_".concat(r));e[i](o)})),Jv(Xv(e),"cmd",(function(t,n,r){return a.a.createElement(xe.c,{onClick:e.runCommand,data:{key:t,val:n},disabled:e.props.el[t]===n},e.props.tt(r))})),e}return t=i,(n=[{key:"replace",value:function(e,t){var n=this.props,r=n.replace,o=n.el;r(Object(En.p)(o,e,t))}},{key:"setBorder",value:function(e){this.replace("border",e)}},{key:"setLayout",value:function(e){this.replace("layout",e)}},{key:"setMargin",value:function(e){this.replace("margin",e)}},{key:"setPadding",value:function(e){this.replace("padding",e)}},{key:"setBg",value:function(e){this.replace("bg",e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.tt,r=e.setBorder,o=this.cmd;return a.a.createElement(xe.a,{id:t},a.a.createElement(xe.d,{title:n("border.title"),hoverDelay:0},o("border",void 0,"border.none"),o("border","inner","border.inner"),o("border","mesh","border.mesh")),a.a.createElement(xe.d,{title:n("layout.title"),hoverDelay:0},o("layout",void 0,"layout.auto"),o("layout","fit","layout.fit")),"mesh"!==r?a.a.createElement(xe.d,{title:n("margin.title"),hoverDelay:0},o("margin",void 0,"margin.min"),o("margin","medium","margin.medium"),o("margin","max","margin.max")):null,a.a.createElement(xe.d,{title:n("padding.title"),hoverDelay:0},o("padding",void 0,"padding.auto"),o("padding","min","padding.min"),o("padding","medium","padding.medium"),o("padding","max","padding.max")),a.a.createElement(xe.d,{title:n("bg.title"),hoverDelay:0},o("bg",void 0,"bg.auto"),o("bg","false","bg.false"),o("bg","true","bg.true")))}}])&&Gv(t.prototype,n),r&&Gv(t,r),i}(a.a.PureComponent);function Qv(e){return(Qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nm(e,t){return(nm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cm(e);if(t){var o=cm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return om(this,n)}}function om(e,t){return!t||"object"!==Qv(t)&&"function"!=typeof t?im(e):t}function im(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cm(e){return(cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function am(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Jv(Zv,"propTypes",{id:l.a.string.isRequired,tt:l.a.func.isRequired,replace:l.a.func.isRequired,el:l.a.object.isRequired,setBorder:l.a.string.isRequired});var um,lm,fm,sm,pm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nm(e,t)}(i,e);var t,n,r,o=rm(i);function i(){var e;em(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return am(im(e=o.call.apply(o,[this].concat(n))),"runCommand",(function(t,n){var r=n.key,o=n.val,i=Hv()("set_".concat(r));e[i](o)})),am(im(e),"cmd",(function(t,n,r){return a.a.createElement(xe.c,{onClick:e.runCommand,data:{key:t,val:n},disabled:e.props.el[t]===n},e.props.tt(r))})),e}return t=i,(n=[{key:"replace",value:function(e,t){var n=this.props,r=n.replace,o=n.el;r(Object(En.p)(o,e,t))}},{key:"setAlign",value:function(e){this.replace("align",e)}},{key:"setValign",value:function(e){this.replace("valign",e)}},{key:"setWidth",value:function(e){this.replace("width",e)}},{key:"setPadding",value:function(e){this.replace("padding",e)}},{key:"setBg",value:function(e){this.replace("bg",e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.tt,r=e.setLayout,o=this.cmd;return a.a.createElement(xe.a,{id:t},a.a.createElement(xe.d,{title:n("align.title"),hoverDelay:0},o("align",void 0,"align.auto"),o("align","left","align.left"),o("align","center","align.center"),o("align","right","align.right")),a.a.createElement(xe.d,{title:n("valign.title"),hoverDelay:0},o("valign",void 0,"valign.auto"),o("valign","top","valign.top"),o("valign","middle","valign.middle"),o("valign","bottom","valign.bottom")),"fit"===r?a.a.createElement(xe.d,{title:n("width.title"),hoverDelay:0},o("width",void 0,"width.auto"),o("width","15em","width.small"),o("width","30em","width.medium"),o("width","45em","width.big"),o("width","100%","width.row")):null,a.a.createElement(xe.d,{title:n("padding.title"),hoverDelay:0},o("padding",void 0,"padding.auto"),o("padding","min","padding.min"),o("padding","medium","padding.medium"),o("padding","max","padding.max")),a.a.createElement(xe.d,{title:n("bg.title"),hoverDelay:0},o("bg",void 0,"bg.auto"),o("bg","false","bg.false"),o("bg","true","bg.true")))}}])&&tm(t.prototype,n),r&&tm(t,r),i}(a.a.PureComponent);function ym(e){return(ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bm(){return(bm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vm(e,t){return(vm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jm(e);if(t){var o=jm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gm(this,n)}}function gm(e,t){return!t||"object"!==ym(t)&&"function"!=typeof t?Om(e):t}function Om(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jm(e){return(jm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}am(pm,"propTypes",{id:l.a.string.isRequired,tt:l.a.func.isRequired,replace:l.a.func.isRequired,el:l.a.object.isRequired,setLayout:l.a.string.isRequired});var Pm,Rm,Sm,Em,km=(um=Object(_.e)("mods.content.set."),sm=fm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vm(e,t)}(i,e);var t,n,r,o=mm(i);function i(){var e;dm(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wm(Om(e=o.call.apply(o,[this].concat(n))),"focusCss",".bllc-c-setItem"),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.el,n=e.cid,r=e.setAttrs,o=e.setLayout,i=e.setPadding,c=e.setBg,u=this.cx.cpayload.isEditing,l=this.cx.tt,f=t.list,s=Object(k.h)(this.cls("setItem")),p="fit"===o&&t.width?{flexBasis:t.width}:null,y=t.padding||i||"min",b=t.bg||c||"auto";return a.a.createElement(Ze,bm({triggerMatch:".bllc-c-setItem",triggerId:this.id("menu"),"data-cid":this.cid(),className:s,onClick:this.focus,"data-valign":t.valign,"data-align":t.align,"data-padding":y,"data-bg":b},r,{style:p}),a.a.createElement(he,{list:f,path:"".concat(n,".list")}),a.a.createElement(Re.a,bm({cid:n},{parentType:"setItem"})),u?a.a.createElement(pm,bm({id:this.id("menu")},{tt:l,el:t,setLayout:o},{replace:this.replace})):null)}}])&&hm(t.prototype,n),r&&hm(t,r),i}(H),wm(fm,"propTypes",{el:l.a.shape({list:l.a.array.isRequired,type:l.a.string.isRequired,align:l.a.oneOf(["left","center","right"]),valign:l.a.oneOf(["top","middle","bottom"]),padding:l.a.oneOf(["min","medium","max"]),bg:l.a.oneOf(["false","true"])}).isRequired,setAttrs:l.a.object.isRequired,setLayout:l.a.string.isRequired,setPadding:l.a.oneOf(["min","medium","max"]),setBg:l.a.oneOf(["false","true"])}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((lm=sm).prototype,"render",[um],Object.getOwnPropertyDescriptor(lm.prototype,"render"),lm.prototype),lm);function _m(e){return(_m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xm(){return(xm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dm(e,t){return(Dm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Im(e);if(t){var o=Im(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qm(this,n)}}function qm(e,t){return!t||"object"!==_m(t)&&"function"!=typeof t?zm(e):t}function zm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Im(e){return(Im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lm,Mm,Bm,Um,Hm,Fm=(Pm=Object(_.e)("mods.content.set."),Em=Sm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dm(e,t)}(i,e);var t,n,r,o=Am(i);function i(){var e;Cm(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nm(zm(e=o.call.apply(o,[this].concat(n))),"focusCss",".bllc-c-set,.bllc-c-set-container"),Nm(zm(e),"state",{width:900}),Nm(zm(e),"setBlock",(function(t){e.block=t,t&&(e.ro=Object(Bv.a)(zm(e),t,e.onResize))})),Nm(zm(e),"onResize",(function(){if(e.block){var t=e.block.offsetWidth;e.state.width!==t&&e.setState({width:t})}})),e}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.ro.dispose()}},{key:"render",value:function(){var e=this.props,t=e.el,n=e.cid,r=this.cx.cpayload.isEditing,o=this.cx.tt,i=this.state.width,c=K.b.gen(t.list,i),u=K.b.getColumnsCount(i),l=t.border||"none",f=t.layout||"grid",s="mesh"!==l&&t.margin||"min",p=t.padding||"min";return a.a.createElement(Ze,{triggerMatch:".bllc-c-set,.bllc-c-set-container",triggerId:this.id("menu"),"data-cid":this.cid(),className:this.cls("set"),onClick:this.focus,"data-border":l,"data-layout":f,"data-size":u,"data-margin":s},a.a.createElement("div",{className:"bllc-c-set-container",ref:this.setBlock},c.map((function(e,r){return a.a.createElement(km,xm({key:r},{el:e.item,setAttrs:e.attrs,setBorder:l,setLayout:f,setPadding:p,setBg:t.bg,cid:"".concat(n,".list.").concat(r)}))}),this)),a.a.createElement(Re.a,xm({cid:n},{parentType:"set",itemType:"setItem"})),r?a.a.createElement(Zv,xm({id:this.id("menu")},{tt:o,el:t},{replace:this.replace,setBorder:l})):null)}}])&&Tm(t.prototype,n),r&&Tm(t,r),i}(H),Nm(Sm,"propTypes",{el:l.a.shape({list:l.a.array.isRequired,type:l.a.string.isRequired,border:l.a.oneOf(["mesh","inner"]),margin:l.a.oneOf(["medium","max"]),layout:l.a.oneOf(["fit"]),padding:l.a.oneOf(["min","medium","max"]),bg:l.a.oneOf(["false","true"])}).isRequired}),Nm(Sm,"cxPropTypes",{tt:l.a.func.isRequired,cpayload:l.a.shape({isEditing:l.a.bool.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Rm=Em).prototype,"render",[Pm],Object.getOwnPropertyDescriptor(Rm.prototype,"render"),Rm.prototype),Rm),Wm=n(156);function Gm(){return(Gm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vm(e){return(Vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xm(e,t,n){return t&&Km(e.prototype,t),n&&Km(e,n),e}function Ym(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jm(e,t)}function Jm(e,t){return(Jm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var o=tg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qm(this,n)}}function Qm(e,t){return!t||"object"!==Vm(t)&&"function"!=typeof t?eg(e):t}function eg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tg(e){return(tg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ng(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rg,og,ig,cg,ag,ug,lg=Object(Wm.a)()(Lm=function(e){Ym(n,e);var t=Zm(n);function n(){var e;$m(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ng(eg(e=t.call.apply(t,[this].concat(o))),"dndDirection","horizontal"),e}return Xm(n,[{key:"onDragEnd",value:function(e,t){var n=this.props,r=n.reorder,o=n.cid;r("".concat(o,".list"),e,t)}},{key:"render",value:function(){var e=this.props,t=e.list,n=e.cid;return a.a.createElement(this.DragRegion,{className:"bllc-c-gallery-queue"},a.a.createElement(he,{list:t,path:"".concat(n,".list"),useDnD:!0}))}}]),n}(a.a.PureComponent))||Lm,fg=(Mm=Object(_.e)("mods.content.gallery."),Hm=Um=function(e){Ym(n,e);var t=Zm(n);function n(){var e;$m(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ng(eg(e=t.call.apply(t,[this].concat(o))),"focusCss",".bllc-c-gallery"),e}return Xm(n,[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.el.list,r=this.cls("gallery");return a.a.createElement("div",{"data-cid":t,className:r,onClick:this.focus},a.a.createElement(lg,Gm({list:n,cid:t},{reorder:this.cx.rapi.reorder})),a.a.createElement(Re.a,Gm({cid:t},{parentType:"set",itemType:"galleryItem"})))}}]),n}(H),ng(Um,"propTypes",{el:l.a.shape({list:l.a.array.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Bm=Hm).prototype,"render",[Mm],Object.getOwnPropertyDescriptor(Bm.prototype,"render"),Bm.prototype),Bm),sg=n(157);function pg(e){return(pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yg(){return(yg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hg(e,t){return(hg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Og(e);if(t){var o=Og(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mg(this,n)}}function mg(e,t){return!t||"object"!==pg(t)&&"function"!=typeof t?gg(e):t}function gg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Og(e){return(Og=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wg,Pg,Rg,Sg,Eg=function(e){var t=e.label,n=e.cid,r=e.DragHandle;return a.a.createElement("div",{className:"bllc-c-gallery-item-label"},r?a.a.createElement(r,{className:"bllc-c-gallery-dnd-handle"},a.a.createElement(un.a,{icon:"move",role:"gallery-item-move"})):null,a.a.createElement(he,{list:t,path:"".concat(n,".label")}),a.a.createElement(Re.a,{cid:"".concat(n,".label"),parentType:"group"}))},kg=["image","video"],_g=function(e){var t=e.list,n=e.cid;return a.a.createElement("div",{className:"bllc-c-gallery-item-content"},a.a.createElement(he,{list:t,path:"".concat(n,".list")}),a.a.createElement(Re.a,{cid:"".concat(n,".list"),parentType:"galleryItem",types:kg,maxLength:1,length:t.length}))},xg=(rg=Object(sg.a)(),og=Object(_.e)("mods.content.gallery."),rg((ug=ag=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hg(e,t)}(i,e);var t,n,r,o=vg(i);function i(){var e;bg(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jg(gg(e=o.call.apply(o,[this].concat(n))),"focusCss",".bllc-c-gallery-item"),jg(gg(e),"isDragDisabled",(function(){return!e.cx.cpayload.isEditing})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.el,r=n.label,o=n.list,i=this.cls("gallery-item");return a.a.createElement(this.DragItem,{"data-cid":t,className:i,onClick:this.focus},a.a.createElement(Eg,yg({label:r,cid:t},{DragHandle:Object(k.v)(!this.isDragDisabled()&&this.DragHandle)})),a.a.createElement(_g,{list:o,cid:t}))}}])&&dg(t.prototype,n),r&&dg(t,r),i}(H),jg(ag,"propTypes",{el:l.a.shape({label:l.a.array.isRequired,list:l.a.array.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((cg=ug).prototype,"render",[og],Object.getOwnPropertyDescriptor(cg.prototype,"render"),cg.prototype),ig=cg))||ig);function Cg(e){return(Cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ag(e,t){return(Ag=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ng(e);if(t){var o=Ng(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zg(this,n)}}function zg(e,t){return!t||"object"!==Cg(t)&&"function"!=typeof t?Ig(e):t}function Ig(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ng(e){return(Ng=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mg,Bg,Ug,Hg,Fg=(wg=Object(_.e)("mods.content.widget."),Sg=Rg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ag(e,t)}(i,e);var t,n,r,o=qg(i);function i(){var e;Tg(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lg(Ig(e=o.call.apply(o,[this].concat(n))),"genData",Ee()((function(e){return{id:e}}))),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.contextId,r=t.setHeight;return a.a.createElement(xe.a,{id:n},a.a.createElement(xe.c,{onClick:r,data:this.genData("setHeight")},e("setHeight")))}}])&&Dg(t.prototype,n),r&&Dg(t,r),i}(a.a.PureComponent),Lg(Rg,"propTypes",{contextId:l.a.string.isRequired,setHeight:l.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Pg=Sg).prototype,"render",[wg],Object.getOwnPropertyDescriptor(Pg.prototype,"render"),Pg.prototype),Pg);function Wg(e){return(Wg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gg(){return(Gg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vg(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yg(e,t){return(Yg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eO(e);if(t){var o=eO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zg(this,n)}}function Zg(e,t){return!t||"object"!==Wg(t)&&"function"!=typeof t?Qg(e):t}function Qg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(e){return(eO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nO=(Mg=Object(_.e)("mods.content.widget."),Hg=Ug=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yg(e,t)}(i,e);var t,n,r,o=Jg(i);function i(){var e;Kg(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tO(Qg(e=o.call.apply(o,[this].concat(n))),"openReplace",(function(){e.cx.rapi.chooseAsset("widget",e.props.el.asset).then(e.setAsset).catch($.e)})),tO(Qg(e),"setHeight",(function(){var t=e.props.el,n=(0,e.cx.tt)("promptHeight"),r=prompt(n,t.height);if(null!==r)if(!(r=r.replace("%","").trim()).length||/^\d{1,3}$/.test(r)){var o=r.length?$g($g({},t),{},{height:Number(r)}):_e()(t,"height");e.replace(o)}else Object($.e)("incorrect format: ".concat(r))})),tO(Qg(e),"setAsset",(function(t){return e.replace($g($g({},e.props.el),{},{asset:t}))})),tO(Qg(e),"isEmpty",(function(e){return!e||"none"===e})),tO(Qg(e),"genClass",(function(t){return e.cls("widget",t&&"bllc-c-widget-empty")})),e}return t=i,(n=[{key:"genStyle",value:function(){var e=this.props.el.height;return{paddingTop:e?"".concat(e,"%"):null}}},{key:"render",value:function(){var e=this.props,t=e.cid,n=e.el,r=this.cx.cpayload,o=r.isEditing,i=r.url,c=this.isEmpty(n.asset),u="conect-widget-"+t;return a.a.createElement(Ze,{triggerTag:"div",triggerId:u,triggerHoldToDisplay:99999,className:this.genClass(c),onClick:this.focus,"data-cid":t,style:this.genStyle()},o?[a.a.createElement("div",{className:"".concat("bllc-c-widget","-controlrow"),key:"0"},a.a.createElement(un.a,{icon:"up-circled2",onClick:this.openReplace,title:n.asset})),a.a.createElement(Fg,Gg({contextId:u},{setHeight:this.setHeight,key:"1"}))]:null,c?null:a.a.createElement("iframe",{sandbox:"allow-scripts allow-same-origin",src:i(n.asset)}))}}])&&Xg(t.prototype,n),r&&Xg(t,r),i}(H),tO(Ug,"propTypes",{el:l.a.shape({asset:l.a.string.isRequired}).isRequired}),tO(Ug,"cxPropTypes",{rapi:l.a.shape({chooseAsset:l.a.func.isRequired,path:l.a.string.isRequired}).isRequired,cpayload:l.a.shape({isEditing:l.a.bool.isRequired,assets:l.a.object.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Bg=Hg).prototype,"render",[Mg],Object.getOwnPropertyDescriptor(Bg.prototype,"render"),Bg.prototype),Bg);function rO(e){return(rO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oO(){return(oO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aO(e,t){return(aO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sO(e);if(t){var o=sO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lO(this,n)}}function lO(e,t){return!t||"object"!==rO(t)&&"function"!=typeof t?fO(e):t}function fO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sO(e){return(sO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aO(e,t)}(i,e);var t,n,r,o=uO(i);function i(){var e;iO(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pO(fO(e=o.call.apply(o,[this].concat(n))),"focusCss",".bllc-c-sortableItem"),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.el,n=e.cid,r=t.list,o=this.cx.cpayload.isEditing;return a.a.createElement("div",{onClick:this.focus,className:this.cls("sortableItem")},o?a.a.createElement(un.a,{icon:"move",role:"exp-sort-item-move"}):null,a.a.createElement(he,{list:r,path:"".concat(n,".list")}),a.a.createElement(Re.a,oO({cid:n},{parentType:"sortableItem",maxLength:1,length:r.length})))}}])&&cO(t.prototype,n),r&&cO(t,r),i}(H);pO(yO,"propTypes",{el:l.a.shape({type:l.a.string.isRequired,list:l.a.array.isRequired}).isRequired});var bO,dO,hO,vO,mO,gO=yO,OO=n(204);function jO(e){return(jO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wO(){return(wO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function PO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SO(e,t){return(SO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function EO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xO(e);if(t){var o=xO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kO(this,n)}}function kO(e,t){return!t||"object"!==jO(t)&&"function"!=typeof t?_O(e):t}function _O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xO(e){return(xO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TO=(bO=Object(_.e)("mods.content.misc."),dO=Object(_.g)("cpayload"),mO=vO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SO(e,t)}(i,e);var t,n,r,o=EO(i);function i(){var e;PO(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return CO(_O(e=o.call.apply(o,[this].concat(n))),"genTitle",(function(t){return t.isDisplay?e.cx.tt("contentDisplay"):e.cx.tt("contentEdit")})),e}return t=i,(n=[{key:"render",value:function(e,t){var n=t.isEditing,r=t.clipboard,o=e.lang,i=this.props,c=i.isActive,u=i.path,l=i.onClose,f=i.el,s=i.data,p=i.cid,y=i.isDisplay;return a.a.createElement(Yh.a,wO({isActive:c,onClose:l},{title:this.genTitle(this.props),cls:"".concat("bllc-edit-modal","-outer")}),a.a.createElement("div",{"data-display":Object(k.v)(y),className:"bllc-edit-modal"},a.a.createElement("div",{className:"".concat("bllc-edit-modal","-panel")},n?a.a.createElement(OO.a,wO({clipboard:r,lang:o},{payload:t})):null),a.a.createElement("div",{className:"".concat("bllc-edit-modal","-content")},a.a.createElement("div",{className:"".concat("bllc-edit-modal","-content-inner")},a.a.createElement(he,wO({list:s},{path:u})),a.a.createElement(E.c,{content:f}),a.a.createElement(Re.a,wO({cid:p},{cls:"".concat("bllc-edit-modal","-add"),parentType:"root"}))))))}}])&&RO(t.prototype,n),r&&RO(t,r),i}(a.a.PureComponent),CO(vO,"propTypes",{isActive:l.a.bool.isRequired,path:l.a.string.isRequired,onClose:l.a.func.isRequired,data:l.a.oneOfType([l.a.array.isRequired,l.a.object.isRequired]),cid:l.a.string.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((hO=mO).prototype,"render",[bO,dO],Object.getOwnPropertyDescriptor(hO.prototype,"render"),hO.prototype),hO);function DO(e){return(DO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AO(){return(AO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IO(e,t){return(IO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BO(e);if(t){var o=BO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LO(this,n)}}function LO(e,t){return!t||"object"!==DO(t)&&"function"!=typeof t?MO(e):t}function MO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BO(e){return(BO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IO(e,t)}(i,e);var t,n,r,o=NO(i);function i(){var e;qO(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return UO(MO(e=o.call.apply(o,[this].concat(n))),"state",{isDialogOpen:!1}),UO(MO(e),"openDialog",(function(){return e.setState({isDialogOpen:!0})})),UO(MO(e),"closeDialog",(function(){return e.setState({isDialogOpen:!1})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.el,n=e.cid;return a.a.createElement(a.a.Fragment,null,a.a.createElement(un.a,{cls:"bllc-c-tip-modal-link",icon:"marquee",onClick:this.openDialog}),a.a.createElement(TO,AO({onClose:this.closeDialog,isActive:this.state.isDialogOpen,path:"".concat(n,".list"),data:t.list},{el:t,cid:n})))}}])&&zO(t.prototype,n),r&&zO(t,r),i}(a.a.PureComponent),FO=n(313);function WO(){return(WO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var GO,VO,$O,KO,XO=function(e,t){return a.a.createElement(he,{list:e,path:t})},YO=function(e){return a.a.createElement(FO.a,WO({},e,{renderContent:XO}))};function JO(e){return(JO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZO(){return(ZO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ej(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QO(Object(n),!0).forEach((function(t){uj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rj(e,t){return(rj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=aj(e);if(t){var o=aj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ij(this,n)}}function ij(e,t){return!t||"object"!==JO(t)&&"function"!=typeof t?cj(e):t}function cj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aj(e){return(aj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lj=(GO=Object(_.e)(),KO=$O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rj(e,t)}(i,e);var t,n,r,o=oj(i);function i(){var e;tj(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return uj(cj(e=o.call.apply(o,[this].concat(n))),"state",{isDisplayDlgOpen:!1}),uj(cj(e),"block",a.a.createRef()),uj(cj(e),"focusCss",".bllc-c-tip,\n\t\t.bllc-c-tip .bllc-c-text-editable,\n\t\t.bllc-c-tip-modal-link"),uj(cj(e),"handleTextClick",(function(){return e.setState((function(e){return{isDisplayDlgOpen:!e.isDisplayDlgOpen}}))})),uj(cj(e),"handleDlgClose",(function(){return e.setState({isDisplayDlgOpen:!1})})),uj(cj(e),"onChange",(function(t){var n=e.props.el;e.replace(ej(ej({},n),{},{text:t}))})),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props.el,n=t.text,r=t.list,o=this.cx.cpayload.isEditing,i=this.state.isDisplayDlgOpen,c=this.cid();return a.a.createElement("span",{ref:this.block,key:"tip","data-cid":this.cid(),className:this.cls("tip"),onClick:this.focus},o?[a.a.createElement(HO,ZO({el:t,cid:c},{key:"0"})),a.a.createElement(S,{text:n,onChange:this.onChange,onFocus:this.focus,key:"1"})]:null,o?null:[i?a.a.createElement(YO,{onCloseClick:this.handleDlgClose,data:r,tipBlock:this.block.current,parentCid:c,cid:"".concat(c,".list"),hOffset:4,vOffset:4,key:"0"}):null,a.a.createElement(k.a,{onClick:this.handleTextClick,className:"".concat("bllc-c-tip","-text"),html:x.a.genTextHTML(n),key:"1"})])}}])&&nj(t.prototype,n),r&&nj(t,r),i}(H),uj($O,"focus",S.focus),uj($O,"propTypes",{el:l.a.shape({text:l.a.string.isRequired,list:l.a.array.isRequired}).isRequired,cid:l.a.string.isRequired}),uj($O,"cxPropTypes",{cpayload:l.a.shape({isEditing:l.a.bool.isRequired}).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((VO=KO).prototype,"render",[GO],Object.getOwnPropertyDescriptor(VO.prototype,"render"),VO.prototype),VO);function fj(e){return(fj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yj(e,t){return(yj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hj(e);if(t){var o=hj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dj(this,n)}}function dj(e,t){return!t||"object"!==fj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hj(e){return(hj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yj(e,t)}(i,e);var t,n,r,o=bj(i);function i(){return sj(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.error;return a.a.createElement("div",{className:this.cls("error"),"data-cid":this.cid(),onClick:this.focus},a.a.createElement(E.a,{err:e}))}}])&&pj(t.prototype,n),r&&pj(t,r),i}(H);function mj(e){return(mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gj(){return(gj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wj(e,t){return(wj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ej(e);if(t){var o=Ej(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rj(this,n)}}function Rj(e,t){return!t||"object"!==mj(t)&&"function"!=typeof t?Sj(e):t}function Sj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ej(e){return(Ej=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(vj,"propTypes",{error:l.a.oneOfType([l.a.string,l.a.object]).isRequired});var _j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wj(e,t)}(i,e);var t,n,r,o=Pj(i);function i(){var e;Oj(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kj(Sj(e=o.call.apply(o,[this].concat(n))),"focusByCid",!0),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.cid,n=e.el;return a.a.createElement("div",{"data-cid":t,className:this.cls("inline-group"),onClick:this.focus},a.a.createElement(he,{list:n.list,path:"".concat(t,".list")}),a.a.createElement(Re.a,gj({cid:t},{parentType:"group"})))}}])&&jj(t.prototype,n),r&&jj(t,r),i}(H);function xj(e){return(xj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dj(e,t){return(Dj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Aj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ij(e);if(t){var o=Ij(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qj(this,n)}}function qj(e,t){return!t||"object"!==xj(t)&&"function"!=typeof t?zj(e):t}function zj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ij(e){return(Ij=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}kj(_j,"propTypes",{el:l.a.shape({list:l.a.array.isRequired}).isRequired,cid:l.a.string.isRequired});var Lj=i()({Table:Qf,Video:za,Model:tp,Image:Zl,Expression:Kc,List:lt,Link:ls,Text:pl,Paragraph:Rl,Group:Ya,ListItem:Ot,Heading:Yu,Formula:fe,AssetLink:gs,ToggleBlock:pu,Plot:Mv,Set:Fm,SetItem:km,Gallery:fg,GalleryItem:xg,Widget:nO,SortableItem:gO,Tip:lj,InlineGroup:_j},(function(e,t,n){e[n[0].toLowerCase()+n.slice(1)]=t}),{}),Mj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dj(e,t)}(i,e);var t,n,r,o=Aj(i);function i(){var e;Cj(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nj(zj(e=o.call.apply(o,[this].concat(n))),"state",{error:null,errNode:null}),e}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=x.a.type(e.data);return Lj[n]?t.error&&t.errNode!==e.data?{error:null,errNode:null}:null:{error:'Unknown content-item-type: "'.concat(n,'"')}}},{key:"focus",value:function(e,t){var n=Lj[x.a.type(e)];n&&n.focus?n.focus(t,e):document.activeElement&&document.activeElement.blur()}}],(n=[{key:"componentDidCatch",value:function(e){this.setState({error:e,errNode:this.props.data})}},{key:"render",value:function(){var e=this.props,t=e.cid,n=e.dndIndex,r=this.state.error;if(r)return a.a.createElement(vj,{error:r,cid:t});var o=x.a.parse(this.props.data),i=Lj[o.type];return a.a.createElement(i,{el:o,cid:t,dndIndex:n})}}])&&Tj(t.prototype,n),r&&Tj(t,r),i}(a.a.PureComponent);Nj(Mj,"propTypes",{data:l.a.oneOfType([l.a.string,l.a.array,l.a.shape({type:l.a.string.isRequired})]).isRequired,cid:l.a.string.isRequired,dndIndex:l.a.number}),de=Mj},324:function(e,t,n){"use strict";var r,o,i,c,a=n(108),u=n(10),l=n(1),f=n.n(l),s=n(0),p=n.n(s),y=n(7),b=n(15);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w,P,R,S=(r=Object(b.c)("lessonHat."),c=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=g(i);function i(){return h(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.canUndo,r=t.canRedo,o=t.undo,i=t.redo;return f.a.createElement("div",{className:" bllc-mh-controls bllc-cp-controls bllc-hat-undo-panel"},f.a.createElement(y.d,{key:"undo",icon:"reply",disabled:!n,onClick:o,cls:"bllc-mh-undo",title:e("undo")},f.a.createElement(y.g,{kkb:"ctrl+z, cmd+z",disabled:!n,action:o,inFocus:"block"}),f.a.createElement(y.g,{kkb:"alt+ctrl+z, alt+cmd+z",disabled:!n,action:o,inFocus:!0})),f.a.createElement(y.d,{key:"redo",icon:"forward",disabled:!r,onClick:i,cls:"bllc-mh-redo",title:e("redo")},f.a.createElement(y.g,{kkb:"ctrl+y, shift+cmd+z",disabled:!r,action:i,inFocus:"block"}),f.a.createElement(y.g,{kkb:"alt+ctrl+y",disabled:!r,action:i,inFocus:!0})))}}])&&v(t.prototype,n),r&&v(t,r),i}(f.a.PureComponent),w=i,P="propTypes",R={undo:p.a.func.isRequired,redo:p.a.func.isRequired,canUndo:p.a.bool.isRequired,canRedo:p.a.bool.isRequired},P in w?Object.defineProperty(w,P,{value:R,enumerable:!0,configurable:!0,writable:!0}):w[P]=R,function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((o=c).prototype,"render",[r],Object.getOwnPropertyDescriptor(o.prototype,"render"),o.prototype),o);t.a=Object(u.f)(S,(function(e,t,n){return{canUndo:Object(a.d)(n.data),canRedo:Object(a.c)(n.data)}}),{undo:a.b,redo:a.a})},325:function(e,t,n){"use strict";var r=n(57),o=n.n(r),i=n(17),c=n.n(i),a=n(50),u=n.n(a),l=n(59);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=n(58),d=n(317);t.a={input:function(e){var t=e.value;return function(e){return Object(d.a)(t,e)}},choice:function(e){var t=e.right;return function(e){return t===e}},dragitem:function(){return function(){return!0}},dragnest:function(e){e.id;var t=e.mode,n=e.value,r=new Set(n);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return("single"===t||e.length===r.size)&&(("single"!==t||1===e.length)&&e.map((function(e){return e.eid})).every((function(e){return r.has(e)})))}},math:function(e){var t=e.id,n=e.mask,r=Object(l.d)(n),o=r.left,i=r.right,c=function(e,t){return u()(t.filter((function(e){return"input"===e.kind})),(function(t,n){var r=Object(l.b)(e,n);t.set(r,new Set(n.values))}),new Map)}(t,[].concat(s(o),s(i)));return function(e,n){var r,a=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}(c);try{for(a.s();!(r=a.n()).done;){var u=f(r.value,2),s=u[0],y=u[1];if(y.size&&!y.has(n[s]))return!1}}catch(e){a.e(e)}finally{a.f()}return function(e,t,n,r){var o=Object(l.a)(t,r,"m".concat(e,".")),i=Object(l.a)(n,r,"m".concat(e,".")),c=Object(l.c)(o),a=Object(l.c)(i);return"err"!==c&&c===a}(t,o,i,n)}},longMath:function(e){e.id;var t=e.table,n=e.active,r=(e.op,e.a,e.b,Object.keys(n).reduce((function(e,n){var r=n.replace("-",".");return e[n]=c()(t,"".concat(r,".v")),e}),{}));return function(e){return o()(r,e)}},sortable:function(e){var t=e.list;return function(e){return b.a.isEqual(t,e)}},sortableItem:function(){return function(){return!0}}}},326:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(1),o=n.n(r),i=n(0),c=n.n(i),a=n(63),u={_node:null,_mode:null,activate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pause";u.deactivate(),u._node=e,u._mode=t,e.current.load(),e.current.play(),e.current.addEventListener("pause",(function(){u.isActive(e)&&u.deactivate()}),{once:!0})},off:function(){u._mode=u._active=null},isActive:function(e){return u._node===e},deactivate:function(){var e=u._node&&u._node.current;e&&(e.pause(),"stop"===u._mode&&(e.currentTime=0)),u.off()}},l=u;function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,n,r,i=b(c);function c(){var e;s(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=i.call.apply(i,[this].concat(n))),"audio",o.a.createRef()),m(h(e),"state",{status:"stopped"}),m(h(e),"onPlay",(function(){e.setState({status:"playing"})})),m(h(e),"onPause",(function(){e.setState({status:"paused"})})),m(h(e),"toggle",(function(){"playing"===e.state.status?l.deactivate():l.activate(e.audio,"pause")})),e}return t=c,(n=[{key:"componentWillUnmount",value:function(){l.isActive(this.audio)&&l.off()}},{key:"getIcon",value:function(){switch(this.state.status){case"playing":return"pause";case"paused":default:return"volume-up"}}},{key:"render",value:function(){var e=this.props.audio;return o.a.createElement("span",{className:"bllx-c-audio-btn"},o.a.createElement(a.a,{icon:this.getIcon(),cls:"bllx-c-audio-icon",onClick:this.toggle}),o.a.createElement("audio",{ref:this.audio,onPlay:this.onPlay,onPause:this.onPause},o.a.createElement("source",{src:e,type:"audio/mpeg"})))}}])&&p(t.prototype,n),r&&p(t,r),c}(o.a.PureComponent);m(g,"propTypes",{audio:c.a.string.isRequired})},34:function(e,t,n){"use strict";n.d(t,"n",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"l",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"o",(function(){return g})),n.d(t,"f",(function(){return O})),n.d(t,"m",(function(){return j})),n.d(t,"k",(function(){return w}));var r=n(2),o=n(6),i=n(69);function c(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}var a=Object(r.b)("MOD_CON"),u=a.createReplace("START",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{id:e,data:t,withExpressions:n,mod:r}})),l=a.createReplace("CANCEL"),f=a.async("APPLY",(function(e,t,n){return function(){var r,a=(r=regeneratorRuntime.mark((function r(c,a){var u,f,s,p,y,b,d,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=t.updFormulas,f=t.saveLesson,s=a("contentState"),!n){r.next=8;break}return p=Object(i.b)(o.a.normalize(s.data)),r.next=6,c(n(p));case 6:r.next=11;break;case 8:y=s.data,b=s.mod,d=b.mid,h=b.statePath,c({type:e,data:y,statePath:h,mid:d});case 11:if(!f){r.next=16;break}return r.next=14,c(f());case 14:r.next=18;break;case 16:return r.next=18,c(u());case 18:c(l());case 19:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){c(i,n,o,a,u,"next",e)}function u(e){c(i,n,o,a,u,"throw",e)}a(void 0)}))});return function(e,t){return a.apply(this,arguments)}}()})),s=a.create("REPLACE_IN","cid, val"),p=a.createIgnore("REPLACE_IN","cid, val"),y=a.createReplace("SEL","cid"),b=a.create("DEL","cid"),d=a.create("APPEND","cid, itemType"),h=a.create("REORDER","cid, dest, source"),v=a.createReplace("SEL_TYPE","ctype"),m=a.create("ADD_SIBLING","dir, cid"),g=a.create("SUB_ACTION",(function(e,t){return{key:e,action:t,ignore:t.ignore}})),O=a.create("FALL_CREATE","ctype, cid"),j=a.create("SET","content"),w=a.createReplace("SEL_SIBLING","dir")},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));var r,o,i,c,a=n(1),u=n.n(a),l=n(0),f=n.n(l),s=n(9),p=n(6),y=n(3),b=n(305);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S,E,k,_,x,C=function(e){var t=e.types,n=e.onClick;return t.map((function(e,t){return u.a.createElement(T,R({onClick:n,type:e},{role:e,key:e}))}),this)},T=(r=Object(y.e)("mods.content.elements."),c=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=g(i);function i(){var e;h(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(j(e=o.call.apply(o,[this].concat(n))),"onClick",(function(){var t=e.props,n=t.type;(0,t.onClick)(n)})),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.type,r=t.role;return u.a.createElement(s.a,R({icon:b.b[n],key:n,onClick:this.onClick,title:e(n)},{role:r}))}}])&&v(t.prototype,n),r&&v(t,r),i}(u.a.PureComponent),P(i,"propTypes",{type:f.a.string.isRequired,onClick:f.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((o=c).prototype,"render",[r],Object.getOwnPropertyDescriptor(o.prototype,"render"),o.prototype),o);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var H=function(e){var t=e.tt,n=e.disabled,r=e.onClick;return u.a.createElement(s.a,U({icon:"plus"},{disabled:n,onClick:r},{cls:"bllc-c-inner-add",title:t("addHere"),role:"conect-add-inner"}))},F=function(e){var t=e.tt,n=e.onClick;return u.a.createElement(s.a,{icon:"paste",cls:"bllc-c-inner-paste",onClick:n,title:t("paste")})},W=(S=Object(y.g)("cpayload","rapi"),E=Object(y.e)("mods.content.panel."),x=_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(i,e);var t,n,r,o=I(i);function i(){var e;A(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return B(L(e=o.call.apply(o,[this].concat(n))),"append",(function(){e.appendType(e.props.itemType)})),B(L(e),"appendType",(function(t){var n=e.props.cid;e.cx.rapi.append(n,t)})),B(L(e),"paste",(function(){var t=e.props.cid;e.cx.rapi.paste(t,"into")})),e}return t=i,(n=[{key:"isExceed",value:function(){var e=this.props,t=e.length,n=e.maxLength;return n&&t>=n}},{key:"canAddInto",value:function(){if(this.isExceed())return!1;var e=this.props,t=e.parentType,n=e.itemType,r=this.cx.cpayload.selType;return!!n||p.a.canAddInto(t,r)}},{key:"canPaste",value:function(){if(this.isExceed())return!1;var e=this.props.parentType,t=this.cx.cpayload.clipboardType;return t&&p.a.canPasteInto(e,t)}},{key:"render",value:function(e,t,n){var r=this.props,o=r.cid,i=r.types;return this.cx.cpayload.isEditing?u.a.createElement("div",{className:"bllc-c-list-add","data-pcid":null===o?"root":o},i||this.isExceed()?null:u.a.createElement(H,U({onClick:this.append,disabled:!this.canAddInto()},{tt:n})),i&&!this.isExceed()?u.a.createElement(C,U({types:i},{onClick:this.appendType})):null,this.canPaste()?u.a.createElement(F,U({onClick:this.paste},{tt:n})):null):null}}])&&q(t.prototype,n),r&&q(t,r),i}(u.a.PureComponent),B(_,"propTypes",{cid:f.a.string,parentType:f.a.string.isRequired,itemType:f.a.string,length:f.a.number,maxLength:f.a.number,types:f.a.arrayOf(f.a.string)}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((k=x).prototype,"render",[S,E],Object.getOwnPropertyDescriptor(k.prototype,"render"),k.prototype),k)},37:function(e,t,n){"use strict";n.d(t,"k",(function(){return y})),n.d(t,"i",(function(){return b})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return P}));var r=n(14),o=n(72),i=n(19),c=n(38),a=n(2);function u(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){u(i,r,o,c,a,"next",e)}function a(e){u(i,r,o,c,a,"throw",e)}c(void 0)}))}}var f,s,p=Object(a.b)("ASSETS"),y=function(e,t){return function(n,r){return new Promise((function(r,o){n(h(e)),t&&"none"!==t&&n(O(t)),f=r,s=o}))}},b=p.createIgnore("OPEN"),d=p.async("CLOSE",(function(e){return function(t){t({type:e,ignore:!0}),s&&(s({ignore:!0}),s=f=null)}})),h=p.createIgnore("CHOOSE","atype"),v=p.async("CHOOSE_FIN",(function(){return function(e,t){var n=Object(r.i)(t()).assets.selected;f&&(n?f(n):s({ignore:!0}),s=f=null),e(d())}})),m=p.async("DEL",(function(e,t){return function(){var n=l(regeneratorRuntime.mark((function n(o,a){var u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=Object(r.j)(a()),o({type:e,name:t,ignore:!0}),Array.isArray(t)){n.next=7;break}return n.next=5,Object(c.h)(u,[t]);case 5:n.next=9;break;case 7:return n.next=9,Object(c.h)(u,t);case 9:o(Object(i.r)());case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()})),g=p.async("DEL",(function(e){return function(){var t=l(regeneratorRuntime.mark((function t(n,a){var u,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=Object(r.i)(a()).data,l=Object(o.f)(u),f=Object(r.j)(a()),n({type:e,unusedAssets:l,ignore:!0}),t.next=6,Object(c.h)(f,l);case 6:n(Object(i.r)());case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),O=p.createIgnore("SEL","name"),j=p.async("UPL",(function(e,t){return function(n,o){var i=Object(r.j)(o()),a=Object(c.r)(i,t);return a.promise.then((function(t){return n({type:e,fname:t,ignore:!0})})),a}})),w=p.async("UPL_REPLACE",(function(e,t,n){return function(o,i){var a=Object(r.j)(i()),u=Object(c.o)(a,t,n);return u.promise.then((function(t){return o({type:e,fname:t,ignore:!0})})),u}})),P=p.async("UPDATE",(function(e,t,n){return function(){var o=l(regeneratorRuntime.mark((function o(a,u){var l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=Object(r.j)(u()),a({type:e,name:t,ignore:!0}),o.next=4,Object(c.q)(l,t,n);case 4:a(Object(i.r)());case 5:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}()}))},38:function(e,t,n){"use strict";n.d(t,"k",(function(){return x})),n.d(t,"j",(function(){return T})),n.d(t,"h",(function(){return D})),n.d(t,"r",(function(){return A})),n.d(t,"o",(function(){return q})),n.d(t,"q",(function(){return z})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return N})),n.d(t,"b",(function(){return L})),n.d(t,"p",(function(){return M})),n.d(t,"g",(function(){return B})),n.d(t,"n",(function(){return U})),n.d(t,"f",(function(){return H})),n.d(t,"l",(function(){return F})),n.d(t,"t",(function(){return W})),n.d(t,"s",(function(){return G})),n.d(t,"i",(function(){return V})),n.d(t,"m",(function(){return $})),n.d(t,"e",(function(){return K})),n.d(t,"a",(function(){return X}));var r=n(206),o=n.n(r),i=n(176),c=n.n(i),a=n(304),u=n.n(a),l=n(177);function f(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={start:new Event("bllcAjaxStart"),end:new Event("bllcAjaxEnd")},h=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null===(t=document.querySelector('meta[name="csrf-token"]'))||void 0===t?void 0:t.content,i=u()(e,"http")?e:l.b+e,c=y(y({},r),{},{credentials:"include",headers:y(y({},r.headers||{}),{},{pragma:"no-cache","cache-control":"no-cache","X-CSRF-TOKEN":o})});document.dispatchEvent(d.start);for(var a=arguments.length,f=new Array(a>2?a-2:0),s=2;s<a;s++)f[s-2]=arguments[s];return(n=window).fetch.apply(n,[i,c].concat(f)).then((function(e){return document.dispatchEvent(d.end),e})).catch((function(e){return document.dispatchEvent(d.end),Promise.reject(e)}))},v=window.alert,m=function(){return h.apply(void 0,arguments).then(O)},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h(e,{method:"POST",body:JSON.stringify(t),headers:y({Accept:"application/json","Content-Type":"application/json"},n)}).then(O)},O=function(e){return e.text().then((function(e){if(e.startsWith("<")){var t=e.replace(/<[^>]+>/g,"").replace(/[\r\n\s]+/g," ").trim();return Promise.reject(t)}var n=JSON.parse(e);if(n.error)throw v(n.error),new Error("API-ERR: ".concat(n.error));return n}))},j=function(e,t,n){var r,o,i=new FormData;i.append("file",t),c()(n,(function(e,t){i.append(t,e)}));var a,u,l=null!==(r=null===(o=document.querySelector('meta[name="csrf-token"]'))||void 0===o?void 0:o.content)&&void 0!==r?r:"",s=new Promise((function(e,t){a=e,u=t})),p=new XMLHttpRequest;p.onload=function(){if(200===p.status)if(/^\{.+\}$/.test(p.responseText)){var e=JSON.parse(p.responseText);e.error?u(e.error):a(e)}else a(p.responseText);else u(p.statusText)},p.onerror=function(){u(p.statusText)};var y=[];return p.upload.onprogress=function(e){var t,n=e.position||e.loaded,r=e.totalSize||e.total,o=Math.floor(n/r*1e3)/10,i=f(y);try{for(i.s();!(t=i.n()).done;){(0,t.value)(o)}}catch(e){i.e(e)}finally{i.f()}},p.open("post",e,!0),p.setRequestHeader("X-CSRF-TOKEN",l),p.send(i),{promise:s,onProgress:function(e){y.push(e)},abort:p.abort.bind(p)}},w=n(14);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){k(i,r,o,c,a,"next",e)}function a(e){k(i,r,o,c,a,"throw",e)}c(void 0)}))}}var x=function(){var e=_(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("api/assets/list/".concat(t));case 2:return e.abrupt("return",e.sent.list);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function C(e,t,n){e.id=t,e.path=n,e.themes||(e.themes=[]);var r,i=S(e.pages);try{for(i.s();!(r=i.n()).done;){var c=r.value;c.chains||(c.chains=[])}}catch(e){i.e(e)}finally{i.f()}var a,u=S(e.pages);try{for(u.s();!(a=u.n()).done;){var l,f=S(a.value.modules);try{for(f.s();!(l=f.n()).done;){var s=l.value;s.id||(s.id="".concat(o()(),":").concat(s.type)),s.hints&&void 0===s.hints.solution&&(s.hints.solution=[]),"essay"!==s.type||s.hints||(s.hints={right:[],wrong:[],solution:[]})}}catch(e){f.e(e)}finally{f.f()}}}catch(e){u.e(e)}finally{u.f()}return e}var T=function(){var e=_(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("".concat(t,"index.json"));case 2:if(r=e.sent,!(o=C(r,n,t)).hasFormulas){e.next=10;break}return e.next=7,m("".concat(t,"formulas.json"));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0={};case 11:return o.formulas=e.t0,e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(e,t){return g("api/assets/del/".concat(e),t)},A=function(e,t){return j("".concat(l.b,"api/assets/upload/").concat(e),t)},q=function(e,t,n){return j("".concat(l.b,"api/assets/replace/").concat(e),t,{name:n})},z=function(e,t,n){return g("api/assets/update/".concat(e),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:t},n))},I=function(){return m("api/explorer/tree").then((function(e){return e.tree}))},N=function(e){return m("api/explorer/".concat(e,"/sid")).then((function(e){return e.sid}))},L=function(e){return m("api/explorer/".concat(e,"/list")).then((function(e){return e.lessons}))},M=function(e,t){var n=Object(w.a)(t);return g("api/explorer/save/".concat(e),n)},B=function(e,t,n,r,o){return g("api/explorer/create",{sid:e,title:t,lang:n,interfaceLang:r,lessonType:o}).then((function(e){return e.lid}))},U=function(e){return g("api/explorer/remove/".concat(e))},H=function(e,t){return g("api/explorer/clone/".concat(e,"/").concat(t)).then((function(e){return e.lid}))},F=function(e,t){return g("api/explorer/move/".concat(e,"/").concat(t))},W=function(e){return g("api/assets/tex",{tex:e}).then((function(e){return e.svg}))},G=function(e,t){return g("api/system/jslog",{kind:e,msg:t})},V=function(e,t,n){return g("api/explorer/deploy",{lid:e,mode:t,server:n}).then((function(e){return e.status}))},$=function(e){return g("api/explorer/deploy-new",{lid:e}).then((function(e){return e.status}))},K=function(e){try{return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(e,{method:"GET",headers:y({Accept:"application/json","Content-Type":"application/json"},t)}).then(O)}("api/ticket/list/".concat(e))}catch(e){return[]}},X=function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h(e,{method:"POST",body:JSON.stringify(t),headers:y({Accept:"application/json","Content-Type":"application/json"},n)}).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)}))}("api/explorer/login",e)}},40:function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return x}));var r=n(1),o=n.n(r),i=n(8),c=n(30);n.d(t,"e",(function(){return c.n})),n.d(t,"b",(function(){return c.e})),n.d(t,"a",(function(){return c.d}));var a,u,l,f=n(9),s=n(3),p=n(6);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,P,R,S,E,k,_=Object(s.a)((function(e){var t=e.predicate,n=e.msg,r=e.t,i=e.shape;return t?"icon"===i?o.a.createElement(c.e,{err:n}):o.a.createElement("div",{className:"bllc-warn"},o.a.createElement(f.a,{cls:"bllc-warn-icon",icon:"attention-alt"}),o.a.createElement("b",null,r("mods.common.warning.title"),":")," ",n):null}),"t"),x=(a=Object(s.e)("mods.common.warning."),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,c=v(a);function a(){var e;b(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(g(e=c.call.apply(c,[this].concat(n))),"hasExpressions",Object(i.a)((function(e){return e}),(function(e){return p.a.some(e,"expression")}))),e}return t=a,(n=[{key:"render",value:function(e){var t=this.props.content;return o.a.createElement(_,{predicate:this.hasExpressions(t),msg:e("no-exp")})}}])&&d(t.prototype,n),r&&d(t,r),a}(o.a.PureComponent),w=(u=l).prototype,P="render",R=[a],S=Object.getOwnPropertyDescriptor(u.prototype,"render"),E=u.prototype,k={},Object.keys(S).forEach((function(e){k[e]=S[e]})),k.enumerable=!!k.enumerable,k.configurable=!!k.configurable,("value"in k||k.initializer)&&(k.writable=!0),k=R.slice().reverse().reduce((function(e,t){return t(w,P,e)||e}),k),E&&void 0!==k.initializer&&(k.value=k.initializer?k.initializer.call(E):void 0,k.initializer=void 0),void 0===k.initializer&&(Object.defineProperty(w,P,k),k=null),u)},425:function(e,t,n){"use strict";var r=n(23),o=n.n(r),i=n(2);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={on:function(e,t){var n=function(t){return t.preventDefault(),e(f._convertEvent(t)),!1},r=function(e){o(),t(f._convertEvent(e))},o=function(){return f.off(n,r)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",r)},off:function(e,t){document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",e),document.removeEventListener("mouseup",t),document.removeEventListener("touchend",t)},start:function(e){return{onDragMove:e.onDragMove,onDragEnd:e.onDragEnd}},_genOnStart:function(e,t){return function(n){if(!t||t(n)){var r=f._convertEvent(n);if(r){var o=e(r);o&&o.onDragMove&&(o.onDragMove(r),f.on(o.onDragMove,o.onDragEnd))}}}},genEvents:Object(i.x)((function(e){var t=f._genOnStart(e.onDragStart,e.canDrag);return{onTouchStart:t,onMouseDown:t}})),_convertEvent:function(e){if(!e.touches)return e;if(1!==e.touches.length)return null;var t=u(e.touches,1)[0];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({preventDefault:e.preventDefault.bind(e)},o()(t,"clientX","clientY","target","pageX","pageY"))}};t.a=f},426:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r,o,i,c,a=n(1),u=n.n(a),l=n(0),f=n.n(l),s=n(9),p=n(3);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,P,R,S,E,k,_=(r=Object(p.g)("modTools"),c=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=v(i);function i(){var e;b(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(g(e=o.call.apply(o,[this].concat(n))),"add",(function(){return e.props.add(e.props.idx)})),e}return t=i,(n=[{key:"render",value:function(e){var t=e.c,n=this.props.idx;return u.a.createElement("div",{className:t("addbox")},u.a.createElement(s.a,{icon:"plus",onClick:this.add,role:"opt-add-".concat(n),disabled:this.props.disabled}))}}])&&d(t.prototype,n),r&&d(t,r),i}(u.a.PureComponent),j(i,"propTypes",{idx:f.a.number.isRequired,add:f.a.func.isRequired,disabled:f.a.bool.isRequired}),w=(o=c).prototype,P="render",R=[r],S=Object.getOwnPropertyDescriptor(o.prototype,"render"),E=o.prototype,k={},Object.keys(S).forEach((function(e){k[e]=S[e]})),k.enumerable=!!k.enumerable,k.configurable=!!k.configurable,("value"in k||k.initializer)&&(k.writable=!0),k=R.slice().reverse().reduce((function(e,t){return t(w,P,e)||e}),k),E&&void 0!==k.initializer&&(k.value=k.initializer?k.initializer.call(E):void 0,k.initializer=void 0),void 0===k.initializer&&(Object.defineProperty(w,P,k),k=null),o)},427:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r,o,i,c,a=n(1),u=n.n(a),l=n(0),f=n.n(l),s=n(9),p=n(3);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P,R,S,E,k,_,x=(r=Object(p.g)("modTools"),c=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,o=m(i);function i(){var e;d(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(O(e=o.call.apply(o,[this].concat(n))),"add",(function(){return e.props.add(e.props.idx)})),e}return t=i,(n=[{key:"render",value:function(e){var t=e.c,n=this.props,r=n.disabled,o=n.idx;return u.a.createElement("div",{className:t("addbox")},u.a.createElement(s.a,b({icon:"plus",onClick:this.add},{disabled:r},{role:"opt-add-".concat(o)})))}}])&&h(t.prototype,n),r&&h(t,r),i}(u.a.PureComponent),w(i,"propTypes",{idx:f.a.number.isRequired,add:f.a.func.isRequired,disabled:f.a.bool.isRequired}),P=(o=c).prototype,R="render",S=[r],E=Object.getOwnPropertyDescriptor(o.prototype,"render"),k=o.prototype,_={},Object.keys(E).forEach((function(e){_[e]=E[e]})),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),_=S.slice().reverse().reduce((function(e,t){return t(P,R,e)||e}),_),k&&void 0!==_.initializer&&(_.value=_.initializer?_.initializer.call(k):void 0,_.initializer=void 0),void 0===_.initializer&&(Object.defineProperty(P,R,_),_=null),o)},430:function(e,t,n){"use strict";var r=n(154),o=n(655),i=n(656),c=new r.a({list:["ru","en"],labels:{ru:"Русский",kz:"Қазақ",en:"English"},fallbackPath:["ru","en","kz"]}).mix({en:o,ru:i});t.a=c},431:function(e,t,n){"use strict";n.d(t,"b",(function(){return et}));var r,o=n(5),i=n(108),c=n(28),a=n.n(c),u=n(48),l=n.n(u),f=n(144),s=n.n(f),p=n(78),y=n.n(p),b=n(19),d=n(122),h=n.n(d),v=n(308),m=n.n(v),g=n(26),O=n(100),j=n(14),w=n(182);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={isRenaming:!1,newTitle:null},k=R((S(r={},O.c.start,(function(e,t,n){return{state:R(R({},e),{},{isRenaming:!0,newTitle:n.title||""})}})),S(r,O.c.cancel,(function(e){return{state:R(R({},e),{},{isRenaming:!1,newTitle:null})}})),S(r,O.c.val,(function(e,t){var n=t.title;return{state:R(R({},e),{},{newTitle:n})}})),S(r,O.c.commit,(function(e,t,n){return{state:R(R({},e),{},{isRenaming:!1,newTitle:null}),mod:R(R({},n),{},{title:e.newTitle})}})),S(r,O.b,(function(e,t,n){var r=t.audio;return{mod:R(R({},n),{},{audio:r})}})),S(r,O.a,(function(e,t,n){return{mod:a()(n,"audio")}})),r),w.d);function _(e,t){var n=e.pages.findIndex((function(e){return e.modules.find((function(e){return e.id===t.id}))}));if(-1===n)throw new Error("Couldn't find mod=".concat(t.id));var r=e.pages[n],i=r.modules.findIndex((function(e){return e.id===t.id}));return function(e,t,n){return R(R({},e),{},{pages:Object(o.i)(e.pages,t,n)})}(e,n,R(R({},r),{},{modules:Object(o.i)(r.modules,i,t)}))}var x,C=function(e){return R(R({},E),w.c[e.type])},T=function(e){var t=Object(j.s)();return{id:t,mod:R(R({},e),{},{id:t}),state:C(e)}},D=n(21),A=n(102),q=n(85);function z(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){var n=L(L({},Object(D.c)(e)),{},{chains:t});return U(e,Object(D.h)(e),n)}function U(e,t,n){return L(L({},e),{},{data:L(L({},e.data),{},{pages:Object(o.i)(e.data.pages,t,n)})})}function H(e,t){var n=L(L({},Object(D.c)(e)),{},{modules:t});return U(e,Object(D.h)(e),n)}function F(e,t){return L(L({},H(e,Object(D.g)(e).filter((function(e){return!t.includes(e.id)})))),{},{state:a.a.apply(void 0,[e.state].concat(z(t))),selected:{}})}var W=function(e,t){var n=Object(D.a)(e),r=e.page;return e.data.pages[r].categories=L(L({},e.data.pages[r].categories),{},M({},n,t)),e};var G,V={title:"New Page",modules:[],chains:[]},$=(M(x={},g.u,(function(e,t){return L(L({},e),{},{page:t.page,selected:{}})})),M(x,g.s,(function(e,t){return L(L({},e),{},{selected:Object(o.b)(e.selected,t.mid)})})),M(x,g.v,(function(e,t){return L(L({},e),{},{selected:Object(o.k)(e.selected,t.mid)})})),M(x,g.w,(function(e){return L(L({},e),{},{selected:{}})})),M(x,g.t,(function(e){return L(L({},e),{},{selected:Object(o.g)(Object(D.g)(e),"id")})})),M(x,g.k,(function(e,t){var n=t.mid,r=Object(D.g)(e),i=r.find((function(e){return e.id===n}));return H(e,Object(o.o)(r,i))})),M(x,g.j,(function(e,t){var n=t.mid,r=Object(D.g)(e),i=r.find((function(e){return e.id===n}));return H(e,Object(o.f)(r,i))})),M(x,g.l,(function(e,t){var n=t.mids,r=Object(D.e)(e),o=m()(Object(D.f)(e),n);if(e=B(e,Object(A.f)(r,o)),Object(j.q)(e)){var i=Object(q.i)(e,n);e=W(e,i)}return F(e,n)})),M(x,g.r.start,(function(e){return L(L({},e),{},{isPageRenaming:!0,newPageTitle:Object(D.c)(e).title})})),M(x,g.r.cancel,(function(e){return L(L({},e),{},{isPageRenaming:!1,newPageTitle:null})})),M(x,g.r.val,(function(e,t){var n=t.title;return L(L({},e),{},{newPageTitle:n})})),M(x,g.r.commit,(function(e){var t=L(L({},Object(D.c)(e)),{},{title:e.newPageTitle});return L(L({},U(e,Object(D.h)(e),t)),{},{isPageRenaming:!1,newPageTitle:null})})),M(x,g.m,(function(e){var t=Object(o.o)(e.data.pages,Object(D.c)(e));return L(L({},e),{},{page:e.page-1,data:L(L({},e.data),{},{pages:t})})})),M(x,g.n,(function(e){var t=Object(o.f)(e.data.pages,Object(D.c)(e));return L(L({},e),{},{page:e.page+1,data:L(L({},e.data),{},{pages:t})})})),M(x,g.b,(function(e){return L(L({},e),{},{data:L(L({},e.data),{},{pages:Object(o.l)(e.data.pages,e.page+1,0,V)}),page:e.page+1})})),M(x,g.q,(function(e){var t=F(e,Object(D.g)(e).map((function(e){return e.id})));return L(L({},t),{},{page:t.page===t.data.pages.length-1?t.page-1:t.page,data:L(L({},e.data),{},{pages:Object(o.l)(t.data.pages,t.page,1)})})})),M(x,g.f,(function(e,t){var n=t.idx,r={type:"new",title:"",id:Object(j.s)()},i=Object(o.l)(Object(D.g)(e),n,0,r);return L(L({},H(e=B(e,Object(A.a)(Object(D.e)(e),n,1)),i)),{},{state:L(L({},e.state),{},M({},r.id,C(r)))})})),M(x,g.i,(function(e,t){var n=t.idx,r=Object(D.g)(e);return r[n]=L(L({},r[n]),{},{isAdaptive:!0}),L({},H(e,r))})),M(x,g.h,(function(e,t){var n,r=t.idx,o=t.levelId,i=Object(D.g)(e)[r].id,c=Object(D.a)(e),a=Object(D.d)(e)[c],u=null!==(n=a[o])&&void 0!==n?n:[];return a[o]=[].concat(z(u),[i]),W(e,a)})),M(x,g.p,(function(e,t,n){var r=t.idx,o=n.clipboard.data.map(T),i=o.map((function(e){return e.mod})).map((function(e){return L(L({},e),{},{isAdaptive:!1})})),c=l()(y()(o,"mod.id"),"state");return e=B(e,Object(A.a)(Object(D.e)(e),r,o.length)),L(L({},D.q.apply(void 0,[e,"active",r,0].concat(z(i)))),{},{state:L(L({},e.state),c)})})),M(x,g.g,(function(e,t){var n=t.idx,r=Object(D.e)(e),o=Object(A.c)(r,n);return B(e,-1===o?Object(A.b)(r,n):Object(A.g)(r,o,n))})),M(x,g.e,(function(e){var t=e.page,n=Object(q.f)(e),r={A:{},B:{},C:{}},o={},i=e.data.pages[t];return Object.keys(r).forEach((function(e){o[e]=h()(1,n+1).reduce((function(e,t){return L(L({},e),{},M({},t,[]))}),{})})),e.data.pages[t]=L(L({},i),{},{categories:o,activeCategory:q.a.simple}),e})),x),K=n(37);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z,Q=(J(G={},K.i,(function(e){return Object(o.p)(e,"assets",Y(Y({},e.assets),{},{isActive:!0,atype:null,mode:"view",selected:null}))})),J(G,K.d,(function(e,t){var n=t.atype;return Object(o.p)(e,"assets",Y(Y({},e.assets),{},{isActive:!0,atype:n,mode:"choose",selected:null}))})),J(G,K.f,(function(e){return Object(o.p)(e,"assets.isActive",!1)})),J(G,K.g,(function(e){return e})),J(G,K.h,(function(e){return e})),J(G,K.c,(function(e){return e})),J(G,K.a,(function(e){return e})),J(G,K.b,(function(e){return e})),J(G,K.j,(function(e,t){var n=t.name;return Object(o.p)(e,"assets.selected",n)})),G),ee=n(60);function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne,re={isActive:!1},oe=(te(Z={},ee.b,(function(e,t){return Object(o.p)(t,"info.isActive",!0)})),te(Z,ee.a,(function(e,t){return Object(o.p)(t,"info.isActive",!1)})),te(Z,ee.f,(function(e,t,n){var r=n.content;return Object(o.p)(t,"data.summary",r)})),te(Z,ee.i,(function(e,t,n){var r=n.content;return Object(o.p)(t,"data.worklist",r)})),te(Z,ee.d,(function(e,t,n){var r=n.label;return Object(o.p)(t,"data.label",r)})),te(Z,ee.h,(function(e,t,n){var r=n.time;return Object(o.p)(t,"data.time",r)})),te(Z,ee.e,(function(e,t,n){var r=n.lang;return Object(o.p)(t,"data.lang",r)})),te(Z,ee.g,(function(e,t,n){var r=n.themes;return Object(o.p)(t,"data.themes",r)})),te(Z,ee.c,(function(e,t,n){var r=n.lang;return Object(o.p)(t,"data.interfaceLang",r)})),Z),ie=n(76),ce=n(93);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe={mod:{isFinished:!1,isChecked:!1,state:null,contentState:ce.a.def},dialog:{mid:null,isActive:!1,size:"big"}},se=function(e,t){return Object(j.l)(e,t).type},pe=(le(ne={},ie.c,(function(e,t,n){var r=n.mid,o=ue(ue({},fe.dialog),{},{size:e.dialog.size,mid:r,isActive:!0});return{mod:ue(ue({},fe.mod),{},{state:ce.b[se(t,r)]}),dialog:o}})),le(ne,ie.b,(function(e){return Object(o.p)(fe,"dialog.size",e.dialog.size)})),le(ne,ie.a,(function(e){return Object(o.p)(e,"mod.isChecked",!0)})),le(ne,ie.f,(function(e){return Object(o.p)(e,"mod.isChecked",!1)})),le(ne,ie.d,(function(e,t){var n=se(t,e.dialog.mid);return Object(o.p)(e,"mod",ue(ue({},e.mod),{},{state:ce.b[n],isChecked:!1}))})),le(ne,ie.e,(function(e,t,n){var r=n.size;return Object(o.p)(e,"dialog.size",r)})),ne),ye=function(e,t){if(/^CON/.test(t.type)){var n=e.platform.mod.contentState,r=ce.a.reducer(n,t);return Object(o.p)(e,"platform.mod.contentState",r)}if(Object(ce.d)(t)){var i=e.platform,c=i.dialog,a=i.mod,u=Object(j.l)(e,c.mid),l=Object(ce.e)(a.state,t,u);return Object(o.p)(e,"platform.mod.state",l)}var f=pe[t.type](e.platform,e,t);return ue(ue({},e),{},{platform:f})},be=n(214);var de,he,ve,me,ge=(de={},he=be.a,ve=function(e,t){var n=t.name,r=e.page;return Object(o.p)(e,"data.pages.".concat(r,".activeCategory"),n)},he in de?Object.defineProperty(de,he,{value:ve,enumerable:!0,configurable:!0,writable:!0}):de[he]=ve,de);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=je(je({data:null,err:null,isRenaming:!1,newTitle:null,uiLang:"ru"},{page:0,isPageRenaming:!1,newPageTitle:null,selected:{},state:{}}),{},{assets:{isActive:!1,selected:null,mode:"view",atype:null,list:[]},info:re,platform:fe,tickets:{},isFullscreen:!1}),Re=je({loading:!1,isAuth:!0},Pe);function Se(e){return y()(s()(e.pages,"modules"),"id")}var Ee,ke,_e,xe=(we(me={},b.f,(function(){return je({},Pe)})),we(me,b.k,(function(){return je(je({},Pe),{},{loading:!0})})),we(me,b.c,(function(e,t){var n=t.isAuth;return Object(o.p)(e,"isAuth",n)})),we(me,b.b,(function(e){return Object(o.m)(e,"isFullscreen")})),we(me,b.p,(function(e,t){e.state;var n=t.lesson,r=t.formattedTickets;return je(je({},Pe),{},{loading:!1,data:je({},n),page:0,tickets:je({},r),adaptiveLevelCount:3,state:je(je({},l()(Se(n),C)),{},{content:C({type:"content"})})})})),we(me,b.i,(function(e,t){var n=t.err;return je(je({},Pe),{},{loading:!1,err:n})})),we(me,b.m.start,(function(e){return je(je({},e),{},{isRenaming:!0,newTitle:e.data.title})})),we(me,b.m.cancel,(function(e){return je(je({},e),{},{isRenaming:!1,newTitle:null})})),we(me,b.m.val,(function(e,t){var n=t.title;return je(je({},e),{},{newTitle:n})})),we(me,b.m.commit,(function(e){return je(je({},e),{},{data:je(je({},e.data),{},{title:e.newTitle}),newTitle:null,isRenaming:!1})})),we(me,b.q,(function(e,t){var n=t.lang;return je(je({},e),{},{uiLang:n})})),we(me,b.u,(function(e,t){var n=t.descriptors;return Object(o.p)(e,"data.descriptors",je(je({},e.data.descriptors),n))})),we(me,b.g,(function(e,t){t.formulas;return Object(o.p)(e,"data.formulas",{})})),we(me,b.s,(function(e,t){var n=t.formulas;return Object(o.p)(e,"data.formulas",n)})),we(me,b.r,(function(e,t){var n=t.assets;return Object(o.p)(e,"data.assets",n)})),we(me,b.j,(function(e){Object(D.b)(e).forEach((function(t,n){var r,i,c=null!==(r=t.categories)&&void 0!==r?r:[],a=null!==(i=t.modules.map((function(e){return e.id})))&&void 0!==i?i:[];Object.keys(c).forEach((function(e){var t,n=null!==(t=c[e])&&void 0!==t?t:[];Object.keys(n).forEach((function(t){var r,i=null!==(r=n[t])&&void 0!==r?r:[];i.forEach((function(n){a.includes(n)||(c[e][t]=Object(o.e)(i,n))}))}))})),e.data.pages[n].categories=je(je({},e.data.pages[n].categories),c)}))})),we(me,b.d,(function(e,t){var n=t.tickets,r={};return n.forEach((function(e){var t=e.moduleId;r[t]=je({},a()(e,"moduleId"))})),e.tickets=je({},r),console.log(e.tickets),e})),we(me,b.o,(function(e){return e})),we(me,b.e,(function(e){return e})),we(me,b.h,(function(e){return e})),me),Ce={initial:Re,reducer:function(e,t,n){if(xe[t.type]){var r=xe[t.type](e,t);return r?je(je({},e),r):e}if(/^PAGE_/.test(t.type))return function(e,t,n){return $[t.type](e,t,n)}(e,t,n);if(/^(PL)?MOD_/.test(t.type))return Object(ce.d)(t)?ye(e,t):function(e,t){var n=t.mid||t.id;if(!n)throw new Error("Empty mid in action: ".concat(t.type));var r=Object(j.k)(e)[n];if(!r&&n.includes(":"))throw new Error("Unknown mod in action: ".concat(t.type));var o=k[t.type];if(!o)throw new Error("Unknown mod-action: ".concat(t.type));var i=o(e.state[n],t,r),c=i.mod,a=i.state;return R(R({},e),{},{data:c?_(e.data,c):e.data,state:a?R(R({},e.state),{},S({},n,a)):e.state})}(e,t);if(/^ASSETS_/.test(t.type))return function(e,t){return Q[t.type](e,t)}(e,t);if(/^INFD_/.test(t.type))return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;return oe[t.type](e.info,e,t)}(e,t);if(/^PL_|CON_/.test(t.type))return ye(e,t);if(/^CATEGORY_/.test(t.type))return function(e,t,n){return ge[t.type](e,t,n)}(e,t,n);throw new Error("Unknown lesson action: ".concat(t.type))},test:function(e){return/LESSON|PAGE|PL|CATEGORY|ASSETS|INFD|PL|MOD|CON/.test(e.type)}},Te=n(22),De=n(179);function Ae(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le,Me={isActive:!1,selectedLesson:null,selectedSection:null,isLoading:!1,expanded:{},tree:[],list:[],langs:{},choose:{selected:null,isActive:!1,expanded:{}},lesson:{isActive:!1,title:":gen:",lang:null,interfaceLang:null,lessonType:"common"}},Be=(Ne(Ee={},Te.u,(function(e,t,n){return Ie(Ie({},Me),{},{expanded:e.expanded,isActive:!0,langs:Ne({},Object(j.d)(n),1)})})),Ne(Ee,Te.i,(function(e){return Ie(Ie({},Me),{},{expanded:e.expanded,isActive:!1})})),Ne(Ee,Te.w,(function(e,t){var n=t.tree;return Ie(Ie({},e),{},{tree:n})})),Ne(Ee,Te.y,(function(e,t){var n,r=t.sid,o=Object(De.c)(e.tree,r)||[],i=Ie({},e.expanded),c=Ae(o);try{for(c.s();!(n=c.n()).done;){i[n.value]=1}}catch(e){c.e(e)}finally{c.f()}return Ie(Ie({},e),{},{expanded:i,selectedSection:r,selectedLesson:null})})),Ne(Ee,Te.z,(function(e,t){var n=t.lessons;return Ie(Ie({},e),{},{list:n})})),Ne(Ee,Te.x,(function(e,t){var n=t.lid;return Ie(Ie({},e),{},{selectedLesson:n})})),Ne(Ee,Te.k,(function(e){return e})),Ne(Ee,Te.l,(function(e){return e})),Ne(Ee,Te.h,(function(e){return e})),Ne(Ee,Te.t,(function(e){return e})),Ne(Ee,Te.j,(function(e,t){var n=t.sid;return Ie(Ie({},e),{},{expanded:a()(e.expanded,n)})})),Ne(Ee,Te.n,(function(e,t){var n=t.sid;return Ie(Ie({},e),{},{expanded:Object(o.b)(e.expanded,n)})})),Ne(Ee,Te.A,(function(e,t){var n=t.lang;return Ie(Ie({},e),{},{langs:Object(o.n)(e.langs,n)})})),Ee),Ue=(Ne(ke={},Te.e,(function(e,t,n){return Ie(Ie({},e),{},{isActive:!0,selected:null,expanded:n.expanded})})),Ne(ke,Te.b,(function(e){return Ie(Ie({},e),{},{isActive:!1})})),Ne(ke,Te.f,(function(e,t){var n=t.sid;return Ie(Ie({},e),{},{selected:n})})),Ne(ke,Te.c,(function(e,t){var n=t.sid;return Ie(Ie({},e),{},{expanded:a()(e.expanded,n)})})),Ne(ke,Te.d,(function(e,t){var n=t.sid;return Ie(Ie({},e),{},{expanded:Object(o.b)(e.expanded,n)})})),Ne(ke,Te.a,(function(e){return Me.choose})),ke),He=(Ne(_e={},Te.q,(function(e){return Object(o.p)(e,"isActive",!0)})),Ne(_e,Te.o,(function(){return Me.lesson})),Ne(_e,Te.r,(function(e,t){var n=t.field,r=t.val;return Object(o.p)(e,n,r)})),_e),Fe={initial:Me,reducer:function(e,t,n){if(t.type.startsWith("EXPL_CHOOSED")){var r=(0,Ue[t.type])(e.choose,t,e);return Object(o.p)(e,"choose",r)}if(t.type.startsWith("EXPL_LESSOND")){var i=(0,He[t.type])(e.lesson,t,e);return Object(o.p)(e,"lesson",i)}var c=Object(j.i)(n);return Be[t.type](e,t,c)},test:function(e){return/^EXPL/.test(e.type)}},We=n(124);function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve={kind:null,data:null},$e=(Ge(Le={},We.a,(function(e){return Ve})),Ge(Le,We.b,(function(e,t,n){return{kind:n.kind,data:n.data}})),Le),Ke=function(e,t){var n=$e[t.type];if(!n)throw new Error("Incorrect clp-action: ".concat(t.type));return n(e,e.clipboard,t)};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=Object(o.c)({explorer:Fe,lesson:Ce}),Qe=Object(i.e)(Ze,{limit:20,initTypes:[b.p.type],filter:function(e){return!e.ignore},replaceMode:function(e){return e.tsMode}}),et=(t.a=function(e,t){if("$DEV$_REPLACE_STATE"===t.type)return t.data;if(/^CLP_/.test(t.type))return Ye(Ye({},e),{},{clipboard:Ke(e,t)});var n=Qe(e.data,t,e);return n!==e.data?Ye(Ye({},e),{},{data:n}):e},{clipboard:Ve})},432:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r,o,i,c,a=n(1),u=n.n(a),l=n(0),f=n.n(l),s=n(2),p=n(83),y=n(75),b=n(9),d=n(3);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S,E,k,_,x=(r=Object(d.g)("modTools"),c=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,o=O(i);function i(){var e;v(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(w(e=o.call.apply(o,[this].concat(n))),"del",(function(){var t=e.props,n=t.mode,r=t.data.id;(0,t.del)(n,r)})),R(w(e),"sel",(function(){var t=e.props,n=t.mode,r=t.data.id;(0,t.sel)(n,r)})),R(w(e),"setBlock",(function(t){e.block=t,t&&(e.ro=Object(p.a)(w(e),t,e.updateCoords))})),R(w(e),"updateCoords",(function(){if(e.block){var t=e.props,n=t.data.id,r=t.mode,o=t.updateCoords,i=e.block,c=i.offsetTop,a=i.offsetHeight;o(n,{top:c,height:a,mid:c+a/2,id:n,mode:r})}})),e}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.ro.dispose()}},{key:"render",value:function(e){var t=e.c,n=this.props,r=n.data,o=n.mode,i=n.disabled,c=n.canDel,a=n.isSelected,l=Object(s.h)(t("item"),a&&t("sel")),f=u.a.createElement("div",{className:t("del")},u.a.createElement(b.a,{icon:"trash",onClick:this.del,disabled:i||!c,role:"opt-del"})),p=u.a.createElement("div",{className:t("socket"),onClick:this.sel,"data-role":"opt-socket"});return u.a.createElement("div",{ref:this.setBlock,className:l,"data-conn-id":r.id},"left"===o?f:null,"right"===o?p:null,u.a.createElement(y.a,{path:"".concat(o,".").concat(r.id,".content")}),"right"===o?f:null,"left"===o?p:null)}}])&&m(t.prototype,n),r&&m(t,r),i}(u.a.PureComponent),R(i,"propTypes",{data:f.a.shape({content:f.a.array.isRequired,val:f.a.arrayOf(f.a.string),id:f.a.string.isRequired}).isRequired,mode:f.a.string.isRequired,mid:f.a.string.isRequired,del:f.a.func.isRequired,sel:f.a.func.isRequired,disabled:f.a.bool.isRequired,isSelected:f.a.bool.isRequired,updateCoords:f.a.func.isRequired,canDel:f.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((o=c).prototype,"render",[r],Object.getOwnPropertyDescriptor(o.prototype,"render"),o.prototype),o);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=(S=Object(d.g)("modTools"),_=k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(i,e);var t,n,r,o=z(i);function i(){var e;D(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(N(e=o.call.apply(o,[this].concat(n))),"add",(function(){var t=e.props,n=t.mode;(0,t.add)(n)})),e}return t=i,(n=[{key:"render",value:function(e){var t=e.c,n=this.props,r=n.data,o=n.mode,i=n.mid,c=n.del,a=n.sel,l=n.selected,f=n.disabled,s=n.canAdd,p=n.canDel,y=n.updateCoords;return u.a.createElement("div",{className:t("region"),"data-mode":o},Object.values(r).map((function(e,t){return u.a.createElement(x,T({mid:i,mode:o,data:e,del:c,sel:a,disabled:f,updateCoords:y,canDel:p},{isSelected:l[o]===e.id,key:t}))}),this),u.a.createElement("div",{className:t("add-block")},u.a.createElement(b.a,{icon:"plus",disabled:!s,onClick:this.add,role:"opt-".concat(o,"-add")})))}}])&&A(t.prototype,n),r&&A(t,r),i}(u.a.PureComponent),M(k,"propTypes",{mode:f.a.string.isRequired,mid:f.a.string.isRequired,data:f.a.object.isRequired,disabled:f.a.bool.isRequired,selected:f.a.shape({left:f.a.string,right:f.a.string}).isRequired,updateCoords:f.a.func.isRequired,add:f.a.func.isRequired,canAdd:f.a.bool.isRequired,canDel:f.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((E=_).prototype,"render",[S],Object.getOwnPropertyDescriptor(E.prototype,"render"),E.prototype),E)},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return A})),n.d(t,"n",(function(){return q})),n.d(t,"b",(function(){return z})),n.d(t,"k",(function(){return I})),n.d(t,"g",(function(){return N})),n.d(t,"i",(function(){return L})),n.d(t,"o",(function(){return M})),n.d(t,"f",(function(){return B})),n.d(t,"h",(function(){return U})),n.d(t,"l",(function(){return H})),n.d(t,"p",(function(){return F})),n.d(t,"m",(function(){return W})),n.d(t,"j",(function(){return G})),n.d(t,"q",(function(){return $})),n.d(t,"c",(function(){return K}));var r=n(48),o=n.n(r),i=n(36),c=n.n(i),a=n(597),u=n.n(a),l=n(17),f=n.n(l),s=n(33),p=n.n(s),y=n(39),b=n.n(y),d=n(28),h=n.n(d),v=n(79),m=n.n(v);function g(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function O(e){return P(e)||x(e)||_(e)||w()}function j(e,t){return P(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||_(e,t)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e){if(Array.isArray(e))return e}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||x(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function x(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function(e,t,n){return H(e,t,0,n)},D=function(e,t){var n=m()(e,t);if(-1===n)return e;var r=k(e);return r.splice(n,1),r},A=function(e,t){var n=e.indexOf(t);if(-1===n)return e;var r=k(e);return r.splice(n,1),r},q=function(e,t){return t in e?h()(e,t):S(S({},e),{},E({},t,1))},z=function(e,t){return t in e?e:S(S({},e),{},E({},t,1))},I=function(e,t){return t in e?h()(e,t):e},N=function(e,t){return e.reduce((function(e,n){return e[t?n[t]:n]=1,e}),{})},L=function(e,t,n){var r=k(e);return r[t]=n,r},M=function(e,t){var n=e.findIndex((function(e){return e===t}));if(0===n)return e;var r=k(e);return r[n-1]=t,r[n]=e[n-1],r},B=function(e,t){var n=e.findIndex((function(e){return e===t}));if(n===e.length-1)return e;var r=k(e);return r[n+1]=t,r[n]=e[n+1],r},U=function(e,t,n){var r=k(e),o=j(r.splice(n,1),1)[0];return r.splice(t,0,o),r},H=function(e){for(var t=k(e),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.splice.apply(t,r),t},F=function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!(n=b()(n)?n.split("."):n).length)return r;var i=n,c=O(i),a=c[0],u=c.slice(1);if(u.length>1&&!(a in t))throw new Error("Couldn't find \"".concat(a,'" in "').concat(o,'"'));var l=u.length?e(t[a],u,r,"".concat(o,".").concat(a)):r,f=p()(t)?k(t):S({},t);return void 0===l?delete f[a]:f[a]=l,f},W=function(e,t){var n=f()(e,t);if(!u()(n))throw new Error("Incorrect bool-val: ".concat(t));return F(e,t,!n)},G=function(e,t){var n=(t=b()(t)?t.split("."):t).slice(0,t.length-1),r=c()(t),o=n.length?f()(e,n):e;return F(e,n,h()(o,r))},V=function(e){var t=new WeakMap;return function(n){return t.has(n)||t.set(n,e(n)),t.get(n)}},$=function(e){return 1===e.length?V(e):function(e){var t=V(function t(n,r){if(n>2){var o=t.bind(null,n-1);return V(o)}var i=new WeakMap;return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=c()(n);return i.has(o)||i.set(o,e.apply(void 0,n)),i.get(o)}}.bind(null,e.length));return function(){for(var e=t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i,c=g(r.slice(0,r.length-1));try{for(c.s();!(i=c.n()).done;){var a=i.value;e=e(a)}}catch(e){c.e(e)}finally{c.f()}return e.apply(void 0,r)}}(e)},K=function(e){return function(t,n,r){if(t||(t=o()(e,"initial")),n.type.startsWith("@@"))return t;var i=Object.keys(e).find((function(t){return e[t].test(n)})),c=e[i];if(!c)throw new Error("Unknown handler for ".concat(n.type));var a=c.reducer,u=t[i],l=a(u,n,r);return u===l?t:S(S({},t),{},E({},i,l))}}},58:function(e,t,n){"use strict";var r=n(46),o=n.n(r),i=n(614),c=n.n(i),a=n(17),u=n.n(a),l=n(36),f=n.n(l),s=n(39),p=n.n(s),y=n(33),b=n.n(y),d=n(2);function h(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=["list","label"],w=["id","fid"],P={type:function(e){if(b()(e))return"group";if(!p()(e))return e.type;switch(e[0]){case"P":return"paragraph";case"T":return"text";case"I":return"image";case"H":return"heading";default:throw new Error('Unknown text-char: "'.concat(e[0],'"'))}},fullType:function(e){var t=P.type(e);return"expression"===e.type&&(t+=":"+e.kind),t},parse:function(e){if(b()(e))return{type:"group",list:e};if(!p()(e))return e;var t=m(e.replace(/[\r\n]+/g," ").match(/^(\w):(.*)$/),3),n=t[1],r=t[2],o=P.type(n);if("image"===o){var i=m(r.split(":"),2);return{type:o,asset:i[0],align:i[1]}}return{type:o,text:r}},isContainer:function(e){return!(!e.list&&!b()(e))},_children:function(e){return["toggleBlock","galleryItem"].includes(e.type)?["list","label"]:b()(e)?[""]:["list"]},_toIteratee:function(e){return p()(e)?function(t){return t.type===e}:e},_walk:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=v(P._children(e));try{for(o.s();!(n=o.n()).done;){var i,c=n.value,a=e[c]||e,u=v(a.entries());try{for(u.s();!(i=u.n()).done;){var l=m(i.value,2),f=l[0],s=l[1],p=(r?r+".":"")+(c?c+".":"")+f;if(t(s,p))return!0;if(P.isContainer(s)&&P._walk(s,t,p))return!0}}catch(e){u.e(e)}finally{u.f()}}}catch(e){o.e(e)}finally{o.f()}return!1},walk:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=function(){return t.apply(void 0,arguments),!1};P._walk(e,r,n)},filterDeep:function(e,t){var n=[],r=P._toIteratee(t);return P.walk(e,(function(e,t){r(e,t)&&n.push(e)})),n},transformDeep:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return P.walk(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t.apply(void 0,[n].concat(r))})),n},parents:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=P.up(t);if(!r)return n.push(e),n;var o=P.get(e,r);return n.push(o),P.parents(e,r,n)},closest:function(e,t,n){for(var r=t,o=r&&P.get(e,r);o;){if(o&&n(o))return o;o=(r=P.up(r))&&P.get(e,r)}return null},genTextHTML:function(e,t){return Object(d.i)(e,t)},isInline:function(e){return e.startsWith("expression")?!/(longMath|sortable)$/.test(e):["formula","text","expression","link","assetLink"].includes(e)},lastIndex:function(e){return Number(f()(P.arr(e)))},get:function(e,t){return P._noEmptyCid(t)?u()(e,t):null},up:function(e){var t=h(P.arr(e));do{t.pop()}while(j.includes(f()(t)));return P.str(t)},left:function(e){var t=h(P.arr(e)),n=Number(f()(t));return t[t.length-1]=n-1,P.str(t)},right:function(e){var t=h(P.arr(e)),n=Number(f()(t));return t[t.length-1]=n+1,P.str(t)},getUp:function(e,t){return P.get(e,P.up(t))},_noEmptyCid:function(e){return e&&e.length>0},arr:function(e){return b()(e)?e:(e||"").split(".")},str:function(e){return p()(e)?e:e.join(".")},length:function(e){return P.isContainer(e)?"length"in e?e.length:e.list.length:0},getChild:function(e,t){return(e.list||e)[t]},childCid:function(e,t,n){var r=e.list?".list.".concat(n):".".concat(n);return c()((null===t?"":t)+r,".")},isText:function(e){return["text","paragraph","heading","asset","assetLink"].includes(P.type(e))},getText:function(e){return P.parse(e).text},hasBBCodes:function(e){return(P.getText(e)||"").includes("[")},isExpression:function(e){return"expression"===e.type||"plot"===e.type},isEqual:function(e,t){var n=this;return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(r,o){return n.isEqual(e[o],t[o])})):o()(e)&&o()(t)?Object.keys(e).every((function(r){return!!w.includes(r)||e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&n.isEqual(e[r],t[r])})):e===t},find:function(e,t){var n=void 0,r=P._toIteratee(t);return P._walk(e,(function(e,t){return!!r(e,t)&&(n=e,!0)})),n},some:function(e,t){return P._walk(e,P._toIteratee(t))}};t.a=P},59:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return P}));var r=n(56),o=n.n(r),i=n(17),c=n.n(i),a=n(307),u=n.n(a);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.split(/\s*=\s*/);return 2!==t.length?null:{left:v(t[0],"left"),right:v(t[1],"right")}},y=function(e){return u.a.eval(e.replace(/,/g,"."))},b=/^(.*?)(?::(\d+))?$/,d=function(e,t){var n=l(e.slice(1,e.length-1).match(b),3),r=n[1],o=n[2];return{kind:"input",values:r.split("|").filter((function(e){return e.length>0})),id:t,size:o}},h=/^\s*(\{[^}]*\}|\[\[[^\]]+\]\]|[\d.,+*()/\s-]+)\s*/,v=function(e,t){for(var n=[];e.length;){var r=e.match(h);if(!r)return null;var o=l(r,2),i=o[0],c=o[1];"["===c[0]?n.push({kind:"nonmath",text:c.substr(2,c.length-4)}):"{"!==c[0]?n.push({kind:"string",text:c.trim()}):n.push(d(c,"".concat(t,".").concat(n.length))),e=e.slice(i.length)}return n},m=function(e){return g(e.left)?!!g(e.right)||"rigth":"left"},g=function(e){var t="";try{return t=e.map((function(e){if("nonmath"===e.kind)return"";if("string"===e.kind)return e.text;var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}(e.values);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.length&&y(r)}}catch(e){n.e(e)}finally{n.f()}return e.values.length?e.values[0]:"1"})).join(" "),y(t),!0}catch(e){return console.log("math err: ".concat(e.message,' for "').concat(t,'"')),!1}},O=function(e,t){var n=t.id;return"m".concat(e,".").concat(n)},j=function(e,t,n){return e.reduce((function(e,r){return"nonmath"===r.kind?e:"string"===r.kind?e+r.text:e+c()(t,n+r.id,"@")}),"")},w=o()((function(e){try{return y(e)}catch(e){return"err"}})),P=function(e){return e.replace(/-/g,"–").replace(/\*/g,"⋅").replace(/\//g,":")}},6:function(e,t,n){"use strict";var r=n(58),o=n(28),i=n.n(o),c=n(5);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=n(209),y=n.n(p),b=n(36),d=n.n(b),h=n(39),v=n.n(h),m=n(33),g=n.n(m);function O(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=/\$\$.+?\$\$/,E=null,k=function(e){return E=e,_},_={splice:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=c.l.apply(void 0,[e.list||e].concat(n));return e.list?P(P({},e),{},{list:o}):o},upd:function(e,t,n){return t&&t.length?Object(c.p)(e,t,n):n},canAddInto:function(e,t){e=e||"root";var n=t.replace(/:.+$/,"");if("list"===e)return"listItem"===n;if("set"===e)return"setItem"===n;if("dropdown"===e)return["text","formula"].includes(n);switch(n){case"group":case"heading":case"paragraph":case"image":case"video":case"table":case"list":case"model":case"plot":case"toggleBlock":case"set":case"gallery":case"widget":return"group"!==e;case"setItem":return"set"===e;case"listItem":return"list"===e;case"expression":return E.isInline(t)?"group"===e:"group"!==e;case"text":case"formula":case"link":case"assetLink":case"tip":case"inlineGroup":return"group"===e;default:return!1}},canPasteInto:function(e,t){return E.canAddInto(e,t)},_isEmptyExcessContainer:function(e){return E.isContainer(e)&&0===E.length(e)&&!["tableCell","expression","toggleBlock","gallery"].includes(e.type)},_normalizeContainer:function(e){if(g()(e))return this._glueInList(e);for(var t=P({},e),n=0,r="toggleBlock"===e.type?["list","label"]:["list"];n<r.length;n++){var o=r[n];g()(e[o])&&(t[o]=this._glueInList(e[o]))}return t},_glueInList:function(e){return E._glueTexts(e).reduce((function(e,t){return(t=E.normalize(t))&&t.bunch?e.push.apply(e,O(t.bunch)):e.push(t),e}),[]).filter((function(e){return null!==e&&!E._isEmptyExcessContainer(e)}))},pack:function(e){if(g()(e))return e;if("group"===e.type)return e.list;if(v()(e))return e;switch(e.type){case"image":var t="I:".concat(e.asset);return e.align&&(t+=":".concat(e.align)),t;case"text":case"heading":case"paragraph":if(e.audio)return e;var n=e.type[0].toUpperCase();return"".concat(n,":").concat(e.text);case"expression":case"video":case"table":case"link":case"assetLink":case"list":case"listItem":case"model":case"formula":case"toggleBlock":case"plot":case"set":case"setItem":case"gallery":case"galleryItem":case"widget":case"sortableItem":case"tip":case"inlineGroup":return e;default:throw new Error('Unknown type to pack: "'.concat(e.type,'"'))}},_prettifyText:function(e){return e.replace(/[\n\r\t]/g," ").replace(/\s{2,}/g," ")},_normalizeNonContainer:function(e){var t=E.parse(e);if("text"in t&&!t.text.length&&!t.audio)return null;if(["paragraph","text"].includes(t.type)&&t.text.match(S)){var n=this._splitText(t);return"paragraph"===t.type?n.bunch:n}return"text"===t.type&&(t=P(P({},t),{},{text:E._prettifyText(t.text)})),this.pack(t)},_splitText:function(e){var t=e.text,n=[];do{var r=t.match(S),o=r[0],i=r.index;i>0&&n.push({type:"text",text:t.slice(0,i).trim()}),n.push({fid:null,type:"formula",latex:o.slice(2,o.length-2)}),t=t.slice(i+o.length)}while(t.includes("\\"));return t.length&&n.push({type:"text",text:t.trim()}),{bunch:E.normalize(n)}},_glueTexts:function(e){var t=this;return e.reduce((function(e,n){var r=d()(e);if(!e.length||"text"!==E.type(n)||"text"!==E.type(r)||n.audio||r.audio)e.push(n);else{var o=t.parse(d()(e)),i=E.parse(n),c=E.pack(P(P(P({},i),o),{},{type:i.type,text:"".concat(o.text," ").concat(i.text)}));e.splice(e.length-1,1,c)}return e}),[])},normalize:function(e){return E.isContainer(e)?E._normalizeContainer(e):E._normalizeNonContainer(e)},expNumId:function(e){return e?Number(e.substr(1)):NaN},getNextExpId:function(e){var t=E.filterDeep(e,E.isExpression).map((function(e){return E.expNumId(e.id)}));t.push(-1);var n=y()(t);return"e".concat(n+1)},_getFallParent:function(e,t){var n=E.parents(e,t),r=E.get(e,t);return E.isInline(E.type(r))&&n.shift(),n[0]},canFallCreate:function(e,t){var n=E.type(E.get(e,t));if(!["text","paragraph","heading","formula"].includes(n))return!1;var r=E._getFallParent(e,t);switch(r&&E.type(r)){case"expression":return!["dragitem","dragnest","sortable"].includes(r.kind);case"galleryItem":return!1;case"toggleBlock":return!/label\.\d+$/.test(t);default:return!0}}};function x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q,z,I=D(D({},r.a),k);Object.assign(I,k(I)),I.table=(q=I,z={_checkCell:function(e){return!e||"tableCell"===e.type},_checkRow:function(e){if(!e||"tableRow"!==e.type)return!1;var t,n=f(e.list);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this._checkCell(r))return!1}}catch(e){n.e(e)}finally{n.f()}return!0},check:function(e){if("table"!==e.type)return!1;var t,n=f(e.list);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this._checkRow(r))return!1}}catch(e){n.e(e)}finally{n.f()}return!0},_genNewCell:function(){return{type:"tableCell",list:["P:text"]}},_genNewRow:function(e){return{type:"tableRow",list:e.list[0].list.map(z._genNewCell)}},_rowIdx:function(e){return q.lastIndex(q.up(e))},_addRow:function(e,t,n){var r=z._rowIdx(t),o=z._genNewRow(e),i=Object(c.l)(e.list,r+n,0,o);return Object(c.p)(e,"list",i)},addRowDown:function(e,t){return z._addRow(e,t,1)},addRowUp:function(e,t){return z._addRow(e,t,0)},getColumnIdx:function(e){return q.lastIndex(e)},_addColumn:function(e,t,n){var r=q.lastIndex(t),o=e.list.map((function(e){return u(u({},e),{},{list:Object(c.l)(e.list,r+n,0,z._genNewCell())})}));return Object(c.p)(e,"list",o)},addColumnRight:function(e,t){return z._addColumn(e,t,1)},addColumnLeft:function(e,t){return z._addColumn(e,t,0)},delColumn:function(e,t){var n=q.lastIndex(t),r=e.list.map((function(e){return u(u({},e),{},{list:Object(c.l)(e.list,n,1)})}));return Object(c.p)(e,"list",r)},delRow:function(e,t){var n=z._rowIdx(t),r=Object(c.l)(e.list,n,1);return Object(c.p)(e,"list",r)},getRowCount:function(e){return e.list.length},getColCount:function(e){return e.list[0].list.length},setColWidth:function(e,t,n){return Number(n)>0?Object(c.p)(e,"columnWidths.".concat(t),Number(n)):Object(c.j)(e,"columnWidths.".concat(t))},_setBorderVisibility:function(e,t){return t?u(u({},e),{},{border:"transparent"}):i()(e,"border")},setTransparentBorder:function(e){return z._setBorderVisibility(e,!0)},setSolidBorder:function(e){return z._setBorderVisibility(e,!1)},getCell:function(e,t,n){return q.get(e,z._getCellCid(t,n))},_getCellCid:function(e,t,n){return e?t.substr(e.length+1):t},_setCellAttr:function(e,t){var n=e.tbl,r=e.tableCid,o=e.cellCid,a=t.val,f=t.field,s=t.def,p=z.getCell(n,r,o),y=a===s?i()(p,f):u(u({},p),{},l({},f,a)),b=z._getCellCid(r,o);return Object(c.p)(n,b,y)},_setCellAlign:function(e,t,n,r,o){return z._setCellAttr({tbl:e,tableCid:t,cellCid:n},{field:o,val:r,def:"default"})},setCellAlign:function(e,t,n,r){return z._setCellAlign(e,t,n,r,"align")},setCellValign:function(e,t,n,r){return z._setCellAlign(e,t,n,r,"valign")},setCellKind:function(e,t,n,r){return z._setCellAttr({tbl:e,tableCid:t,cellCid:n},{field:"kind",val:r,def:"default"})},_setColAlign:function(e,t,n,r,o){var i="default"===r?void 0:r;return Object(c.p)(e,"column".concat(o,"s.").concat(n),i)},setColumnAlign:function(e,t,n,r){return z._setColAlign(e,t,n,r,"Align")},setColumnValign:function(e,t,n,r){return z._setColAlign(e,t,n,r,"Valign")}}),I.formulas=function(e){return{updFids:function(t){var n=new Set,r=0;e.filterDeep(t,"formula").forEach((function(e){if(e.fid){var t=Number(e.fid.substr(1));r=Math.max(r,t)}else n.add(e)}));var o,i=x(n);try{for(i.s();!(o=i.n()).done;){o.value.fid="f"+ ++r}}catch(e){i.e(e)}finally{i.f()}},getSubIds:function(e){var t=e.latex,n=e.fid,r=t.match(/\\Input\{[^}]+\}/g);return r?r.map((function(e,t){return"".concat(n,".").concat(t)})):[]}}}(I);t.a=I},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"i",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return y}));var r=n(2),o=Object(r.b)("INFD"),i=o.createIgnore("OPEN"),c=o.createIgnore("CLOSE"),a=o.create("SET_SUMMARY","content"),u=o.create("SET_WORKLIST","content"),l=o.create("SET_LABEL","label"),f=o.create("SET_TIME","time"),s=o.create("SET_LANG","lang"),p=o.create("SET_THEME","themes"),y=o.create("SET_INTERFACE_LANG","lang")},604:function(e){e.exports=JSON.parse('{"en":{"content":{"panel":{"copy":"Copy","paste":"Paste","pasteBefore":"Paste left to selected","pasteAfter":"Paste right to selected","cut":"Cut","commit":"Commit changes","cancel":"Cancel changes","add-left":"Add new block left to selected","add-right":"Add new block right to selected","del":"Remove selected block","addHere":"Add new block here","askCancel":"Are you sure? Unsaved content will be lost!"},"elements":{"text":"Text","paragraph":"Paragraph","group":"Group","heading":"Heading","formula":"Formula","expression:input":"Input field","expression:choice":"Select field","expression:math":"Calculated math expression","expression:longMath":"Longmath","expression:dragitem":"Element for moving","expression:nest":"Nest","expression:sortable":"Sortable elements","image":"Image","video":"Video","table":"Table","link":"Link","assetLink":"Link to lesson\'s resource","list":"List","listItem":"List item","model":"3d-Model","toggleBlock":"Hidden block","plot":"Plot","set":"Set","gallery":"Gallery","tip":"Tip","widget":"Widget","inlineGroup":"Inline group"},"table":{"addRowUp":"Add a row upper","addRowDown":"Add a row below","addColumnRight":"Add column to right","addColumnLeft":"Add column to left","delColumn":"Delete the column","delRow":"Delete the row","setTransparentBorder":"Setup transparent borders","setSolidBorder":"Setup solid borders","setWidth":"Setup cell\'s width","askSetWidth":"Please setup the column\'s width (%)","align":"Cell align","kind":"Cell type","columnAlign":"Column\'s align","errStructure":"There\'re errors in the table structure","setColumnAlign":{"default":"Default (recommended)","left":"Left","center":"Center","right":"Right"},"setColumnValign":{"default":"Default (recommended)","top":"Top","center":"Middle","bottom":"Bottom"},"setCellAlign":{"default":"Default (recommended)","left":"Left","center":"Center","right":"Right"},"setCellValign":{"default":"Default (recommended)","top":"Top","center":"Middle","bottom":"Bottom"},"setCellKind":{"default":"Default","heading":"Heading"}},"image":{"setImageAlign":{"default":"Default (recommended)","left":"Left","center":"Center","right":"Right"}},"list":{"numeric":"Numeric list","bulleted":"Bulleted list"},"misc":{"setHref":"Please set up the link\'s url","emptyItemErr":"This element can\'t be empty","contentEdit":"Content Edit","contentDisplay":"Content Display"},"dnd":{"emptyItem":"Empty content","unboundNest":"This nest isn\'t bound with any of drag items","multipleHint":"Multiple","setMultiple":"Set standalone mode","unsetMultiple":"Set multiple mode","mode":{"single":"Set single mode","multiple":"Set multiple mode"}},"exp":{"errAloneControl":"Please use input or select control","incorrect":"Please, set correct math expression"},"model":{"setBgColor":"Set background color (#RGB)","promptBgColor":"Set background color in #RRGGBB format","resetProjection":"Reset position","setHeight":"Set the height (% of width)","promptHeight":"Setup the height of the block (% of its width)"},"set":{"border":{"title":"Border","none":"No borders","inner":"Separated blocks","mesh":"Table\'s view"},"align":{"title":"Horisontal align","auto":"Default","left":"Left","center":"Center","right":"Right"},"valign":{"title":"Vertical align","auto":"Default","top":"Top","middle":"Middle","bottom":"Bottom"},"layout":{"title":"Layout","auto":"Grid","fit":"Fit by content"},"width":{"title":"Cell\'s width","auto":"Default","small":"1x","medium":"2x","big":"3x","row":"full row"},"margin":{"title":"Margins","min":"Min","medium":"Medium","max":"Big"},"padding":{"title":"Paddings","auto":"Default","min":"Min","medium":"Medium","max":"Big"},"bg":{"title":"Background","auto":"Default","false":"Transparent","true":"Opaque"}},"longMath":{"toggle":"Turn on/off filling mode","notNum":"Please set a number","notPositive":"The number must be a positive","cantCalc":"Couldn\'t calculate a table","aLowerB":"Please set the second number equal or below the first number","bNot0":"Please set a non-zero value","onlyInt":"Only integer numbers are supported"},"audio":{"set":"Set an audio-record","del":"Remove an audio-record"},"gallery":{},"widget":{"setHeight":"Set the height (% of width)","promptHeight":"Setup the height of the widget (% of its width)"},"sortable":{"no-homo":"You cannot have sortable elements with same the content"}}},"ru":{"content":{"panel":{"copy":"Скопировать","paste":"Вставить","pasteBefore":"Вставить слева от выделенного","pasteAfter":"Вставить справа от выделенного","cut":"Вырезать","commit":"Утвердить изменения","cancel":"Отменить изменения","add-left":"Добавить блок слева от выделенного","add-right":"Добавить блок справа от выделенного","del":"Удалить выделенный блок","addHere":"Добавить блок сюда","askCancel":"Вы уверены? Все несохранённые изменения будут утеряны!"},"elements":{"text":"Текст","paragraph":"Параграф","group":"Группа","heading":"Заголовок","formula":"Формула","expression:input":"Поле ввода","expression:choice":"Выпадающий список","expression:math":"Математическое вычислимое выражение","expression:longMath":"Математика в столбик","expression:dragitem":"Перетаскиваемый элемент","expression:nest":"Гнездо для перетаскиваемых элементов","expression:sortable":"Сортируемые элементы","image":"Изображение","video":"Видео","table":"Таблица","link":"Ссылка","assetLink":"Ссылка за файл внутри урока","list":"Список","listItem":"Элемент списка","model":"3d-Модель","toggleBlock":"Скрытый/переключаемый блок","plot":"График","set":"Набор","gallery":"Галерея","tip":"Элемент с подсказкой","widget":"Виджет","inlineGroup":"Строчная группа"},"table":{"addRowUp":"Добавить строку выше","addRowDown":"Добавить строку ниже","addColumnRight":"Добавить колонку вправо","addColumnLeft":"Добавить колонку влево","delColumn":"Удалить колонку","delRow":"Удалить строку","setTransparentBorder":"Установить прозрачные границы","setSolidBorder":"Установить видимые границы","setWidth":"Установить ширину колонки","askSetWidth":"Пожалуйста, укажите ширину колонки в процентах","align":"Выравнивание в ячейке","kind":"Тип ячейки","columnAlign":"Выравнивание в колонке","errStructure":"Ошибки в структуре таблицы","setColumnAlign":{"default":"По-умолчанию (рекомендуется)","left":"Слева","center":"По центру","right":"Справа"},"setColumnValign":{"default":"По-умолчанию (рекомендуется)","top":"Сверху","center":"По центру","bottom":"Снизу"},"setCellAlign":{"default":"По-умолчанию (рекомендуется)","left":"Слева","center":"По центру","right":"Справа"},"setCellValign":{"default":"По-умолчанию (рекомендуется)","top":"Сверху","center":"По центру","bottom":"Снизу"},"setCellKind":{"default":"По-умолчанию","heading":"Ячейка-заголовок"}},"image":{"setImageAlign":{"default":"По-умолчанию (рекомендуется)","left":"Слева","center":"По центру","right":"Справа"}},"list":{"numeric":"Нумированный список","bulleted":"Маркированный список"},"misc":{"setHref":"Пожалуйста, укажите адресс ссылки","emptyItemErr":"Этот элемент не может быть пустым","contentEdit":"Редактирование контента","contentDisplay":"Отображение контента"},"dnd":{"emptyItem":"Перетаскиваемый элемент должен быть заполнен","unboundNest":"Гнездо не связано ни с одним элементом","multipleHint":"Множественный перенос","setMultiple":"Множественный перенос","unsetMultiple":"Одиночный перенос","mode":{"single":"Установить одиночный режим","multiple":"Установить множественный режим"}},"exp":{"errAloneControl":"Эту формулу нужно исправить. Вместо использования \\\\Input или \\\\Select в формуле в данном случае нужно воспользоваться стандартным контролом!","incorrect":"Пожалуйста, укажите корректное мат. выражение. Выражение должно содержать знак равенства, состоять только из цифр и десятичных разделителей, арифметических знаков и круглых скобок. Все вводимые выражения должны быть размещены в {}, будучи разделёнными знаком |."},"model":{"setBgColor":"Установить фоновый цвет (#RGB)","promptBgColor":"Укажите фоновый цвет в формате #RRGGBB","resetProjection":"Сбросить расположение камеры","setHeight":"Задать высоту (в % от ширины)","promptHeight":"Укажите высоту в %-ах от ширины 3D-блока"},"set":{"border":{"title":"Границы","none":"Без границ","inner":"Каждый блок по отдельности","mesh":"Табличный вид"},"align":{"title":"Выравнивание по гор-ли","auto":"По-умолчанию","left":"По левому краю","center":"По центру","right":"По правому краю"},"valign":{"title":"Выравнивание по вер-ли","auto":"По-умолчанию","top":"По верху","middle":"По центру","bottom":"По низу"},"layout":{"title":"Макет","auto":"Плитка","fit":"Ширина по содержимому"},"width":{"title":"Ширина блока","auto":"По-умолчанию","small":"1x","medium":"2x","big":"3x","row":"всю строку"},"margin":{"title":"Внешние отступы","min":"Минимальные","medium":"Средние","max":"Большие"},"padding":{"title":"Внутренние отступы","auto":"По-умолчанию","min":"Минимальные","medium":"Средние","max":"Большие"},"bg":{"title":"Фон","auto":"По-умолчанию","false":"Прозрачный","true":"Непрозрачный"}},"longMath":{"toggle":"Вкл./выкл. режим заполнения","empty":"Необходимо пересоздать фрагмент","notNum":"Пожалуйста, укажите число","notPositive":"Число должно быть положительным","cantCalc":"Ошибка при вычислениях","aLowerB":"Укажите второе число меньшим либо равным первому","bNot0":"Укажите ненулевое значение","onlyInt":"Поддерживаются только целые числа"},"audio":{"set":"Задать аудио-дорожку","del":"Убрать аудио-дорожку"},"gallery":{},"widget":{"setHeight":"Задать высоту (в % от ширины)","promptHeight":"Укажите высоту в %-ах от ширины виджета"},"sortable":{"no-homo":"Сортируемые элементы не должны иметь одинаковые содержания"}}}}')},605:function(e){e.exports=JSON.parse('{"ru":{"choice":{"isMultiple":"Несколько правильных вариантов ответа","randomOrder":"Случайный порядок"}},"en":{"choice":{"isMultiple":"Several right answers","randomOrder":"Random order"}}}')},606:function(e){e.exports=JSON.parse('{"en":{"conn":{"singleMode":"1x1 mode"}},"ru":{"conn":{"singleMode":"Режим 1 к 1"}}}')},607:function(e){e.exports=JSON.parse('{"ru":{"expressions":{"expHintsLegend":"Целевые подсказки","chooseHint":"Выбрать интерактивный элемент, для которого нужно задать собственные подсказки","alreadyUsed":"Для данного элемента уже задана подсказка","freeHintErr":"Эта подсказка не связана ни с одним существующим элементом!"}},"en":{"expressions":{"expHintsLegend":"Target hints","chooseHint":"Choose interactive element, and create for its personal hints","alreadyUsed":"The hint for this element already exists","freeHintErr":"The hint doesn\'t link to any valid element"}}}')},608:function(e){e.exports=JSON.parse('{"en":{"new":{"choose":"Choose type:"}},"ru":{"new":{"choose":"Выберите тип:"}}}')},609:function(e){e.exports=JSON.parse('{"ru":{"sort":{"items":"Элементы для сортировки"}},"en":{"sort":{"items":"Sorted items"}}}')},610:function(e){e.exports=JSON.parse('{"en":{"plot":{"meshTooSmall":"Grid step is too small","legendTooSmall":"Legend step is too small","fnErr":{"isEmpty":"Please assign curve\'s function","parse":"Couldn\'t parse the equation: \'%s\'. Error: \'%s\'.","boundsIncorrect":"Incorrect axis bound value.","boundsFromMore":"The \'from\'-boundary must be below \'to\'-boundary","boundsToLess":"The \'to\'-boundary must be above \'from\'-boundary"}}},"ru":{"plot":{"meshTooSmall":"Шаг сетки слишком мал","legendTooSmall":"Шаг легенды слишком мал","fnErr":{"isEmpty":"Не задана функция для кривой","parse":"Не удалось распознать уравнение: \'%s\'. Ошибка: \'%s\'.","boundsIncorrect":"Некорректное значение границы оси.","boundsFromMore":"Граница \'от\' должна быть меньше границы \'до\'","boundsToLess":"Граница \'до\' должна быть больше границы \'от\'"}}}}')},611:function(e){e.exports=JSON.parse('{"en":{"plotEdit":{"dialogTitle":"Graph editor","apply":"Apply","cancel":"Cancel","boundsErr":{"boundsIncorrect":"Incorrect axis bound value. Please assign a number.","boundsFromMore":"The \'from\'-boundary must be below \'to\'-boundary","boundsToLess":"The \'to\'-boundary must be above \'from\'-boundary"},"grid":{"tabLabel":"Background","horAxis":"Horisontal axis (oX)","verAxis":"Vertical axis (oY)","legend":"Legend","lp":{"label":"Placement","before":"After axis","after":"Before axis"},"ls":{"label":"Legend step","incorrect":"Please, assign a correct legend step. Fraction part of it must be one of: 0.1, 0.2, 0.25 or 0.5"},"an":{"label":"Axis name","auto":"Auto","before":"Before axis","after":"After axis"},"bounds":{"label":"Boundaries","from":"From","to":"To"},"mesh":{"label":"Mesh","useGrid":"Draw a grid","isEnabled":"Show axis","step":"Mesh step","incorrectStep":"Please, assign a correct grid step. Fraction part of it must be one of: 0.1, 0.2, 0.25 or 0.5"}},"curve":{"tabLabel":"Curves","fn":{"fnX":"X = ","fnY":"Y = "},"color":"Color","optimize":"Optimize","optimizeHint":"Disable this option if the curves is drawn incorrect","bounds":{"hor":"oX:","ver":"oY:","from":"From","to":"To","label":"Границы"},"askDel":"Remove this curve?","role":{"label":"Role","display":"None","choose":"For choosing","shift":"For shift"},"display":{"label":"Show when","always":"always","failure":"failure","success":"success","isCorrect":"It is a correct answer","isExcess":"Hide after check"},"shift":{"hor":"Shift by X","ver":"Shift by Y","incorrect":"Incorrect shift value. Please set a correct value. The value must be divisibly by legend step value"}},"point":{"tabLabel":"Points","askDel":"Remove this point?","coordErr":"Incorrect coordinate. Please, assign a number","color":"Color","label":"Name","pm":{"label":"Placement","top-left":"Top left","top-right":"Top right","bottom-left":"Bottom left","bottom-right":"Bottom right"},"role":{"label":"Role","display":"None","choose":"For choosing"},"display":{"label":"Show when","always":"always","failure":"failure","success":"success"},"limit":"Limit points quantity","limitHint":"If true user won\'t set more points then needed"}}},"ru":{"plotEdit":{"dialogTitle":"Редактор графика","apply":"Применить","cancel":"Отменить","boundsErr":{"boundsIncorrect":"Некорректное значение границы оси. Необходимо указать число.","boundsFromMore":"Граница \'от\' должна быть меньше границы \'до\'","boundsToLess":"Граница \'до\' должна быть больше границы \'от\'"},"grid":{"tabLabel":"Фон","horAxis":"По горизонтали (oX)","verAxis":"По вертикали (oY)","legend":"Легенда","lp":{"label":"Расположение","before":"Перед осью","after":"После оси"},"ls":{"label":"Шаг легенды","incorrect":"Пожалуйста, укажите корректный шаг легенды. Дробная часть должна быть 0.1, 0.2, 0.25 либо 0.5"},"an":{"label":"Название оси","auto":"Автоматически","before":"Перед осью","after":"После оси"},"bounds":{"label":"Границы","from":"От","to":"До"},"mesh":{"label":"Сетка","useGrid":"Показывать сетку","isEnabled":"Показывать ось","step":"Шаг сетки","incorrectStep":"Пожалуйста, укажите корректный шаг сетки. Дробная часть должна быть 0.1, 0.2, 0.25 либо 0.5","tooMuchStep":"Шаг сетки слишком мал"}},"curve":{"tabLabel":"Кривые","fn":{"fnX":"X = ","fnY":"Y = "},"color":"Цвет","optimize":"Оптимизировать","optimizeHint":"Отключите эту опцию, если функция отображается некорректно","bounds":{"hor":"oX:","ver":"oY:","from":"От","to":"До","label":"Границы"},"askDel":"Удалить эту кривую?","role":{"label":"Роль","display":"Нет","choose":"Кривую нужно выбрать","shift":"Сдвиг"},"display":{"label":"Показывать","always":"Всегда","failure":"При неправильном ответе","success":"При правильном ответе","isCorrect":"Правильный ответ","isExcess":"Скрывать после проверки"},"shift":{"hor":"Сдвиг по X","ver":"Сдвиг по Y","incorrect":"Указан некорректный сдвиг. Укажите число кратное размеру сетки"}},"point":{"tabLabel":"Точки","askDel":"Удалить эту точку?","coordErr":"Некорректная координата. Укажите число","color":"Цвет","label":"Имя","pm":{"label":"Расположение","top-left":"Сверху слева","top-right":"Сверху справа","bottom-left":"Снизу слева","bottom-right":"Снизу справа"},"role":{"label":"Роль","display":"Нет","choose":"Точку нужно выбрать"},"display":{"label":"Показывать","always":"Всегда","failure":"При неправильном ответе","success":"При правильном ответе"},"limit":"Ограничить количество выбираемых точек","limitHint":"Если галочка установлена, то пользователь не сможет установить точек больше, чем нужно для правильного ответа"}}}}')},612:function(e){e.exports=JSON.parse('{"ru":{"markWords":{"mark":{"askDel":"Вы уверены что хотите удалить маркировку?"},"markPanel":"Панель маркировок","markText":"Текст для маркировок","warning":{"no-marks":"Вы использовали несуществующие маркировки"}}},"en":{"markWords":{"mark":{"askDel":"Are you sure you want to delete mark item?"},"markPanel":"Markings panel","markText":"Текст для маркировок","warning":{"no-marks":"You used inexistent markings"}}}}')},613:function(e){e.exports=JSON.parse('{"en":{"common":{"warning":{"title":"Warning","no-exp":"This element does not support expression elements"},"placeholder":"Placeholder (empty value)"},"custom":{"hints":{"blockTitle":"The tips","rightTip":"The tip for a right solution","wrongTip":"The tip for a wrong solution","solution":"Solution"}}},"ru":{"common":{"warning":{"title":"Внимание","no-exp":"Этот элемент не поддерживает элементы типа expressions"},"placeholder":"Описание (пустое значение)"},"custom":{"hints":{"blockTitle":"Подсказки","rightTip":"Подсказка при правильном ответе","wrongTip":"Подсказка при неправильном ответе","solution":"Решение"},"sor":{"sorModule":"Модуль СОР","sorTitle":"Критерий оценивания:"}}}}')},620:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var r=n(251),o=n.n(r),i=n(55),c=n.n(i),a=n(17),u=n.n(a),l=n(1),f=n.n(l),s=n(0),p=n.n(s),y=n(258),b=n(27),d=n(126),h=n(2),v=n(425);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(l,t);var n,r,i,a=E(l);function l(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),C(_(n=a.call(this,t)),"lazyRecalc",c()((function(){n.unmounted||n.setState(n.tryGenPoints())}),200)),C(_(n),"err",(function(e){var t=n.props.tt;return e.isPlotErr?t.apply(void 0,["fnErr.".concat(e.key)].concat(w(e.params))):String(e)})),C(_(n),"onClick",(function(){var e=n.props.curve;(0,e.onClick)(e.id)})),C(_(n),"onMouseEnter",(function(){n.props.wpoint.block()})),C(_(n),"onMouseLeave",(function(){n.constructor.inDND||n.props.wpoint.unblock()})),C(_(n),"dnd",{}),C(_(n),"canDrag",(function(){return!!n.props.curve.onMove})),C(_(n),"onDragStart",(function(e){n.constructor.inDND=!0,n.dnd.point=Object(b.o)(e.target.closest("svg"));var t=n.dnd.start=n.dnd.point.convert(e),r=n.props.curve;return"number"==typeof r.dx&&(t.x-=r.dx,t.y-=r.dy),n.calcMoveBounds(),n.props.wpoint.block(),v.a.start(_(n))})),C(_(n),"CLING_DIST",.2),C(_(n),"onDragMove",(function(e){var t=n.dnd.point.diff(e,n.dnd.start),r=t.x,o=t.y,i=n.props,c=i.stepHor,a=i.stepVer,u=n.dnd.bounds,l=u.hor,f=u.ver,s=Object(b.f)(r,c,n.CLING_DIST,l),p=Object(b.f)(o,a,n.CLING_DIST,f);n.setState({dx:s,dy:p})})),C(_(n),"onDragEnd",(function(){var t=n.calcMoveShift(),r=t.x,o=t.y;n.constructor.inDND=!1,n.dnd={},e((function(){n.props.wpoint.unblock()}));var i=n.props.curve;i.dx===r&&i.dy===o||n.props.curve.onMove(i.id,r,o),n.setState({dx:null,dy:null})})),C(_(n),"defRole","display"),C(_(n),"defDisplay","always"),n.state=j(j({},n.tryGenPoints()),{},{dx:null,dy:null}),n}return n=l,(r=[{key:"getBoundsByMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.curve,r="hor"===e?this.props.boundsHor:this.props.boundsVer;t&&(r=Object(y.b)(r));var o="hor"===e?n.boundsHor:n.boundsVer;return o?Object(y.a)(r,o):r}},{key:"getBounds",value:function(e){return{hor:this.getBoundsByMode("hor",e),ver:this.getBoundsByMode("ver",e)}}},{key:"genShiftShadow",value:function(e,t){var n=u()(t,"x",0),r=Object(b.p)(u()(t,"y",0));if(0===n&&0===r)return[];var o="translate(".concat(n,", ").concat(r,")");return e.map((function(e){return{role:"shift-shadow",display:"always",points:e.points,transform:o}}))}},{key:"tryGenPoints",value:function(){var e=[],t=null;try{var n=this.props,r=n.k,o=n.curve,i=Object(y.d)(o);if(i.length)throw i;var c=o.display||this.defDisplay,a=o.role||this.defRole,u=this.getBounds("shift"===a);if(e=Object(y.c)(o,r,u).map((function(e){return{points:e,display:c,role:a}})),"shift"===o.role){var l,f=this.genShiftShadow(e,o.shift);(l=e).push.apply(l,w(f))}}catch(i){t=this.handleErrors(i)}return{segments:e,errors:t}}},{key:"componentWillReceiveProps",value:function(e){Object(h.n)(this.props,e)||this.lazyRecalc()}},{key:"handleErrors",value:function(e){return Array.isArray(e)?e.map(this.err):[this.err(e)]}},{key:"calcMoveBounds",value:function(){var e=this.props,t=e.boundsHor,n=e.boundsVer,r=e.stepHor,o=e.stepVer;this.dnd.bounds=Object(b.e)(this.CLING_DIST,t,n,r,o)}},{key:"calcMoveShift",value:function(){var e=this.state,t=e.dx,n=e.dy,r=this.props,o=r.stepHor,i=r.stepVer,c=this.dnd.bounds,a=c.hor,u=c.ver;return{x:t%o==0?t:Object(b.f)(t,o,1,a),y:n%i==0?n:Object(b.f)(n,i,1,u)}}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"genTransform",value:function(e){if(e.transform)return e.transform;var t=0,n=0,r=this.props.curve;return o()(r.dx)&&(t=r.dx,n=r.dy),null!==this.state.dx&&(t=this.state.dx,n=this.state.dy),0===t&&0===n?null:"translate(".concat(t,", ").concat(-n,")")}},{key:"render",value:function(){var e=this.props.curve,t=e.color,n=e.onClick,r=e.onMove,o=e.cls,i=this.state,c=i.segments,a=i.errors,u=e.role||this.defRole,l=["shift","choose"].includes(u),s=r||n;return f.a.createElement("g",g({className:"bllx-plot-curve ".concat(o||"")},v.a.genEvents(this),{"data-curve":e.fnY,onClick:Object(h.v)(n&&this.onClick),onMouseEnter:Object(h.v)(s&&this.onMouseEnter),onMouseLeave:Object(h.v)(s&&this.onMouseLeave),"data-clickable":!!n||void 0}),f.a.createElement(d.a,{errors:a}),c.map((function(e,n){return[l?f.a.createElement("polyline",{key:n+"-bg",stroke:t,points:e.points,"data-display":e.display,"data-role":e.role,"data-bg":!0,transform:this.genTransform(e)}):null,f.a.createElement("polyline",{key:n,stroke:t,points:e.points,"data-display":e.display,"data-role":e.role,"data-front":!0,transform:this.genTransform(e)})]}),this))}}])&&R(n.prototype,r),i&&R(n,i),l}(f.a.PureComponent);C(T,"propTypes",{curve:p.a.shape({color:p.a.string.isRequired,fnY:p.a.string,fnX:p.a.string,boundsHor:p.a.arrayOf(p.a.number),boundsVer:p.a.arrayOf(p.a.number),role:p.a.oneOf(["display","choose","shift"]),display:p.a.oneOf(["always","failure","success"]),isCorrect:p.a.bool,isExcess:p.a.bool,onClick:p.a.func,onMove:p.a.func,id:p.a.any,shift:p.a.shape({x:p.a.number,y:p.a.number}),mode:p.a.oneOf(["hor","ver"]),binaryOptimize:p.a.bool,ortoOptimize:p.a.bool,optimize:p.a.bool}).isRequired,boundsHor:p.a.arrayOf(p.a.number).isRequired,boundsVer:p.a.arrayOf(p.a.number).isRequired,stepHor:p.a.number.isRequired,stepVer:p.a.number.isRequired,k:p.a.shape({kx:p.a.number.isRequired,ky:p.a.number.isRequired}).isRequired,tt:p.a.func.isRequired,wpoint:p.a.object})}).call(this,n(62).setImmediate)},623:function(e){e.exports=JSON.parse('{"ru":{"ui":{"ok":"Ok","apply":"Применить","cancel":"Отмена"}},"en":{"ui":{"ok":"Ok","apply":"Apply","cancel":"Cancel"}}}')},626:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(34),o=n(211),i=n(6),c=n(322);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function t(n){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"subDispatch",(function(e,t){u._dispatch(Object(r.o)(e,t))})),a(this,"replaceIn",(function(e,t){return u._dispatch(Object(r.h)(e,t))})),a(this,"replaceInIgnore",(function(e,t){return u._dispatch(Object(r.i)(e,t))})),a(this,"reorder",(function(e,t,n){return u._dispatch(Object(r.g)(e,t,n))})),a(this,"sel",(function(e){var t=u._getProps(),n=t.sel;t.isEditing&&e!==n&&u._dispatch(Object(r.j)(e))})),a(this,"append",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;u._dispatch(Object(r.b)(t,n)),e(u.focusSelected)})),a(this,"paste",(function(e,t){var n=Object(o.a)(e,t);return u._dispatch(n)})),a(this,"focusSelected",(function(){var e=u._getProps().sel;u._focusByCid(e)})),a(this,"tryToFocusSelected",(function(){var e=u._getProps(),t=e.sel,n=e.data,r=u.getRegionBlock().querySelector('[data-cid="'.concat(t,'"]')),o=r&&i.a.get(n,t);o&&r&&c.a.focus(o,r)})),a(this,"tryFallCreate",(function(t,n){var o=u._getProps().data;i.a.canFallCreate(o,n)&&(document.activeElement&&document.activeElement.blur(),e((function(){u._dispatch(Object(r.f)(t,n)),e(u.focusSelected)})))})),a(this,"getRegionBlock",(function(){return u._block.current})),a(this,"_focusByCid",(function(e){var t=u.getRegionBlock();if(t){var n='[data-cid="'.concat(e,'"] .bllc-c-text-editable'),r=t.querySelector(n);r&&(r.focus(),document.execCommand("selectAll",!1,null))}})),a(this,"chooseAsset",(function(e,t){var n=u._lapi().chooseAsset;return u._dispatch(n(e,t))})),a(this,"copy",(function(){var e=u._lapi(),t=e.copy;u._dispatch(t.apply(void 0,arguments))})),a(this,"getLessonUrl",(function(){var e;return(e=u._lapi()).getLessonUrl.apply(e,arguments)}));var l=n.block,f=n.dispatch,s=n.getProps,p=n.path,y=n.getLessonApi,b=n.regionId,d=n.withExpressions;this._block=l,this._dispatch=f,this._lapi=y,this.path=p,this.regionId=b,this.withExpressions=d||!1,this._getProps=s}}).call(this,n(62).setImmediate)},627:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return z}));var r,o,i,c,a=n(122),u=n.n(a),l=n(1),f=n.n(l),s=n(0),p=n.n(s),y=n(7),b=n(2),d=n(15);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(t){j(r,t);var n=P(r);function r(){var t;m(this,r);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return k(S(t=n.call.apply(n,[this].concat(i))),"setPage",(function(){t.props.setPage(t.props.page),e((function(){document.body.scrollTop=0}))})),t}return O(r,[{key:"render",value:function(){var e=this.props,t=e.page,n=e.title,r=e.isActive,o=e.isContentEdit,i=Object(b.h)("bllc-pag-item",r&&"bllc-pag-active",o&&"bllc-pag-content-edit");return f.a.createElement("div",v({className:i,"data-page":t},{title:n},{onClick:this.setPage}),t+1)}}]),r}(f.a.PureComponent);k(_,"propTypes",{page:p.a.number.isRequired,title:p.a.string.isRequired,isActive:p.a.bool.isRequired,setPage:p.a.func.isRequired,isContentEdit:p.a.bool.isRequired});var x,C,T,D,A,q,z=(r=Object(d.c)("pagination."),c=i=function(e){j(n,e);var t=P(n);function n(){var e;m(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return k(S(e=t.call.apply(t,[this].concat(o))),"canPrev",(function(){return e.props.page>0})),k(S(e),"navPrev",(function(){var t=e.props.page;e.canPrev()&&e.props.setPage(t-1)})),k(S(e),"canNext",(function(){return e.props.page<e.props.count-1})),k(S(e),"navNext",(function(){var t=e.props,n=t.page;n<t.count-1&&e.props.setPage(n+1)})),e}return O(n,[{key:"render",value:function(e){var t=this.props,n=t.setPage,r=t.page,o=t.count,i=t.position,c=t.contentEditPage,a=t.titles,l=Object(b.h)("bllc-pagination","bllc-".concat(i));return f.a.createElement("div",{className:l},f.a.createElement(y.d,{icon:"left-open",onClick:this.navPrev,title:e("prev"),cls:"bllc-pag-back",disabled:!this.canPrev()}),f.a.createElement("div",{className:"bllc-pag-numbers"},u()(0,o).map((function(e,t){return f.a.createElement(_,{key:e,page:e,title:a[e],setPage:n,isActive:e===r,isContentEdit:c===e})}),this)),f.a.createElement(y.d,{icon:"right-open",onClick:this.navNext,title:e("next"),cls:"bllc-pag-next",disabled:!this.canNext()}))}}]),n}(f.a.PureComponent),k(i,"propTypes",{page:p.a.number.isRequired,count:p.a.number.isRequired,position:p.a.oneOf(["top","bottom"]).isRequired,titles:p.a.arrayOf(p.a.string).isRequired,setPage:p.a.func.isRequired,contentEditPage:p.a.number.isRequired}),x=(o=c).prototype,C="render",T=[r],D=Object.getOwnPropertyDescriptor(o.prototype,"render"),A=o.prototype,q={},Object.keys(D).forEach((function(e){q[e]=D[e]})),q.enumerable=!!q.enumerable,q.configurable=!!q.configurable,("value"in q||q.initializer)&&(q.writable=!0),q=T.slice().reverse().reduce((function(e,t){return t(x,C,e)||e}),q),A&&void 0!==q.initializer&&(q.value=q.initializer?q.initializer.call(A):void 0,q.initializer=void 0),void 0===q.initializer&&(Object.defineProperty(x,C,q),q=null),o)}).call(this,n(62).setImmediate)},628:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return G}));var r,o,i,c,a=n(23),u=n.n(a),l=n(55),f=n.n(l),s=n(1),p=n.n(s),y=n(0),b=n.n(y),d=(n(1190),n(31)),h=n(74),v=n(110),m=n(25),g=n(432),O=n(629),j=n(30),w=n(3);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function k(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M,B,U,H,F,W,G=(r=Object(w.e)("mods.conn."),c=i=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(c,t);var n,r,o,i=q(c);function c(){var t;T(this,c);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return L(I(t=i.call.apply(i,[this].concat(r))),"del",(function(e,n){t.modDispatch(Object(v.aDel)(e,n))})),L(I(t),"add",(function(n){var r=Object.keys(t.props.module[n]);t.modDispatch(Object(v.aAdd)(n)),e((function(){var e=t.props.module,o=Object.keys(e[n]).find((function(e){return!r.includes(e)}));t.edit(n,o)}))})),L(I(t),"state",{sel:null}),L(I(t),"sel",(function(e,n){var r=C(C({},t.props.state.sel),{},L({},e,n));null!==r.left&&null!==r.right?(t.setState({sel:r}),setTimeout((function(){t.modDispatch(Object(v.aToggle)(r.left,r.right)),t.modDispatch(Object(v.aClean)()),t.setState({sel:null})}),m.a)):t.modDispatch(Object(v.aSel)(e,n))})),L(I(t),"coords",{}),L(I(t),"updateCoords",(function(e,n){t.coords[e]=n,t.updateLines()})),L(I(t),"getCoords",(function(e){return t.coords[e]})),L(I(t),"updateLines",f()((function(){var e,n=E(t.lines);try{for(n.s();!(e=n.n()).done;){(0,S(e.value,2)[1])()}}catch(e){n.e(e)}finally{n.f()}}),20)),L(I(t),"lines",new Map),L(I(t),"setLine",(function(e,n){n?t.lines.set(e,n):t.lines.delete(e)})),L(I(t),"setMode",(function(e){t.modDispatch(Object(v.aSetMode)(e?"single":"multiple"))})),L(I(t),"cssPrefix","conn"),t}return n=c,(r=[{key:"edit",value:function(e,t){var n=this.props.module;Object(h.d)(n.id,"".concat(e,".").concat(t,".content"))}},{key:"render",value:function(e){var t=this.props,n=t.module,r=t.isContentEditing,o=this.state.sel||this.props.state.sel;if(Object.values(n.left).some((function(e){return!("id"in e)})))throw new Error("empty connection relation");var i=C(C({mid:n.id},u()(this,"del","sel","add","updateCoords","getCoords")),{},{selected:o,disabled:r,canAdd:!this.props.isAnyContentEditing,canDel:!this.props.isAnyContentEditing}),c=Object(v.genConnLines)(n),a="single"===n.mode;return p.a.createElement(d.a.Box,null,p.a.createElement(d.a.Description,null),p.a.createElement(j.b,{label:e("singleMode"),value:a,cls:this.c("row"),onChange:this.setMode,role:"conn-mode",disabled:!a&&!Object(v.canSetSingleMode)(n)}),p.a.createElement("div",{className:this.c("box")},p.a.createElement(g.a,R({},i,{mode:"left",data:n.left})),p.a.createElement(O.a,R({lines:c},{getCoords:this.getCoords,setLine:this.setLine})),p.a.createElement(g.a,R({},i,{mode:"right",data:n.right}))),p.a.createElement(d.a.Hints,null))}}])&&D(n.prototype,r),o&&D(n,o),c}(d.a),L(i,"propTypes",{module:b.a.shape({left:b.a.object.isRequired,right:b.a.object.isRequired,description:b.a.array.isRequired}).isRequired,state:b.a.shape({sel:b.a.shape({left:b.a.string,right:b.a.string}).isRequired}).isRequired,isAnyContentEditing:b.a.bool.isRequired}),M=(o=c).prototype,B="render",U=[r],H=Object.getOwnPropertyDescriptor(o.prototype,"render"),F=o.prototype,W={},Object.keys(H).forEach((function(e){W[e]=H[e]})),W.enumerable=!!W.enumerable,W.configurable=!!W.configurable,("value"in W||W.initializer)&&(W.writable=!0),W=U.slice().reverse().reduce((function(e,t){return t(M,B,e)||e}),W),F&&void 0!==W.initializer&&(W.value=W.initializer?W.initializer.call(F):void 0,W.initializer=void 0),void 0===W.initializer&&(Object.defineProperty(M,B,W),W=null),o)}).call(this,n(62).setImmediate)},629:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var r,o,i,c,a=n(1),u=n.n(a),l=n(0),f=n.n(l),s=n(3);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(t){v(r,t);var n=g(r);function r(){var t;b(this,r);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return P(j(t=n.call.apply(n,[this].concat(i))),"setLine",(function(e){t.line=e;var n=t.props,r=n.line,o=r.left,i=r.right;(0,n.setLine)("".concat(o,":").concat(i),e&&t.updateLine)})),P(j(t),"componentDidMount",(function(){return e(t.updateLine)})),P(j(t),"updateLine",(function(){if(t.line){var e=t.props,n=e.getCoords,r=e.line,o=r.left,i=r.right;n(o)&&t.line.setAttribute("y1",n(o).mid),n(i)&&t.line.setAttribute("y2",n(i).mid)}})),t}return h(r,[{key:"render",value:function(){var e=this.props.line,t=e.left,n=e.right;return u.a.createElement("line",{x1:"0",y1:"0",x2:"100%",y2:"0",ref:this.setLine,"data-role":"line-".concat(t,"-").concat(n)})}}]),r}(u.a.PureComponent);P(R,"propTypes",{line:f.a.shape({left:f.a.string.isRequired,right:f.a.string.isRequired}).isRequired,getCoords:f.a.func.isRequired,setLine:f.a.func.isRequired});var S,E,k,_,x,C,T=(r=Object(s.g)("modTools"),c=i=function(e){v(n,e);var t=g(n);function n(){return b(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(e){var t=e.c,n=this.props,r=n.lines,o=n.getCoords,i=n.setLine;return u.a.createElement("div",{className:t("lines")},u.a.createElement("svg",null,r.map((function(e,t){return u.a.createElement(R,p({key:e.left+":"+e.right},{line:e,getCoords:o,setLine:i}))}),this)))}}]),n}(u.a.PureComponent),P(i,"propTypes",{lines:f.a.arrayOf(f.a.object).isRequired,getCoords:f.a.func.isRequired,setLine:f.a.func.isRequired}),S=(o=c).prototype,E="render",k=[r],_=Object.getOwnPropertyDescriptor(o.prototype,"render"),x=o.prototype,C={},Object.keys(_).forEach((function(e){C[e]=_[e]})),C.enumerable=!!C.enumerable,C.configurable=!!C.configurable,("value"in C||C.initializer)&&(C.writable=!0),C=k.slice().reverse().reduce((function(e,t){return t(S,E,e)||e}),C),x&&void 0!==C.initializer&&(C.value=C.initializer?C.initializer.call(x):void 0,C.initializer=void 0),void 0===C.initializer&&(Object.defineProperty(S,E,C),C=null),o)}).call(this,n(62).setImmediate)},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r,o,i,c,a=n(1),u=n.n(a),l=n(0),f=n.n(l),s=n(8),p=n(2),y=n(107),b=n(142);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E,k,_,x,C,T,D=(r=Object(y.b)("app"),c=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,r,o=j(i);function i(){var e;m(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(P(e=o.call.apply(o,[this].concat(n))),"state",{highlighted:!1}),S(P(e),"onClick",(function(t){var n=e.props,r=n.onClick,o=n.disabled,i=n.role;!0!==o&&r(t,i)})),S(P(e),"onKKBFire",(function(){e.unmounted||e.setState({highlighted:!0}),setTimeout((function(){e.unmounted||e.setState({highlighted:!1})}),300)})),S(P(e),"genTitle",Object(s.a)((function(e){return e.title}),(function(e){return e.children}),(function(t,n){var r=e.getKKB(n);return r&&(t="[".concat(r,"] ").concat(t)),t||void 0}))),S(P(e),"genChildren",Object(s.a)((function(e){return e.children}),(function(t){return u.a.Children.map(t,(function(t){if(t.type!==b.a)throw new Error("unknown kind of child in <Icon/>");return u.a.cloneElement(t,{onFire:e.onKKBFire})}))}))),e}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"getPrefix",value:function(e){switch(e){case"constructor":return"bllc";case"platform":return"bllp";default:throw new Error("Unknown app context value: ".concat(e))}}},{key:"getKKB",value:function(e){if(!e)return null;e.find||(e=[e]);var t=e.find((function(e){return e.type===b.a}));if(!t)return null;var n=b.a.kkb.parse(t.props.kkb);return b.a.kkb.display(n)}},{key:"render",value:function(e){var t=this.props,n=t.icon,r=t.onClick,o=t.cls,i=t.isHidden,c=t.disabled,a=t.onMouseDown,l=t.style,f=void 0===l?{}:l,s=t.role,y=t.href,b=t.children,d=this.state.highlighted,h=this.getPrefix(e),m=Object(p.h)("bllx-icon","".concat(h,"-icon-").concat(n),r&&"bllx-icon-btn",o),g=y?"a":"span",O=u.a.createElement(g,{className:m,"data-icon":n,title:this.genTitle(this.props),style:v({visibility:i?"hidden":""},f),onClick:r&&this.onClick,disabled:!0===c,onMouseDown:a,"data-role":s,href:y,target:Object(p.v)(y&&"_blank"),"data-hightlighted":Object(p.v)(d),key:"icon"});return b?[O,this.genChildren(this.props)]:O}}])&&g(t.prototype,n),r&&g(t,r),i}(u.a.PureComponent),S(i,"propTypes",{title:f.a.string,icon:f.a.string.isRequired,onClick:f.a.func,href:f.a.string,cls:f.a.string,disabled:f.a.bool,role:f.a.string}),S(i,"contextTypes",{app:f.a.string}),E=(o=c).prototype,k="render",_=[r],x=Object.getOwnPropertyDescriptor(o.prototype,"render"),C=o.prototype,T={},Object.keys(x).forEach((function(e){T[e]=x[e]})),T.enumerable=!!T.enumerable,T.configurable=!!T.configurable,("value"in T||T.initializer)&&(T.writable=!0),T=_.slice().reverse().reduce((function(e,t){return t(E,k,e)||e}),T),C&&void 0!==T.initializer&&(T.value=T.initializer?T.initializer.call(C):void 0,T.initializer=void 0),void 0===T.initializer&&(Object.defineProperty(E,k,T),T=null),o)},630:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return q}));var r,o,i,c,a=n(1),u=n.n(a),l=n(0),f=n.n(l),s=n(31),p=n(92),y=n(74),b=n(109),d=n(659),h=n(3),v=n(426);n(1192);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,x,C,T,D,A,q=(r=Object(h.e)("mods.choice."),c=i=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(c,t);var n,r,o,i=P(c);function c(){var t;O(this,c);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return k(S(t=i.call.apply(i,[this].concat(r))),"toggleIsMultiple",(function(){return t.modDispatch(Object(b.aToggleIsMultiple)())})),k(S(t),"toggleRandomOrder",(function(){return t.modDispatch(Object(b.aToggleRandomOrder)())})),k(S(t),"add",(function(n){t.modDispatch(Object(b.aAdd)(n)),e((function(){t.edit(n)}))})),k(S(t),"edit",(function(e){var n=t.props.module;Object(y.d)(n.id,"options.".concat(e,".content"))})),t}return n=c,(r=[{key:"hasMultipleAnswers",value:function(){return this.props.module.options.filter((function(e){return e.right})).length>1}},{key:"render",value:function(e){var t=this.props,n=t.module,r=t.isAnyContentEditing,o=n.options,i=n.randomOrder;return u.a.createElement(s.a.Box,null,u.a.createElement(s.a.Description,null),u.a.createElement("div",{className:this.c("config")},u.a.createElement(p.a,{onChange:this.toggleIsMultiple,value:n.isMultiple,role:"isMultiple",disabled:this.hasMultipleAnswers()},e("isMultiple")),u.a.createElement(p.a,{onChange:this.toggleRandomOrder,value:i,role:"randomOrder"},e("randomOrder"))),u.a.createElement(v.a,{add:this.add,idx:0,disabled:r}),u.a.createElement(d.a,g({randomOrder:i,options:o,isAnyContentEditing:r},{canHandleList:!r&&!i,modDispatch:this.modDispatch})),u.a.createElement(v.a,{add:this.add,idx:o.length,disabled:r}),u.a.createElement(s.a.Hints,null))}}])&&j(n.prototype,r),o&&j(n,o),c}(s.a),k(i,"propTypes",{module:f.a.shape({isMultiple:f.a.bool.isRequired,randomOrder:f.a.bool.isRequired,options:f.a.array.isRequired}).isRequired,isAnyContentEditing:f.a.bool.isRequired}),_=(o=c).prototype,x="render",C=[r],T=Object.getOwnPropertyDescriptor(o.prototype,"render"),D=o.prototype,A={},Object.keys(T).forEach((function(e){A[e]=T[e]})),A.enumerable=!!A.enumerable,A.configurable=!!A.configurable,("value"in A||A.initializer)&&(A.writable=!0),A=C.slice().reverse().reduce((function(e,t){return t(_,x,e)||e}),A),D&&void 0!==A.initializer&&(A.value=A.initializer?A.initializer.call(D):void 0,A.initializer=void 0),void 0===A.initializer&&(Object.defineProperty(_,x,A),A=null),o)}).call(this,n(62).setImmediate)},631:function(e,t,n){"use strict";(function(e){var r,o,i,c,a=n(23),u=n.n(a),l=n(1),f=n.n(l),s=n(0),p=n.n(s),y=n(8),b=n(25),d=n(40),h=n(314),v=n(632),m=n(145),g=n(3);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D,A,q,z,I,N,L=[],M=function(e){E(n,e);var t=_(n);function n(){return P(this,n),t.apply(this,arguments)}return S(n,[{key:"render",value:function(){return f.a.createElement("div",{className:"bllp-exp-hints-list"},this.props.hints.map((function(e,t){return f.a.createElement(v.a,w({key:e.id},{hint:e,idx:t},u()(this.props,"t","disabled","dispatch","usedExp","expIds")))}),this))}}]),n}(f.a.PureComponent),B=(r=Object(g.e)("mods.expressions."),c=i=function(t){E(r,t);var n=_(r);function r(){var t;P(this,r);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return O(C(t=n.call.apply(n,[this].concat(i))),"setBlock",(function(e){t.block=e})),O(C(t),"onChoose",(function(n){if("exp"===n.type){if(t.usedExp(t.props).has(n.eid))return;t.props.dispatch(Object(m.aAddHint)(n.eid)),e((function(){t.scrollToHint(n.eid)}))}})),O(C(t),"usedExp",Object(y.a)((function(e){return e.expHints||L}),(function(e){return new Set(e.map((function(e){return e.id})))}))),t}return S(r,[{key:"scrollToHint",value:function(e){var t=this.block.querySelector('[data-exp-hint-id="'.concat(e,'"]'));t.scrollIntoView({block:"center"}),Object(b.f)(t)}},{key:"render",value:function(e){var t=this.props,n=t.disabled,r=t.expHints,o=t.expIds,i=t.dispatch,c=this.usedExp(this.props);return f.a.createElement("fieldset",{className:" bllc-fieldset bllc-mod-hints-box bllc-exp-hints",ref:this.setBlock},f.a.createElement("legend",null,e("expHintsLegend"),f.a.createElement(h.a,w({disabled:n,usedExp:c},{onChoose:this.onChoose}))),f.a.createElement(M,w({hints:r},{disabled:n,usedExp:c,expIds:o,dispatch:i})))}}]),r}(f.a.PureComponent),O(i,"propTypes",{disabled:p.a.bool.isRequired,expHints:p.a.array.isRequired,expIds:p.a.instanceOf(Set).isRequired,dispatch:p.a.func.isRequired}),D=(o=c).prototype,A="render",q=[r],z=Object.getOwnPropertyDescriptor(o.prototype,"render"),I=o.prototype,N={},Object.keys(z).forEach((function(e){N[e]=z[e]})),N.enumerable=!!N.enumerable,N.configurable=!!N.configurable,("value"in N||N.initializer)&&(N.writable=!0),N=q.slice().reverse().reduce((function(e,t){return t(D,A,e)||e}),N),I&&void 0!==N.initializer&&(N.value=N.initializer?N.initializer.call(I):void 0,N.initializer=void 0),void 0===N.initializer&&(Object.defineProperty(D,A,N),N=null),o);t.a=Object(d.e)(B,"bllc-fieldset")}).call(this,n(62).setImmediate)},632:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r,o,i,c,a,u=n(1),l=n.n(u),f=n(0),s=n.n(f),p=n(74),y=n(25),b=n(2),d=n(9),h=n(314),v=n(94),m=n(145),g=n(75),O=n(3);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T,D,A,q,z,I,N=(r=Object(O.g)("mid"),o=Object(O.e)("mods.expressions."),a=c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(i,e);var t,n,r,o=E(i);function i(){var e;P(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(_(e=o.call.apply(o,[this].concat(n))),"del",(function(){var t=e.props,n=t.dispatch,r=t.hint;n(Object(m.aDelHint)(r.id))})),C(_(e),"onChoose",(function(t){if("exp"===t.type){var n=e.props,r=n.dispatch,o=n.usedExp,i=n.hint;if(o.has(t.eid))return void Object(y.e)(e.cx.tt("alreadyUsed"));r(Object(m.aSetHint)(i.id,t.eid))}})),C(_(e),"getMainBlock",(function(){var t=e.cx.mid;return Object(p.c)(t,"content")})),C(_(e),"onMouseEnter",(function(){e.hightlight(!0)})),C(_(e),"onMouseLeave",(function(){e.hightlight(!1)})),e}return t=i,(n=[{key:"renderRegion",value:function(e){var t=this.props.idx,n=e?"right":"wrong",r=this.cx.t.pre("mods.custom.hints.");return l.a.createElement("div",{className:"bllc-exp-hints-region"},l.a.createElement(d.a,{icon:e?"check":"check-empty",title:r(e?"rightTip":"wrongTip")}),l.a.createElement(g.a,{path:"hints.exp.".concat(t,".").concat(n)}))}},{key:"getBoundExpItem",value:function(){var e=this.props.hint.id;return v.a.byEid(this.getMainBlock(),e)}},{key:"hightlight",value:function(e){if(!v.a.isChoosing){var t=this.getBoundExpItem();t&&v.a.hightlight(t,e)}}},{key:"componentWillUnmount",value:function(){this.hightlight(!1)}},{key:"render",value:function(e,t){var n=this.props,r=n.disabled,o=n.hint,i=n.usedExp,c=!n.expIds.has(o.id),a=Object(b.h)("bllc-exp-hints-item",c&&"bllc-exp-hi-illegal");return l.a.createElement("div",{className:a,"data-exp-hint-id":o.id,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},l.a.createElement("div",{className:"bllc-exp-hints-regions"},this.renderRegion(!0),this.renderRegion(!1)),l.a.createElement("div",{className:"bllc-exp-hi-icons"},l.a.createElement(d.a,{cls:"bllc-exp-hi-del",icon:"trash",disabled:r,onClick:this.del}),l.a.createElement(h.a,w({disabled:r,usedExp:i},{onChoose:this.onChoose})),c?l.a.createElement(d.a,{icon:"attention-alt",cls:"bllc-exp-hi-erricon",title:t("freeHintErr")}):null))}}])&&R(t.prototype,n),r&&R(t,r),i}(l.a.PureComponent),C(c,"propTypes",{idx:s.a.number.isRequired,disabled:s.a.bool.isRequired,dispatch:s.a.func.isRequired,usedExp:s.a.instanceOf(Set).isRequired,expIds:s.a.instanceOf(Set).isRequired,hint:s.a.shape({id:s.a.string.isRequired,right:s.a.array.isRequired,wrong:s.a.array.isRequired}).isRequired}),T=(i=a).prototype,D="render",A=[r,o],q=Object.getOwnPropertyDescriptor(i.prototype,"render"),z=i.prototype,I={},Object.keys(q).forEach((function(e){I[e]=q[e]})),I.enumerable=!!I.enumerable,I.configurable=!!I.configurable,("value"in I||I.initializer)&&(I.writable=!0),I=A.slice().reverse().reduce((function(e,t){return t(T,D,e)||e}),I),z&&void 0!==I.initializer&&(I.value=I.initializer?I.initializer.call(z):void 0,I.initializer=void 0),void 0===I.initializer&&(Object.defineProperty(T,D,I),I=null),i)},633:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return z}));var r,o,i,c,a=n(23),u=n.n(a),l=n(1),f=n.n(l),s=n(0),p=n.n(s),y=n(31),b=n(160),d=n(74),h=n(427),v=n(660),m=n(3);n(1194);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x,C,T,D,A,q,z=(r=Object(m.e)("mods.sort."),c=i=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(c,t);var n,r,o,i=R(c);function c(){var t;j(this,c);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _(E(t=i.call.apply(i,[this].concat(r))),"del",(function(e){return t.modDispatch(Object(b.aDel)(e))})),_(E(t),"move",(function(e,n){return t.modDispatch(Object(b.aMove)(e,n))})),_(E(t),"add",(function(n){t.modDispatch(Object(b.aAdd)(n)),e((function(){t.edit(n)}))})),_(E(t),"edit",(function(e){var n=t.props.module;Object(d.d)(n.id,"items.".concat(e))})),t}return n=c,(r=[{key:"render",value:function(e){var t=this.props,n=t.module,r=t.isAnyContentEditing,o=n.items;return f.a.createElement(y.a.Box,null,f.a.createElement(y.a.Description,null),f.a.createElement("fieldset",{className:"bllc-fieldset ".concat(this.c("box"))},f.a.createElement("legend",null,e("items")),f.a.createElement(h.a,{add:this.add,idx:0,disabled:r}),f.a.createElement(v.a,O({items:o},{canMove:!r,canDel:!r&&o.length>1},u()(this,"del","move"))),f.a.createElement(h.a,{add:this.add,idx:o.length,disabled:r})),f.a.createElement(y.a.Hints,null))}}])&&w(n.prototype,r),o&&w(n,o),c}(y.a),_(i,"propTypes",{module:p.a.shape({items:p.a.arrayOf(p.a.array.isRequired).isRequired}),isAnyContentEditing:p.a.bool.isRequired}),x=(o=c).prototype,C="render",T=[r],D=Object.getOwnPropertyDescriptor(o.prototype,"render"),A=o.prototype,q={},Object.keys(D).forEach((function(e){q[e]=D[e]})),q.enumerable=!!q.enumerable,q.configurable=!!q.configurable,("value"in q||q.initializer)&&(q.writable=!0),q=T.slice().reverse().reduce((function(e,t){return t(x,C,e)||e}),q),A&&void 0!==q.initializer&&(q.value=q.initializer?q.initializer.call(A):void 0,q.initializer=void 0),void 0===q.initializer&&(Object.defineProperty(x,C,q),q=null),o)}).call(this,n(62).setImmediate)},634:function(e){e.exports=JSON.parse('["magenta","orange","aqua","sky","chocolate","olive"]')},635:function(e){e.exports=JSON.parse('["line","doubleline","wavy","dashed","dotted-dashed"]')},636:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var r,o,i,c,a=n(1),u=n.n(a),l=n(0),f=n.n(l),s=n(74),p=n(9),y=n(3),b=n(123);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R,S,E,k,_,x,C=(r=Object(y.g)("modTools"),c=i=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,t);var n,r,o,i=g(c);function c(){var t;h(this,c);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return P(j(t=i.call.apply(i,[this].concat(r))),"add",(function(){(0,t.cx.modTools.modDispatch)(Object(b.aAddMark)()),e(t.edit)})),P(j(t),"edit",(function(){var e=t.props,n=e.mid,r=e.idx;Object(s.d)(n,"marks.".concat(r,".content"))})),t}return n=c,(r=[{key:"render",value:function(e){var t=e.c,n=this.props.disabled;return u.a.createElement("div",{className:t("addpanel")},u.a.createElement(p.a,{role:"mark-add",disabled:n,icon:"plus",onClick:this.add}))}}])&&v(n.prototype,r),o&&v(n,o),c}(u.a.PureComponent),P(i,"propTypes",{disabled:f.a.bool.isRequired,mid:f.a.string.isRequired,idx:f.a.number.isRequired}),R=(o=c).prototype,S="render",E=[r],k=Object.getOwnPropertyDescriptor(o.prototype,"render"),_=o.prototype,x={},Object.keys(k).forEach((function(e){x[e]=k[e]})),x.enumerable=!!x.enumerable,x.configurable=!!x.configurable,("value"in x||x.initializer)&&(x.writable=!0),x=E.slice().reverse().reduce((function(e,t){return t(R,S,e)||e}),x),_&&void 0!==x.initializer&&(x.value=x.initializer?x.initializer.call(_):void 0,x.initializer=void 0),void 0===x.initializer&&(Object.defineProperty(R,S,x),x=null),o)}).call(this,n(62).setImmediate)},637:function(e){e.exports=JSON.parse('{"maxPanelItems":9}')},638:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return q}));var r,o,i,c,a=n(1),u=n.n(a),l=n(0),f=n.n(l),s=n(7),p=n(10),y=n(256),b=n(15),d=n(2);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,x,C,T,D,A,q=(r=Object(b.c)("modSpace."),c=i=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(c,t);var n,r,o,i=P(c);function c(){var e;O(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(S(e=i.call.apply(i,[this].concat(n))),"setBlock",(function(t){e.block=t})),k(S(e),"add",(function(){e.capture(),e.props.add(),e.checkNew()})),k(S(e),"paste",(function(){e.capture(),e.props.paste(),e.checkNew()})),e}return n=c,(r=[{key:"capture",value:function(){window.TEST||(this.before=Object(y.b)(this.block))}},{key:"checkNew",value:function(){var t=this;window.TEST||e((function(){var e,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}(Object(y.b)(t.block));try{for(n.s();!(e=n.n()).done;){var r=v(e.value,2),o=r[0],i=r[1];t.before.has(o)||Object(p.e)(i)}}catch(e){n.e(e)}finally{n.f()}t.before=null}))}},{key:"render",value:function(e){var t=this.props,n=t.len,r=t.idx,o=t.lastIdx,i=t.isChained,c=t.isChainExcess,a=t.isNonInteractive,l=t.isNewAdaptive;return u.a.createElement("div",{className:"bllc-ml-space",ref:this.setBlock},0===r||r===o||l?null:u.a.createElement("div",{"data-chained":Object(d.v)(i),"data-error":Object(d.v)(c||a)},u.a.createElement(s.d,{role:"chain",icon:"link",onClick:this.props.chain,title:e("chain")})),u.a.createElement(s.d,{icon:"plus",onClick:this.add,cls:"bllc-ml-addmod",title:e("add")}),u.a.createElement(s.d,{icon:"paste",disabled:0===n,onClick:this.paste,cls:"bllc-ml-paste",title:e("paste")}),n>0?u.a.createElement("span",{className:"bllc-mls-count"},"(",n,")"):null,c?u.a.createElement(s.d,{icon:"attention-alt",cls:"bllc-ml-warning",title:e("chainErr")}):null,a?u.a.createElement(s.d,{icon:"attention-alt",cls:"bllc-ml-warning",title:e("chainNonInteractiveErr")}):null)}}])&&j(n.prototype,r),o&&j(n,o),c}(u.a.PureComponent),k(i,"propTypes",{add:f.a.func.isRequired,paste:f.a.func.isRequired,len:f.a.number.isRequired,chain:f.a.func.isRequired,isChained:f.a.bool.isRequired,isChainExcess:f.a.bool.isRequired,isNonInteractive:f.a.bool.isRequired}),_=(o=c).prototype,x="render",C=[r],T=Object.getOwnPropertyDescriptor(o.prototype,"render"),D=o.prototype,A={},Object.keys(T).forEach((function(e){A[e]=T[e]})),A.enumerable=!!A.enumerable,A.configurable=!!A.configurable,("value"in A||A.initializer)&&(A.writable=!0),A=C.slice().reverse().reduce((function(e,t){return t(_,x,e)||e}),A),D&&void 0!==A.initializer&&(A.value=A.initializer?A.initializer.call(D):void 0,A.initializer=void 0),void 0===A.initializer&&(Object.defineProperty(_,x,A),A=null),o)}).call(this,n(62).setImmediate)},639:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r,o,i=n(1),c=n.n(i),a=n(2),u=n(15);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j,w,P,R,S,E,k=function(t){b(r,t);var n=h(r);function r(){var t;s(this,r);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return O(m(t=n.call.apply(n,[this].concat(i))),"setPage",(function(){t.props.setPage(t.props.page),e((function(){document.body.scrollTop=0}))})),t}return y(r,[{key:"render",value:function(){var e=this.props,t=e.page,n=e.title,r=e.isActive,o=e.isContentEdit,i=Object(a.h)("bllc-pag-item",r&&"bllc-pag-active",o&&"bllc-pag-content-edit");return c.a.createElement("div",f({className:i,"data-page":t},{title:n},{onClick:this.setPage}),n)}}]),r}(c.a.PureComponent),_=(r=Object(u.c)("adaptiveCategory."),o=function(e){b(n,e);var t=h(n);function n(){return s(this,n),t.apply(this,arguments)}return y(n,[{key:"render",value:function(e){var t=this.props,n=t.setCategory,r=t.activeCategory,o=t.contentEditPage,i=t.titles,u=Object(a.h)("bllc-pagination","bllc-pagination--sticky","bllc-category-pagination");return c.a.createElement("div",{className:u},c.a.createElement("div",{className:"bllc-pag-numbers"},i.map((function(t,i){return c.a.createElement(k,{key:t,page:t,title:"".concat(e("title")," ").concat(t),setPage:n,isActive:t===r,isContentEdit:o===t})}),this)))}}]),n}(c.a.PureComponent),j=o.prototype,w="render",P=[r],R=Object.getOwnPropertyDescriptor(o.prototype,"render"),S=o.prototype,E={},Object.keys(R).forEach((function(e){E[e]=R[e]})),E.enumerable=!!E.enumerable,E.configurable=!!E.configurable,("value"in E||E.initializer)&&(E.writable=!0),E=P.slice().reverse().reduce((function(e,t){return t(j,w,e)||e}),E),S&&void 0!==E.initializer&&(E.value=E.initializer?E.initializer.call(S):void 0,E.initializer=void 0),void 0===E.initializer&&(Object.defineProperty(j,w,E),E=null),o)}).call(this,n(62).setImmediate)},64:function(e,t,n){"use strict";var r=n(30);t.a=r.h},649:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r=n(55),o=n.n(r),i=n(1),c=n.n(i),a=n(0),u=n.n(a),l=n(127),f=n(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(u,t);var n,r,i,a=d(u);function u(){var t;p(this,u);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return g(v(t=a.call.apply(a,[this].concat(r))),"setLine",(function(e){t.line=e,t.props.setLine(t.props.id,e&&t.updateLine)})),g(v(t),"componentDidUpdate",(function(){return e(t.updateLine)})),g(v(t),"componentDidMount",(function(){return e(t.updateLine)})),g(v(t),"updateLine",(function(){if(t.line){var e=t.props,n=e.getCoords,r=e.line,o=r.left,i=r.right;n(o)&&t.line.setAttribute("y1",n(o).mid),n(i)&&t.line.setAttribute("y2",n(i).mid)}})),g(v(t),"removeLine",(function(){var e=t.props,n=e.line;(0,e.removeLine)(n)})),g(v(t),"onResize",o()(t.updateLine,3*l.b)),t}return n=u,(r=[{key:"componentWillMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this.props,t=e.isHighlighted,n=e.isRight,r=e.id;return c.a.createElement("line",{className:"bllp-conn-line",x1:"0",y1:"0",x2:"100%",y2:"0",onClick:this.removeLine,ref:this.setLine,"data-line":r,"data-correct":Object(f.v)(t&&n&&"bllp-correct"),"data-incorrect":Object(f.v)(t&&!n&&"bllp-incorrect")})}}])&&y(n.prototype,r),i&&y(n,i),u}(c.a.PureComponent);g(O,"propTypes",{isHighlighted:u.a.bool.isRequired,isRight:u.a.bool.isRequired,removeLine:u.a.func.isRequired,getCoords:u.a.func.isRequired,setLine:u.a.func.isRequired,id:u.a.string.isRequired,line:u.a.shape({left:u.a.string.isRequired,right:u.a.string.isRequired}).isRequired})}).call(this,n(62).setImmediate)},65:function(e,t,n){"use strict";n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return w})),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return R})),n.d(t,"j",(function(){return E})),n.d(t,"f",(function(){return k})),n.d(t,"k",(function(){return _})),n.d(t,"g",(function(){return x})),n.d(t,"i",(function(){return C})),n.d(t,"h",(function(){return T}));var r,o=n(180),i=n.n(o),c=n(254),a=n.n(c),u=n(79),l=n.n(u),f=n(57),s=n.n(f),p=n(5),y=n(2);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={points:[],curves:{},curvesMoved:{}},O=Object(y.b)("PLOT"),j=O.create("TOGGLE_POINT","x, y"),w=O.create("UNSET_POINT","x, y"),P=O.create("TOGGLE_CURVE","idx"),R=O.create("MOVE_CURVE","idx, dx, dy"),S=function(e,t,n){var r=Object(p.p)(e,t,n);return s()(g,r)?void 0:r},E=(h(r={},j,(function(e,t){var n=t.x,r=t.y,o=-1===l()(e.points,{x:n,y:r})?[].concat(v(e.points),[{x:n,y:r}]):a()(e.points,{x:n,y:r});return d(d({},e),{},{points:o})})),h(r,w,(function(e,t){var n=t.x,r=t.y;return S(e,"points",a()(e.points,{x:n,y:r}))})),h(r,P,(function(e,t){var n=t.idx;return S(e,"curves",Object(p.n)(e.curves,n))})),h(r,R,(function(e,t){var n=t.idx,r=t.dx,o=t.dy,i=0===r&&0===o?void 0:{dx:r,dy:o};return S(e,"curvesMoved.".concat(n),i)})),r),k=function(e){return i()(e,{role:"choose"})},_=function(e){return"".concat(e.x,":").concat(e.y)},x=function(e){return new Set(k(e).map(_))},C=function(e,t,n,r){if("choose"===e.role)return Boolean(e.isCorrect)===t in n;if("shift"===e.role){if(!r)return!1;var o=e.shift,i=o.x,c=o.y;return("number"!=typeof i||r.dx===i)&&("number"!=typeof c||r.dy===c)}return!0},T=function(e,t){var n=t.points,r=t.curves,o=t.curvesMoved;return function(e,t){var n=x(e);return n.size===t.length&&t.every((function(e){return n.has(_(e))}))}(e.points,n)&&function(e,t,n){return e.every((function(e,r){return C(e,r,t,n[r])}))}(e.curves,r,o)}},650:function(e){e.exports=JSON.parse('{"en":{"title":{"purposes":"You\'ll know","description":"You\'ve already know","toc":"Table of contest"}},"kz":{"title":{"purposes":"Сенің меңгеретінің:","description":"Сенің білетінің:","toc":"Сабақтың мазмұны"}},"ru":{"title":{"purposes":"Ты узнаешь","description":"Ты знаешь","toc":"Содержание урока"}},"uz":{"title":{"toc":"Dars mazmuni"}}}')},651:function(e){e.exports=JSON.parse('{"en":{"content":{"tblockDefLabel":"Interesting"}},"ru":{"content":{"tblockDefLabel":"Интересное"}}}')},653:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(654),o=n.n(r),i=n(55),c=n.n(i),a=n(14),u=n(19),l=n(26);function f(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function t(e,n,r,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"_log",console.info.bind(console)),p(this,"_updateHash",(function(){var e=i._getState(),t=i._parse();e.lid?e.lid===t.lid&&e.page===t.page||i._setHash("lid=".concat(e.lid,"&p=").concat(e.page)):i._setHash("")})),p(this,"_onHashChange",(function(){i._ignore||i.check()})),p(this,"getLessonUrl",(function(e){return"#lid=".concat(e)})),this._store=e,this.path=n,this.i18n=r,this.lid=o,setTimeout((function(){i._store.subscribe(c()(i._updateHash,300))}),500),window.addEventListener("hashchange",this._onHashChange)}var n,r,i,y,b;return n=t,(r=[{key:"_getState",value:function(){var e=this._store.getState();return Object(a.r)(e)?{page:Object(a.m)(e),pagesCount:Object(a.p)(e),lid:Object(a.j)(e)}:{lid:null}}},{key:"_loadLesson",value:function(e){return this._log("load ".concat(e," lesson from router")),this._store.dispatch(Object(u.l)(this.path,e))}},{key:"_setPage",value:function(e){this._store.dispatch(Object(l.u)(e))}},{key:"t",value:function(){var e=this.i18n.gen(Object(a.h)(this._store.getState()));return e.apply(void 0,arguments)}},{key:"check",value:(y=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._parse(),n=this._getState(),t.lid){e.next=4;break}return e.abrupt("return");case 4:if(t.lid===n.lid){e.next=11;break}if(!n.lid||confirm(this.t("general.loadWithoutSave"))){e.next=8;break}return this._updateHash(),e.abrupt("return");case 8:return e.next=10,this._loadLesson(t.lid);case 10:n=this._getState();case 11:null!==t.page&&t.page!==n.page&&t.page<n.pagesCount&&this._setPage(t.page);case 12:case"end":return e.stop()}}),e,this)})),b=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=y.apply(e,t);function i(e){f(o,n,r,i,c,"next",e)}function c(e){f(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return b.apply(this,arguments)})},{key:"_parse",value:function(){var e=window.location.hash,t=void 0===e?"":e,n=o()(t.slice(1).split("&").map((function(e){return e.split("=")})));return this.lid?{page:0,lid:this.lid}:{page:"p"in n?Number(n.p):null,lid:n.lid?Number(n.lid):null}}},{key:"_setHash",value:function(t){var n=this;this._ignore=!0,location.hash=t,e((function(){n._ignore=!1}))}}])&&s(n.prototype,r),i&&s(n,i),t}()}).call(this,n(62).setImmediate)},655:function(e){e.exports=JSON.parse('{"general":{"noData":"No lesson is loaded","loading":"Loading…","error":"Error: ","loadWithoutSave":"Proceed without saving?"},"lessonHat":{"undo":"Undo last action","redo":"Redo last action","save":"Save lesson","reset":"Reset all and reload","browser":"Open resourses browser (images, video, etc)","explorer":"Open lessons manager","info":"Open the lesson\'s settings","exportState":"Export the lesson\'s state into a file","platform":"Open this lesson on the platform","help":"Open the wiki-help","deploy":{"action":"Approve and deploy the lesson to the server","deploy-started":"The lesson has been approved and sent for updating. It\'ll be updated within 24 hours","deploy-finished":"The lesson has been approved and updated on the server","ask":"Are you sure? The operation is irreversible!"}},"renamePanel":{"dbClick":"Double click to edit title","edit":"Edit title","save":"Save title","cancel":"Cancel editing"},"pagination":{"prev":"Set previous page","next":"Set next page"},"modSpace":{"add":"Add new module","paste":"Paste module(s) here","chain":"Chain/unchain modules (adaptive learning)","chainErr":"You must chain exactly 3 modules","chainNonInteractiveErr":"You cannot chain non-interactive modules"},"modsPanel":{"title":"Modules:","selAll":"Select all modules","unselAll":"Unselect modules","removeSel":"Remove selected modules","cutSel":"Cut modules","copySel":"Copy modules"},"pagePanel":{"title":"Page:","moveLeft":"Move left","moveRight":"Move right","add":"Add page","remove":"Remove page"},"modules":{"sel":"Select","unsel":"Unselect","moveUp":"Move up","moveDown":"Move down","cut":"Cut","copy":"Copy","remove":"Remove module","platform":"Platform module immitation","audio":{"hint":"Audio-record for this module","upload":"Upload or choose audio-file","open":"Open audio-file","del":"Remove audio-record (not file)"},"difficulty":{"1":"Low difficulty","2":"Medium difficulty","3":"High difficulty"}},"dlg":{"confirmRemove":"ВЫ УВЕРЕНЫ, ЧТО ХОТИТЕ УДАЛИТЬ ДАННЫЙ МОДУЛЬ?\\nУДАЛЕНИЕ МОДУЛЕЙ КРАЙНЕ НЕ РЕКОМЕНДУЕТСЯ НА УРОКАХ, КОТОРЫЕ УЖЕ ОПУБЛИКОВАНЫ НА BILIMLAND / ONLINEMEKTEP.\\nНАСТОЯТЕЛЬНО ПРОСИМ СОГЛАСОВАТЬ ЭТО ДЕЙСТВИЕ С ВАШИМ МЕНЕДЖЕРОМ, В ПРОТИВНОМ СЛУЧАЕ ФУНКЦИЯ УДАЛЕНИЯ МОДУЛЕЙ БУДЕТ ОТКЛЮЧЕНА!"},"lang":{"change":"Language: %s, click to change"},"assetsBrowser":{"title":"Assets","upload":"Upload","refresh":"Refresh","deleteUnused":"Delete unused files","unused":"Unused resource","unknown":"Unknown resource","delAsk":"Are you sure?","dropMime":"Incorrect format of file. Please, use png & jpg formates for images, mp4 for videos, mp3 for audio-files","uplErr":"Cannot upload the file","eqMime":"Files must have equal format","choose":"Select"},"explorer":{"title":"Lessons manager","open":"Open","delete":"Delete","create":"Create","askSaveBefore":"Save the current lesson?","askDelLesson":"Are you sure?","openInPlatform":"Open the lesson in the Platform","clone":"Clone","move":"Move","chooseSection":"Choose","chooseTitle":"Choose a section","filterLang":"Filter lessons by lang","createLesson":{"lang":"The lesson\'s language","title":"Title","dialogTitle":"Create a new lesson","newTitle":"New lesson","create":"Create"}},"info":{"title":"Lesson\'s settings","summary":"Summary","label":"Label","worklist":"The work list","theme":{"label":"Theme","none":"Default"},"lang":{"label":"Lesson language","kz":"Қазақша","ru":"Русский","en":"English","uz":"Узбекский"}},"platformModule":{"dialogTitle":"Platform module immitation","check":"Check","uncheck":"Cancel check","reset":"Reset","close":"Close","size":{"small":"Small size","medium":"Medium size","big":"Big size"}},"adaptiveCategory":{"title":"Category","level":"Level","levelErr":"There must be two or more modules"}}')},656:function(e){e.exports=JSON.parse('{"general":{"noData":"Урок не загружен","loading":"Загрузка…","error":"Ошибка: ","loadWithoutSave":"Продолжить без сохранения?"},"lessonHat":{"undo":"Отменить последнее действие","redo":"Вернуть последнее действие","save":"Сохранить урок","reset":"Сбросить все изменения и перезагрузить","browser":"Открыть браузер ресурсов (изображений, видео и т.д.)","explorer":"Открыть менеджер уроков","info":"Открыть настройки урока","exportState":"Экспортировать состояние урока в отдельный файл","platform":"Открыть этот урок на платформе","fullscreen":"Переключить полноэкранный режим","help":"Открыть wiki-справку","logout":"Выйти из аккаунта","deploy":{"action":"Утвердить урок и отправить на сервер","deploy-started":"Урок был утверждён и отправлен на проверку. Обновление произойдёт в течении ближайших суток","deploy-finished":"Урок был утверждён и обновлён","ask":"Вы уверены? Операция необратима!","adaptiveLesson":{"error":"Отправка на сервер не прошла.\\nКоличество модулей на каждом уровне должно быть не менее двух."}}},"renamePanel":{"dbClick":"Кликните дважды для редактирования заголовка","edit":"Изменить заголовок","save":"Сохранить заголовок","cancel":"Отменить смену заголовка"},"pagination":{"prev":"Открыть предыдущую страницу","next":"Открыть следующую страницу"},"modSpace":{"add":"Добавить новый модуль","paste":"Вставить модули из буфера обмена сюда","chain":"Связать/развязать модули (адаптивное обучение)","chainErr":"Число связанных модулей должно быть 3","chainNonInteractiveErr":"Нельзя связывать не интерактивные модули"},"modsPanel":{"title":"Модули:","selAll":"Выделить все модули","unselAll":"Убрать выделение","removeSel":"Удалить выбранные модули","cutSel":"Вырезать модули","copySel":"Копировать модули"},"pagePanel":{"title":"Стр.:","moveLeft":"Перенести страницу влево","moveRight":"Перенести страницу вправо","add":"Добавить страницу","remove":"Удалить страницу"},"modules":{"sel":"Выделить","unsel":"Убрать выделение","moveUp":"Переместить вверх","moveDown":"Переместить вниз","cut":"Вырезать","copy":"Копировать","remove":"Удалить модуль","platform":"Имитация модуля на платформе","audio":{"hint":"Аудио-дорожка для этого упражнения","upload":"Загрузить или выбрать аудио-файл","open":"Открыть аудио-файл","del":"Убрать аудио-дорожку (файл при не будет удалён)"},"difficulty":{"1":"Низкая сложность","2":"Средняя сложность","3":"Высокая сложность"}},"dlg":{"confirmRemove":"ВЫ УВЕРЕНЫ, ЧТО ХОТИТЕ УДАЛИТЬ ДАННЫЙ МОДУЛЬ?\\nУДАЛЕНИЕ МОДУЛЕЙ КРАЙНЕ НЕ РЕКОМЕНДУЕТСЯ НА УРОКАХ, КОТОРЫЕ УЖЕ ОПУБЛИКОВАНЫ НА BILIMLAND / ONLINEMEKTEP.\\nНАСТОЯТЕЛЬНО ПРОСИМ СОГЛАСОВАТЬ ЭТО ДЕЙСТВИЕ С ВАШИМ МЕНЕДЖЕРОМ, В ПРОТИВНОМ СЛУЧАЕ ФУНКЦИЯ УДАЛЕНИЯ МОДУЛЕЙ БУДЕТ ОТКЛЮЧЕНА!"},"lang":{"change":"Язык: %s, кликните для смены языка"},"assetsBrowser":{"title":"Ресурсы","upload":"Загрузить","refresh":"Обновить список","deleteUnused":"Удалить лишние файлы","unused":"Этот файл не используется","unknown":"Неизвестный тип ресурса","delAsk":"Удалить файл? Операция необратима","dropMime":"Недопустимый формат файла. Пожалуйста, используйте png и jpg формат для изображений, mp4 для видео-файлов и mp3 для аудио-файлов","uplErr":"Ошибка при загрузке файла.","eqMime":"Файлы должны быть одного и того же формата","choose":"Выбрать"},"explorer":{"title":"Менеджер уроков","open":"Открыть","delete":"Удалить","create":"Создать","askSaveBefore":"Сохранить текущий урок?","askDelLesson":"Удалить выбранный урок? Операция необратима!","openInPlatform":"Открыть урок в платформе","clone":"Клонировать","move":"Перенести","chooseSection":"Выбрать","chooseTitle":"Выберите раздел","filterLang":"Отфильтровать уроки по языку","createLesson":{"lang":"Язык урока","interfaceLang":"Язык интерфейса","title":"Заголовок урока","dialogTitle":"Создание нового урока","newTitle":"Новый урок","create":"Создать","lessonType":{"title":"Тип урока","common":"Обычный","newAdaptive":"Новый адаптивный"}}},"info":{"title":"Настройки урока","summary":"Сводка","label":"Метка","time":"Время прохождения урока (в минутах)","worklist":"Рабочий лист","theme":{"label":"Тема оформления","none":"Не задана"},"lang":{"label":"Язык урока","interfaceLabel":"Язык интерфейса","kz":"Қазақша","ru":"Русский","en":"Английский","uz":"Узбекский"}},"platformModule":{"dialogTitle":"Имитация модуля на платформе","check":"Проверить","uncheck":"Отменить проверку","reset":"Сбросить","close":"Закрыть","size":{"small":"Малый размер","medium":"Средний размер","big":"Большой экран"}},"adaptiveCategory":{"title":"Категория","level":"Уровень","levelErr":"Количествово модулей в уровне должно быть не меньше двух"},"auth":{"header":"Авторизация","login":"Логин:","password":"Пароль:","submit":"Войти","error":{"badRequest":"Неверный логин или пароль","serverError":"Ошибка на сервере"}}}')},657:function(e,t,n){"use strict";var r,o,i,c,a=n(0),u=n.n(a),l=n(10),f=n(1),s=n.n(f),p=n(2),y=n(37),b=n(72),d=n(23),h=n.n(d),v=n(304),m=n.n(v),g=n(53),O=n.n(g),j=n(323),w=n(15),P=n(7);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=["image","video","audio","model","widget","custom"],q=function(e){switch(e){case"video":return"videocam";case"image":return"camera";case"audio":return"music";case"model":return"codepen";case"widget":return"dropbox";default:return"th"}},z=function(e){switch(e){case"audio/mpeg":case"audio/mp3":return"audio/mpeg,audio/mp3";case"fake/3d":return"application/zip";default:return e}},I=Object(p.p)((function(e){var t,n=e.size,r=e.imageSize,o=e.duration;return s.a.createElement("div",{className:"bllc-ab-asset-desc"},s.a.createElement("span",{className:"bllc-ab-asset-size"},(t=n,Math.ceil(t/1024)+" KiB")),r?s.a.createElement("span",{className:"bllc-ab-asset-imsize"},r.width," x ",r.height):null,o?s.a.createElement("span",{className:"bllc-ab-asset-vidduration"},o,"s"):null)}),"AssetDescription"),N=Object(p.p)((function(e){var t=e.type,n=e.isUsed,r=e.unknownType,o=e.label,i=e.tt;return s.a.createElement("div",{className:"bllc-ab-asset-label",title:name},n?null:s.a.createElement(P.d,{icon:"attention-alt",title:i("unused")}),r?s.a.createElement(P.d,{icon:"attention-alt",title:i("unknown")}):null,s.a.createElement(P.d,{icon:q(t)}),s.a.createElement("span",{className:"bllc-ab-asset-label-text",title:o},o))}),"AssetLabel"),L=Object(p.p)((function(e){var t=e.mime,n=e.open,r=e.del,o=e.onDropFiles,i=e.toggleWatermark;return s.a.createElement("div",{className:"bllc-ab-asset-control-row"},s.a.createElement(j.a,{accept:z(t),multiple:!1,className:"bllc-ab-icon-dropzone",activeClassName:"bllc-ab-icon-accept",rejectClassName:"bllc-ab-icon-reject",onDrop:o},s.a.createElement(P.d,{icon:"up-circled2",onClick:O.a})),function(e){return"fake/3d"!==e}(t)?s.a.createElement(P.d,{icon:"link-ext-alt",onClick:n}):null,m()(t,"video")?s.a.createElement(P.d,{icon:"watermark",onClick:i}):null,s.a.createElement(P.d,{icon:"trash",onClick:r}))}),"AssetControls"),M=(r=Object(w.c)("assetsBrowser."),c=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=_(i);function i(){var e;S(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return D(C(e=o.call.apply(o,[this].concat(n))),"uri",(function(){return e.props.path+e.props.data.name})),D(C(e),"open",(function(){window.open(e.uri())})),D(C(e),"del",(function(){confirm(e.cx.tt("delAsk"))&&e.props.del(e.props.data.name)})),D(C(e),"toggleWatermark",(function(){var t=e.props;(0,t.updateAsset)({watermark:!t.watermark})})),D(C(e),"onDropFiles",(function(t,n){if(n.length)Object(l.m)(e.cx.tt("eqMime"));else{var r=e.props,o=r.data;(0,r.replaceUpload)(o.name,t)}})),D(C(e),"trySelect",(function(t){e.checkSelEvent(t)&&e.props.sel(e.props.data.name)})),D(C(e),"trySelectAndClose",(function(t){e.checkSelEvent(t)&&e.props.selAndClose(e.props.data.name)})),e}return t=i,r=[{key:"props",value:function(e){return h()(e,"path","data","isUsed","canSelect","isSelected","sel","selAndClose","del","replaceUpload","updateAsset","watermark")}}],(n=[{key:"checkSelEvent",value:function(e){var t=e.target;return!!this.props.canSelect&&!t.matches(".bllx-icon:not([disabled])")}},{key:"render",value:function(e){var t=this.props,n=t.type,r=t.children,o=t.data,i=t.isUsed,c=t.isSelected,a=o.name,u=o.size,l=o.imageSize,f=o.duration,y=o.label||a,b=!A.includes(n),d=Object(p.h)("bllc-ab-asset","bllc-ab-asset-".concat(n),c&&"bllc-selected",!i&&"bllc-unused");return s.a.createElement("div",{className:d,"data-name":a,onClick:this.trySelect,onDoubleClick:this.trySelectAndClose},s.a.createElement(L,{mime:o.mime,open:this.open,del:this.del,onDropFiles:this.onDropFiles,toggleWatermark:this.toggleWatermark}),s.a.createElement("div",{className:"bllc-ab-asset-inner"},r),s.a.createElement(I,{size:u,imageSize:l,duration:f}),s.a.createElement(N,{type:n,isUsed:i,unknownType:b,label:y,tt:e}))}}])&&E(t.prototype,n),r&&E(t,r),i}(s.a.PureComponent),D(i,"propTypes",{path:u.a.string.isRequired,type:u.a.string.isRequired,replaceUpload:u.a.func.isRequired,isUsed:u.a.bool.isRequired,isSelected:u.a.bool.isRequired,del:u.a.func.isRequired,data:u.a.shape({name:u.a.string.isRequired,label:u.a.string,size:u.a.number.isRequired,imageSize:u.a.shape({width:u.a.number.isRequired,height:u.a.number.isRequired}),duration:u.a.number}).isRequired,canSelect:u.a.bool.isRequired,sel:u.a.func.isRequired,selAndClose:u.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((o=c).prototype,"render",[r],Object.getOwnPropertyDescriptor(o.prototype,"render"),o.prototype),o);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K,X,Y,J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(i,e);var t,n,r,o=G(i);function i(){return H(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"uri",value:function(){var e=this.props,t=e.path,n=e.data;return"".concat(t).concat(n.name,"?v").concat(n.hash)}},{key:"render",value:function(){return s.a.createElement(M,U({type:"image"},M.props(this.props)),s.a.createElement("div",{className:"bllc-ab-asset-img",style:{backgroundImage:"url(".concat(this.uri(),")")}}))}}])&&F(t.prototype,n),r&&F(t,r),i}(s.a.PureComponent);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}K=J,X="propTypes",Y={path:u.a.string.isRequired,data:u.a.shape({name:u.a.string.isRequired,imageSize:u.a.object.isRequired}).isRequired},X in K?Object.defineProperty(K,X,{value:Y,enumerable:!0,configurable:!0,writable:!0}):K[X]=Y;var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(i,e);var t,n,r,o=re(i);function i(){var e;ee(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ae(ie(e=o.call.apply(o,[this].concat(n))),"toggle",(function(e){var t=e.target;t.paused?t.play():t.pause()})),e}return t=i,(n=[{key:"uri",value:function(){var e=this.props,t=e.path,n=e.data;return"".concat(t).concat(n.name,"?v").concat(n.hash)}},{key:"render",value:function(){var e=this.props.data.watermark;return s.a.createElement(M,Q({type:"video"},M.props(this.props)),s.a.createElement("video",{src:this.uri(),onClick:this.toggle}),e?s.a.createElement("div",{className:"bllc-video-watermark"}):null)}}])&&te(t.prototype,n),r&&te(t,r),i}(s.a.PureComponent);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ae(ue,"propTypes",{path:u.a.string.isRequired,data:u.a.shape({name:u.a.string.isRequired,duration:u.a.number.isRequired,watermark:u.a.bool}).isRequired});var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(i,e);var t,n,r,o=be(i);function i(){return se(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return s.a.createElement(M,fe({type:"audio"},M.props(this.props)),s.a.createElement(P.d,{icon:"music",disabled:!0}))}}])&&pe(t.prototype,n),r&&pe(t,r),i}(s.a.PureComponent);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Re(this,n)}}function Re(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ve,"propTypes",{path:u.a.string.isRequired,data:u.a.shape({name:u.a.string.isRequired,duration:u.a.number.isRequired}).isRequired});var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(i,e);var t,n,r,o=Pe(i);function i(){return Oe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getIcon",value:function(e){switch(e){case"application/pdf":return"print";case"fake/3d":return"codepen";case"fake/widget":return"dropbox";default:return"th"}}},{key:"getType",value:function(e){switch(e){case"application/pdf":case"fake/widget":case"fake/3d":return"custom";default:return"unknown"}}},{key:"render",value:function(){var e=this.props.data.mime;return s.a.createElement(M,ge({type:this.getType(e)},M.props(this.props)),s.a.createElement(P.d,{icon:this.getIcon(e),disabled:!0}))}}])&&je(t.prototype,n),r&&je(t,r),i}(s.a.PureComponent),ke=n(218);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qe(this,n)}}function qe(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(i,e);var t,n,r,o=Ae(i);function i(){var e;Ce(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ne(ze(e=o.call.apply(o,[this].concat(n))),"state",{model:"none"}),Ne(ze(e),"loadModel",(function(){e.setState({model:"loading"})})),Ne(ze(e),"onLoadModel",(function(){e.setState({model:"loaded"})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.state.model,t=this.props,n=t.data,r=t.path;return s.a.createElement(M,xe({type:"model"},M.props(this.props)),"none"===e?s.a.createElement(P.d,{cls:"bllc-ab-asset-typeicon",icon:"codepen",onClick:this.loadModel}):null,"loading"===e?s.a.createElement(P.d,{icon:"clock",disabled:!0}):null,"none"!==e?s.a.createElement(ke.a,{path:r+n.name,hash:n.hash,key:n.name+n.hash,onLoad:this.onLoadModel}):null)}}])&&Te(t.prototype,n),r&&Te(t,r),i}(s.a.PureComponent);function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ue=Object(p.p)((function(e){var t,n=e.data,r=Be(e,["data"]),o=(t=n.mime).startsWith("image")?J:t.startsWith("video")?ue:t.startsWith("audio")?ve:"fake/3d"===t?Le:Ee;return s.a.createElement(o,Me({},r,{data:n}))}),"AssetItem"),He=Object(l.f)(Ue,(function(e,t){var n=e.lesson,r=t.data.name,o=t.isUploading,i=n.assets,c=n.data,a=i.mode,u=i.selected,l=Object(b.g)(c),f=Object(b.c)(n,r).watermark;return{path:c.path,isUsed:r in l,canSelect:!o&&"choose"===a,isSelected:u===r,watermark:f}}),(function(e,t){var n=t.data.name;return{del:function(){return e(Object(y.g)(n))},sel:function(){return e(Object(y.j)(n))},updateAsset:function(t){return e(Object(y.b)(n,t))},selAndClose:function(){return{del:function(){return e(Object(y.g)(n))},sel:function(){return e(Object(y.j)(n))},selAndClose:function(){e(Object(y.j)(n)),e(Object(y.e)())}}}}}));function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var o=Ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(i,e);var t,n,r,o=Ke(i);function i(){return Ge(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.list,n=e.isUploading,r=e.replaceUpload;return s.a.createElement("div",{className:"bllc-ab-list"},t.map((function(e,t){return s.a.createElement(He,We({data:e,isUploading:n,replaceUpload:r},{key:e.name+e.hash}))}),this))}}])&&Ve(t.prototype,n),r&&Ve(t,r),i}(s.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Je,"propTypes",{list:u.a.arrayOf(u.a.shape({name:u.a.string.isRequired,mime:u.a.string.isRequired})).isRequired,isUploading:u.a.bool.isRequired,replaceUpload:u.a.func.isRequired});var Ze,Qe,et,tt,nt=Object(l.f)(Je,(function(e){var t=e.lesson;return{list:Object(b.b)(t)}})),rt=n(36),ot=n.n(rt),it=n(8);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){at(i,r,o,c,a,"next",e)}function a(e){at(i,r,o,c,a,"throw",e)}c(void 0)}))}}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yt(this,n)}}function yt(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?bt(e):t}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt,mt,gt,Ot,jt=["image/png","image/jpg","image/jpeg","image/svg+xml","video/mp4","audio/mpeg","audio/mp3","application/pdf","application/zip"],wt=Object(it.a)((function(e){return e}),(function(e){return(e?jt.filter((function(t){return t.startsWith(e)})):jt).join(",")})),Pt=(Ze=Object(w.c)("assetsBrowser."),tt=et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(i,e);var t,n,r,o=pt(i);function i(){var e;lt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ht(bt(e=o.call.apply(o,[this].concat(n))),"state",{progress:0,length:0,pos:0}),ht(bt(e),"onDropFiles",(function(t,n){n.length?Object(l.m)(e.cx.tt("dropMime")):e.upload(t)})),ht(bt(e),"replaceUpload",(function(t,n){e.files=n,e.filePos=-1,e.fileName=t,e.props.setUploading(!0),e.setState({progress:0,length:1}),e.uploadNext()})),ht(bt(e),"onOneUploadFinish",ut(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.refresh,o=n.selectLast,e.abortXhr=null,t.next=4,r();case 4:return e.fileName||e.scrollToEnd(),"choose"===e.props.mode&&o(),t.next=8,e.uploadNext();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))),ht(bt(e),"onOneUploadErr",function(){var t=ut(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.abortXhr=null,Object(l.m)(e.cx.tt("uplErr")+" "+n),e.cancelUpload();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),ht(bt(e),"onProgress",(function(t){e.setState({progress:t})})),ht(bt(e),"abort",(function(){e.abortXhr&&(e.abortXhr(),e.abortXhr=null),e.cancelUpload()})),ht(bt(e),"panel",s.a.createRef()),e}return t=i,(n=[{key:"scrollToEnd",value:function(){this.panel.current.closest(".bllc-browser-box").querySelector(".bllc-ab-list").scrollTop=Number.MAX_SAFE_INTEGER}},{key:"componentDidMount",value:function(){this.props.setReplaceUpload(this.replaceUpload)}},{key:"upload",value:function(e){this.files=e,this.filePos=-1,this.fileName=null,this.props.setUploading(!0),this.setState({progress:0,length:e.length}),this.uploadNext()}},{key:"uploadNext",value:function(){++this.filePos;var e=this.files[this.filePos];if(e){this.setState({progress:0,pos:this.filePos});var t=this.fileName?this.props.replaceUpload(e,this.fileName):this.props.upload(e);t.promise.then(this.onOneUploadFinish).catch(this.onOneUploadErr),t.onProgress(this.onProgress),this.abortXhr=t.abort}else this.cancelUpload()}},{key:"cancelUpload",value:function(){this.props.setUploading(!1),this.files=[],this.filePos=0}},{key:"render",value:function(e){var t=this.props.isUploading;return s.a.createElement("div",{className:"bllc-ab-upload-panel",ref:this.panel},t?null:this.renderDropBar(e),t?this.renderProgressBar():null)}},{key:"renderDropBar",value:function(e){var t=this.props.atype;return s.a.createElement(j.a,{accept:wt(t),className:"bllc-ab-dropzone",activeClassName:"bllc-ab-accept",rejectClassName:"bllc-ab-reject",onDrop:this.onDropFiles},e("upload"))}},{key:"renderProgressBar",value:function(){var e=this.state,t=e.pos,n=e.progress,r=e.length;return s.a.createElement(s.a.Fragment,null,s.a.createElement(P.h,{progress:n}),s.a.createElement("div",{className:"bllc-ab-upload-state"},t+1," / ",r),s.a.createElement(P.d,{icon:"cancel-circled",onClick:this.abort}))}}])&&ft(t.prototype,n),r&&ft(t,r),i}(s.a.PureComponent),ht(et,"propTypes",{mode:u.a.string.isRequired,atype:u.a.string,refresh:u.a.func.isRequired,upload:u.a.func.isRequired,replaceUpload:u.a.func.isRequired,setReplaceUpload:u.a.func.isRequired,isUploading:u.a.bool.isRequired,setUploading:u.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Qe=tt).prototype,"render",[Ze],Object.getOwnPropertyDescriptor(Qe.prototype,"render"),Qe.prototype),Qe),Rt=n(19),St=n(14),Et=Object(l.f)(Pt,(function(e){var t=e.lesson.assets;return{atype:t.atype,mode:t.mode}}),{refresh:Rt.r,upload:y.c,replaceUpload:y.a,selectLast:function(){return function(e,t){var n=Object(St.i)(t()),r=Object(b.b)(n),o=ot()(r);o&&e(Object(y.j)(o.name))}}});function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zt(e);if(t){var o=zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?qt(e):t}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nt=(vt=Object(w.c)("assetsBrowser."),Ot=gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(i,e);var t,n,r,o=Dt(i);function i(){var e;xt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return It(qt(e=o.call.apply(o,[this].concat(n))),"state",{isUploading:!1,replaceUpload:function(){}}),It(qt(e),"setUploading",(function(t){e.setState({isUploading:t})})),It(qt(e),"setReplaceUpload",(function(t){e.setState({replaceUpload:t})})),It(qt(e),"replaceUpload",(function(){var t;(t=e.state).replaceUpload.apply(t,arguments)})),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.isActive,r=t.onClose,o=t.mode,i=this.state.isUploading,c=!i&&"choose"===o,a=Object(p.h)("bllc-browser-box",c&&"bllc-selectable");return s.a.createElement(P.b,_t({cls:a,title:e("title")},{isActive:n,onClose:r},{canClose:!i}),n?this.renderDialogBody(e):null)}},{key:"renderDialogBody",value:function(e){var t=this.props,n=t.refresh,r=t.mode,o=t.canChoose,i=t.choose,c=t.deleteUnused,a=this.state.isUploading,u=!a&&"choose"===r;return s.a.createElement(s.a.Fragment,null,s.a.createElement(nt,_t({replaceUpload:this.replaceUpload},{isUploading:a})),s.a.createElement("div",{className:"bllc-ab-control-row"},s.a.createElement(P.a,{icon:"arrows-cw",label:e("refresh"),onClick:n}),s.a.createElement(P.a,{icon:"trash",label:e("deleteUnused"),onClick:c}),s.a.createElement(Et,_t({isUploading:a},{setUploading:this.setUploading,setReplaceUpload:this.setReplaceUpload})),u?s.a.createElement(P.a,{icon:"ok",label:e("choose"),cls:"bllc-ab-choose-btn",disabled:!o,onClick:i}):null))}}])&&Ct(t.prototype,n),r&&Ct(t,r),i}(s.a.PureComponent),It(gt,"propTypes",{isActive:u.a.bool.isRequired,onClose:u.a.func.isRequired,refresh:u.a.func.isRequired,mode:u.a.string.isRequired,canChoose:u.a.bool.isRequired,choose:u.a.func.isRequired,deleteUnused:u.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((mt=Ot).prototype,"render",[vt],Object.getOwnPropertyDescriptor(mt.prototype,"render"),mt.prototype),mt),Lt=Object(l.f)(Nt,(function(e){var t=e.lesson,n=t.assets;return{mode:n.mode,isActive:n.isActive,canChoose:!!Object(b.h)(t)}}),{onClose:y.f,refresh:Rt.r,choose:y.e,deleteUnused:y.h}),Mt=n(22);function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(){return(Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kt(e);if(t){var o=Kt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vt(this,n)}}function Vt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?$t(e):t}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(i,e);var t,n,r,o=Gt(i);function i(){var e;Ht(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xt($t(e=o.call.apply(o,[this].concat(n))),"genIsExpanded",Object(it.a)((function(e){return e.expanded}),(function(t){return function(t){return t.id in e.props.expanded}}))),Xt($t(e),"onExpand",(function(t){e.props.expandSection(t.id)})),Xt($t(e),"onCollapse",(function(t){e.props.collapseSection(t.id)})),Xt($t(e),"scrollToActiveSection",(function(){var t=e.props.selectedSection;e.tree.scrollTo(t)})),Xt($t(e),"setTree",(function(t){e.tree=t})),e}return t=i,(n=[{key:"componentDidMount",value:function(){window.addEventListener(Mt.B.type,this.scrollToActiveSection)}},{key:"componentWillUnmount",value:function(){window.removeEventListener(Mt.B.type,this.scrollToActiveSection)}},{key:"render",value:function(){var e=this.props,t=e.tree,n=e.selSection,r=e.selectedSection,o=e.lang,i=this.genIsExpanded(this.props);return s.a.createElement("div",{className:"bllc-expl-tree"},s.a.createElement(P.j,Ut({ref:this.setTree},{tree:t,lang:o},{isExpanded:i,selected:r,onSelect:n,onExpand:this.onExpand,onCollapse:this.onCollapse})))}}])&&Ft(t.prototype,n),r&&Ft(t,r),i}(s.a.PureComponent);Xt(Yt,"propTypes",{tree:u.a.array.isRequired,selSection:u.a.func.isRequired,selectedSection:u.a.number,expanded:u.a.object.isRequired,expandSection:u.a.func.isRequired,collapseSection:u.a.func.isRequired,mode:u.a.string.isRequired});var Jt,Zt,Qt,en,tn=Object(l.f)(Yt,(function(e,t){var n=e.explorer,r=(e.lesson,"chooseDialog"===t.mode),o=n.langs.kz?"kz":"ru";return{tree:n.tree,lang:o,expanded:r?n.choose.expanded:n.expanded,selectedSection:r?n.choose.selected:n.selectedSection}}),(function(e,t){var n=t.mode;return{expandSection:function(t){e("chooseDialog"===n?Object(Mt.d)(t):Object(Mt.n)(t))},collapseSection:function(t){e("chooseDialog"===n?Object(Mt.c)(t):Object(Mt.j)(t))},selSection:function(t){"chooseDialog"===n?e(Object(Mt.f)(t)):(e(Object(Mt.y)(t)),e(Object(Mt.z)()).catch((function(e){return Object(l.m)(e)})))}}}));function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fn(e);if(t){var o=fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return un(this,n)}}function un(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?ln(e):t}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pn,yn,bn,dn,hn=(Jt=Object(w.c)("explorer."),en=Qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(i,e);var t,n,r,o=an(i);function i(){var e;rn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sn(ln(e=o.call.apply(o,[this].concat(n))),"sel",(function(){return e.props.sel(e.props.lesson.id)})),sn(ln(e),"open",(function(){return e.props.open(e.props.lesson.id)})),sn(ln(e),"openInPlatform",(function(){return e.props.openInPlatform(e.props.lesson.id)})),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.lesson,r=t.isSelected,o=t.isActive,i=n.id,c=n.title,a=n.pagesCount,u=n.label,l=n.lang,f=Object(p.h)("bllc-expl-list-lesson",r&&"bllc-selected",o&&"bllc-active");return s.a.createElement("div",{className:f,onClick:this.sel,onDoubleClick:this.open},s.a.createElement("div",{className:"bllc-expl-ll-lid"},i),s.a.createElement("span",{className:"bllc-expl-ll-title"},u?s.a.createElement("span",{className:"bllc-expl-ll-label"},u):null,c),s.a.createElement("span",{className:"bllc-expl-ll-pages"},a),s.a.createElement("span",{className:"bllc-expl-ll-lang"},l),s.a.createElement("span",{className:"bllc-expl-ll-open"},s.a.createElement(P.d,{icon:"play",onClick:this.openInPlatform,title:e("openInPlatform")})))}}])&&on(t.prototype,n),r&&on(t,r),i}(s.a.PureComponent),sn(Qt,"propTypes",{lesson:u.a.shape({id:u.a.number.isRequired,label:u.a.string,pagesCount:u.a.number.isRequired,title:u.a.string.isRequired}).isRequired,isSelected:u.a.bool.isRequired,open:u.a.func.isRequired,openInPlatform:u.a.func.isRequired,sel:u.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Zt=en).prototype,"render",[Jt],Object.getOwnPropertyDescriptor(Zt.prototype,"render"),Zt.prototype),Zt);function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rn(e);if(t){var o=Rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wn(this,n)}}function wn(e,t){return!t||"object"!==vn(t)&&"function"!=typeof t?Pn(e):t}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var En=(pn=Object(w.c)("explorer."),dn=bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(i,e);var t,n,r,o=jn(i);function i(){var e;mn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sn(Pn(e=o.call.apply(o,[this].concat(n))),"openLesson",(function(t){var n=e.props;(0,n.openLesson)(t,n.isUnsaved&&confirm(e.cx.tt("askSaveBefore")))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.lid,n=e.list,r=e.selLesson,o=e.selectedLesson,i=e.openInPlatform;return s.a.createElement("div",{className:"bllc-expl-list"},n.map((function(e,n){return s.a.createElement(hn,{key:e.id,lesson:e,sel:r,isSelected:e.id===o,isActive:e.id===t,open:this.openLesson,openInPlatform:i})}),this))}}])&&gn(t.prototype,n),r&&gn(t,r),i}(s.a.PureComponent),Sn(bn,"propTypes",{list:u.a.array.isRequired,selLesson:u.a.func.isRequired,selectedLesson:u.a.number,lid:u.a.number,openLesson:u.a.func.isRequired,openInPlatform:u.a.func.isRequired,isUnsaved:u.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((yn=dn).prototype,"render",[pn],Object.getOwnPropertyDescriptor(yn.prototype,"render"),yn.prototype),yn),kn=n(179),_n=n(108);function xn(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var An,qn,zn=Object(l.f)(En,(function(e,t,n){var r=e.explorer,o=e.lesson.data;return Tn(Tn({},h()(r,"selectedLesson")),{},{list:Object(kn.b)(r),isUnsaved:!!o&&Object(_n.d)(n.data),lid:o?o.id:-1})}),(function(e){return{selLesson:function(t){return e(Object(Mt.x)(t))},openInPlatform:function(t){return e(Object(Mt.v)(t))},openLesson:(t=regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(Object(Mt.s)(n,r)).catch(l.m));case 1:case"end":return t.stop()}}),t)})),n=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(e){xn(i,r,o,c,a,"next",e)}function a(e){xn(i,r,o,c,a,"throw",e)}c(void 0)}))},function(e,t){return n.apply(this,arguments)})};var t,n}));function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e,t,n){return t&&Mn(e.prototype,t),n&&Mn(e,n),e}function Un(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vn(e);if(t){var o=Vn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn(this,n)}}function Wn(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?Gn(e):t}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn=(An=Object(w.c)("explorer."),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((qn=function(e){Un(n,e);var t=Fn(n);function n(){var e;Ln(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return $n(Gn(e=t.call.apply(t,[this].concat(o))),"toggleLang",(function(){e.props.toggleLang(e.props.lang)})),e}return Bn(n,[{key:"render",value:function(e){var t=this.props,n=t.lang,r=t.active;return s.a.createElement("div",{className:"bllc-expl-lang-toggler","data-active":Object(p.v)(n in r),title:e("filterLang"),onClick:this.toggleLang},n)}}]),n}(s.a.PureComponent)).prototype,"render",[An],Object.getOwnPropertyDescriptor(qn.prototype,"render"),qn.prototype),qn),Xn=function(e){Un(n,e);var t=Fn(n);function n(){return Ln(this,n),t.apply(this,arguments)}return Bn(n,[{key:"render",value:function(e){var t=this.props,n=t.list,r=t.active,o=t.toggleLang;return s.a.createElement("div",{className:"bllc-expl-lang-filter"},n.map((function(e,t){return s.a.createElement(Kn,In({lang:e,active:r,toggleLang:o},{key:e}))}),this))}}]),n}(s.a.PureComponent);$n(Xn,"propTypes",{active:u.a.object.isRequired,list:u.a.arrayOf(u.a.string).isRequired,toggleLang:u.a.func.isRequired});var Yn,Jn,Zn,Qn,er=Object(l.f)(Xn,(function(e){return{active:e.explorer.langs,list:["ru","kz","en"]}}),{toggleLang:Mt.A});function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,t){return(or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ur(e);if(t){var o=ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cr(this,n)}}function cr(e,t){return!t||"object"!==tr(t)&&"function"!=typeof t?ar(e):t}function ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fr=(Yn=Object(w.c)("explorer."),Qn=Zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(i,e);var t,n,r,o=ir(i);function i(){var e;nr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return lr(ar(e=o.call.apply(o,[this].concat(n))),"createLesson",(function(){var t=e.props,n=t.selectedSection;(0,t.createLesson)(n)})),lr(ar(e),"delLesson",(function(){if(confirm(e.cx.tt("askDelLesson"))){var t=e.props,n=t.selectedLesson;(0,t.delLesson)(n)}})),lr(ar(e),"cloneLesson",(function(){e.props.chooseSection().then((function(t){var n=e.props,r=n.selectedLesson;(0,n.cloneLesson)(r,t)})).catch(O.a)})),lr(ar(e),"moveLesson",(function(){e.props.chooseSection().then((function(t){var n=e.props,r=n.moveLesson,o=n.selectedLesson;n.selectedSection!==t&&r(o,t)})).catch(O.a)})),lr(ar(e),"openLesson",(function(){var t=e.props,n=t.selectedLesson;(0,t.openLesson)(n,t.isUnsaved&&confirm(e.cx.tt("askSaveBefore")))})),e}return t=i,(n=[{key:"canOpen",value:function(){var e=this.props,t=e.selectedLesson,n=e.lid;return null!==t&&t!==n}},{key:"render",value:function(e){var t=this.props,n=t.selectedLesson,r=t.canCreate;return s.a.createElement("div",{className:"bllc-expl-controlbar"},s.a.createElement(P.a,{label:e("create"),disabled:!r,onClick:this.createLesson,icon:"plus"}),s.a.createElement(P.a,{label:e("delete"),disabled:null===n,onClick:this.delLesson,icon:"trash"}),s.a.createElement(P.a,{label:e("clone"),disabled:null===n,onClick:this.cloneLesson,icon:"docs"}),s.a.createElement(P.a,{label:e("move"),disabled:null===n,onClick:this.moveLesson,icon:"scissors"}),s.a.createElement("div",{className:"bllc-expl-space"}),s.a.createElement(er,null),s.a.createElement(P.a,{label:e("open"),disabled:!this.canOpen(),onClick:this.openLesson,icon:"folder-open-empty"}))}}])&&rr(t.prototype,n),r&&rr(t,r),i}(s.a.PureComponent),lr(Zn,"propTypes",{selectedLesson:u.a.number,selectedSection:u.a.number,lid:u.a.number,cloneLesson:u.a.func.isRequired,delLesson:u.a.func.isRequired,canCreate:u.a.bool.isRequired,createLesson:u.a.func.isRequired,openLesson:u.a.func.isRequired,isUnsaved:u.a.bool.isRequired,chooseSection:u.a.func.isRequired,moveLesson:u.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Jn=Qn).prototype,"render",[Yn],Object.getOwnPropertyDescriptor(Jn.prototype,"render"),Jn.prototype),Jn);function sr(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dr,hr,vr,mr,gr=Object(l.f)(fr,(function(e,t,n){var r=e.explorer,o=e.lesson.data;return yr(yr({},h()(r,"selectedSection")),{},{selectedLesson:Object(kn.d)(r),isUnsaved:!!o&&Object(_n.d)(n.data),lid:o?o.id:-1,canCreate:Object(kn.a)(r.selectedSection)})}),(function(e){return{createLesson:function(){return e(Object(Mt.q)())},delLesson:function(t){return e(Object(Mt.m)(t)).catch(l.m)},cloneLesson:function(t,n){return e(Object(Mt.h)(t,n)).catch(l.m)},moveLesson:function(t,n){return e(Object(Mt.t)(t,n)).catch(l.m)},openLesson:(t=regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(Object(Mt.s)(n,r)).catch(l.m));case 1:case"end":return t.stop()}}),t)})),n=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(e){sr(i,r,o,c,a,"next",e)}function a(e){sr(i,r,o,c,a,"throw",e)}c(void 0)}))},function(e,t){return n.apply(this,arguments)}),chooseSection:function(){return e(Object(Mt.g)())}};var t,n}));function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(){return(jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kr(e);if(t){var o=kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(e,t){return!t||"object"!==Or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _r,xr,Cr,Tr,Dr=(dr=Object(w.c)("explorer."),mr=vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(i,e);var t,n,r,o=Sr(i);function i(){return wr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.isActive,r=t.close;return s.a.createElement(P.b,jr({cls:"bllc-explorer-box",title:e("title"),onClose:r,isActive:n},h()(this,"onOpen")),n?[s.a.createElement("div",{className:"bllc-expl-main",key:"0"},s.a.createElement(tn,{mode:"sidebar"}),s.a.createElement(zn,null)),s.a.createElement(gr,{key:"1"})]:null)}}])&&Pr(t.prototype,n),r&&Pr(t,r),i}(s.a.PureComponent),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(vr,"propTypes",{close:u.a.func.isRequired,isActive:u.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((hr=mr).prototype,"render",[dr],Object.getOwnPropertyDescriptor(hr.prototype,"render"),hr.prototype),hr),Ar=Object(l.f)(Dr,(function(e){return{isActive:e.explorer.isActive}}),{close:Mt.i,reloadTree:Mt.w});function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Br(e);if(t){var o=Br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mr(this,n)}}function Mr(e,t){return!t||"object"!==qr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ur,Hr,Fr,Wr,Gr=(_r=Object(w.c)("explorer."),Tr=Cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(i,e);var t,n,r,o=Lr(i);function i(){return zr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.isActive,r=t.selected,o=t.reloadTree,i=t.close,c=t.choose;return s.a.createElement(P.b,{cls:"bllc-explorer-choose-section-box",title:e("chooseTitle"),onClose:i,onOpen:o,isActive:n},n?[s.a.createElement(tn,{mode:"chooseDialog",key:"0"}),s.a.createElement("div",{className:"bllc-ecsb-controls",key:"1"},s.a.createElement(P.a,{label:e("chooseSection"),disabled:!r,onClick:c,icon:"ok"}))]:null)}}])&&Ir(t.prototype,n),r&&Ir(t,r),i}(s.a.PureComponent),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Cr,"propTypes",{isActive:u.a.bool.isRequired,close:u.a.func.isRequired,choose:u.a.func.isRequired,selected:u.a.number}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((xr=Tr).prototype,"render",[_r],Object.getOwnPropertyDescriptor(xr.prototype,"render"),xr.prototype),xr),Vr=Object(l.f)(Gr,(function(e){var t=e.explorer.choose;return{isActive:t.isActive,selected:t.selected}}),(function(e){return{close:function(){return e(Object(Mt.b)())},choose:function(){return e(Object(Mt.a)())}}}));function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eo(e);if(t){var o=eo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zr(this,n)}}function Zr(e,t){return!t||"object"!==$r(t)&&"function"!=typeof t?Qr(e):t}function Qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var no=(Ur=Object(w.c)("explorer.createLesson."),Wr=Fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(i,e);var t,n,r,o=Jr(i);function i(){var e;Kr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return to(Qr(e=o.call.apply(o,[this].concat(n))),"setTitle",(function(t){return e.props.set("title",t)})),to(Qr(e),"setLang",(function(t){return e.props.set("lang",t)})),to(Qr(e),"setInterfaceLang",(function(t){return e.props.set("interfaceLang",t)})),to(Qr(e),"setLessonType",(function(t){return e.props.set("lessonType",t)})),to(Qr(e),"create",(function(){var t=e.props,n=t.sid,r=t.lang,o=t.create,i=t.interfaceLang,c=t.lessonType;o(n,e.getTitle(),r,i,c)})),e}return t=i,(n=[{key:"getTitle",value:function(){return":gen:"===this.props.title?this.cx.tt("newTitle"):this.props.title}},{key:"render",value:function(e){var t=this.props,n=t.isActive,r=t.close,o=t.lang,i=t.interfaceLang,c=t.lessonType;return s.a.createElement(P.b,{cls:"bllc-explorer-create-lesson-box",title:e("dialogTitle"),onClose:r,isActive:n},s.a.createElement(P.f,{value:this.getTitle(),label:e("title"),onChange:this.setTitle}),s.a.createElement(P.i,{label:e("lang"),onChange:this.setLang,value:o},s.a.createElement("option",{value:"ru"},"RU"),s.a.createElement("option",{value:"kz"},"KZ"),s.a.createElement("option",{value:"en"},"EN")),s.a.createElement(P.i,{label:e("interfaceLang"),onChange:this.setInterfaceLang,value:i},s.a.createElement("option",{value:"ru"},"RU"),s.a.createElement("option",{value:"kz"},"KZ"),s.a.createElement("option",{value:"en"},"EN")),s.a.createElement(P.i,{label:e("lessonType.title"),onChange:this.setLessonType,value:c},s.a.createElement("option",{value:"common"},e("lessonType.common")),s.a.createElement("option",{value:"newAdaptive"},e("lessonType.newAdaptive"))),s.a.createElement("div",{className:"bllc-expl-clb-controls"},s.a.createElement(P.a,{onClick:this.create,label:e("create")})))}}])&&Xr(t.prototype,n),r&&Xr(t,r),i}(s.a.PureComponent),to(Fr,"propTypes",{isActive:u.a.bool.isRequired,close:u.a.func.isRequired,title:u.a.string.isRequired,lang:u.a.string.isRequired,create:u.a.func.isRequired,sid:u.a.number}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Hr=Wr).prototype,"render",[Ur],Object.getOwnPropertyDescriptor(Hr.prototype,"render"),Hr.prototype),Hr),ro=Object(l.f)(no,(function(e,t,n){var r=e.explorer,o=(e.lesson,r.lesson),i=o.isActive,c=o.lang,a=o.title,u=o.interfaceLang,l=o.lessonType,f=null===c?Object(St.d)(n):c;return{isActive:i,lang:f,title:a,sid:r.selectedSection,lessonType:l,interfaceLang:null===u?f:u}}),{close:Mt.o,set:Mt.r,create:Mt.p}),oo=n(56),io=n.n(oo),co=n(74),ao=n(3);function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var fo,so,po,yo,bo=io()((function(e){return{updateAction:e}})),ho=Object(w.a)((function(e){var t=e.lessonApi,n=e.action,r=lo(e,["lessonApi","action"]),o=Object(ao.d)("lessonApi");return s.a.createElement(o,{value:t},s.a.createElement(co.a,uo({},r,{withPanel:!0,payload:bo(n)})))}),"lessonApi");function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oo(e,t){return(Oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Po(e);if(t){var o=Po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wo(this,n)}}function wo(e,t){return!t||"object"!==vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ro,So,Eo,ko,_o=(fo=Object(w.c)("info."),yo=po=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oo(e,t)}(i,e);var t,n,r,o=jo(i);function i(){return mo(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.content,r=t.setContent,o=t.field;return s.a.createElement("div",{className:"bllc-ibox-content-region"},s.a.createElement("label",{className:"bllc-ibox-label"},e(o)),s.a.createElement(ho,{action:r[o],id:"infd:".concat(o),data:n}))}}])&&go(t.prototype,n),r&&go(t,r),i}(s.a.PureComponent),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(po,"propTypes",{field:u.a.string.isRequired,path:u.a.string.isRequired,clipboard:u.a.object.isRequired,setContent:u.a.shape({summary:u.a.func.isRequired}).isRequired,content:u.a.array.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((so=yo).prototype,"render",[fo],Object.getOwnPropertyDescriptor(so.prototype,"render"),so.prototype),so);function xo(e){return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Io(e);if(t){var o=Io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qo(this,n)}}function qo(e,t){return!t||"object"!==xo(t)&&"function"!=typeof t?zo(e):t}function zo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lo,Mo,Bo,Uo,Ho=(Ro=Object(w.c)("info."),ko=Eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}(i,e);var t,n,r,o=Ao(i);function i(){var e;Co(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return No(zo(e=o.call.apply(o,[this].concat(n))),"setLabel",(function(t){e.props.setLabel(t)})),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props.label;return s.a.createElement(P.f,{cls:"bllc-ibox-llabel",label:e("label"),role:"lesson-label",value:t,onChange:this.setLabel})}}])&&To(t.prototype,n),r&&To(t,r),i}(s.a.PureComponent),No(Eo,"propTypes",{setLabel:u.a.func.isRequired,label:u.a.string.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((So=ko).prototype,"render",[Ro],Object.getOwnPropertyDescriptor(So.prototype,"render"),So.prototype),So);function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e,t){return(Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yo(e);if(t){var o=Yo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ko(this,n)}}function Ko(e,t){return!t||"object"!==Fo(t)&&"function"!=typeof t?Xo(e):t}function Xo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yo(e){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zo,Qo,ei,ti,ni=(Lo=Object(w.c)("info.lang."),Uo=Bo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vo(e,t)}(i,e);var t,n,r,o=$o(i);function i(){var e;Wo(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jo(Xo(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){e.props.setLang(t)})),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props.lang;return s.a.createElement(P.i,{cls:"bllc-ibox-lang",label:e("label"),value:t,onChange:this.onChange,role:"lesson-lang"},s.a.createElement("option",{value:"kz"},e("kz")),s.a.createElement("option",{value:"ru"},e("ru")),s.a.createElement("option",{value:"en"},e("en")))}}])&&Go(t.prototype,n),r&&Go(t,r),i}(s.a.PureComponent),Jo(Bo,"propTypes",{lang:u.a.string.isRequired,setLang:u.a.func.isRequired,label:u.a.string.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Mo=Uo).prototype,"render",[Lo],Object.getOwnPropertyDescriptor(Mo.prototype,"render"),Mo.prototype),Mo);function ri(e){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(e,t){return(ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fi(e);if(t){var o=fi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ui(this,n)}}function ui(e,t){return!t||"object"!==ri(t)&&"function"!=typeof t?li(e):t}function li(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pi,yi,bi,di,hi=(Zo=Object(w.c)("info.theme."),ti=ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ci(e,t)}(i,e);var t,n,r,o=ai(i);function i(){var e;oi(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return si(li(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){e.props.setThemes(t)})),e}return t=i,(n=[{key:"genOptions",value:function(){return this.props.themesList.map((function(e){return{value:e,label:e}}))}},{key:"render",value:function(e){var t=this.props,n=t.themes,r=t.themesList;return s.a.createElement(P.i,{cls:"bllc-ibox-theme",label:e("label"),multi:!0,value:n,onChange:this.onChange,role:"lesson-themes"},s.a.createElement("option",{value:void 0},e("none")),r.map((function(e,t){return s.a.createElement("option",{key:e,value:e},e)}),this))}}])&&ii(t.prototype,n),r&&ii(t,r),i}(s.a.PureComponent),si(ei,"propTypes",{lang:u.a.string.isRequired,setThemes:u.a.func.isRequired,themesList:u.a.arrayOf(u.a.string).isRequired,themes:u.a.arrayOf(u.a.string).isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Qo=ti).prototype,"render",[Zo],Object.getOwnPropertyDescriptor(Qo.prototype,"render"),Qo.prototype),Qo);function vi(e){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t){return(Oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ri(e);if(t){var o=Ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wi(this,n)}}function wi(e,t){return!t||"object"!==vi(t)&&"function"!=typeof t?Pi(e):t}function Pi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ri(e){return(Ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ei,ki,_i,xi,Ci=(pi=Object(w.c)("info.lang."),di=bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oi(e,t)}(i,e);var t,n,r,o=ji(i);function i(){var e;mi(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Si(Pi(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){e.props.setInterfaceLang(t)})),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props.interfaceLang;return s.a.createElement(P.i,{cls:"bllc-ibox-lang",label:e("interfaceLabel"),value:t,onChange:this.onChange,role:"lesson-interface-lang"},s.a.createElement("option",{value:"kz"},e("kz")),s.a.createElement("option",{value:"ru"},e("ru")),s.a.createElement("option",{value:"en"},e("en")),s.a.createElement("option",{value:"uz"},e("uz")))}}])&&gi(t.prototype,n),r&&gi(t,r),i}(s.a.PureComponent),Si(bi,"propTypes",{interfaceLang:u.a.string.isRequired,setInterfaceLang:u.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((yi=di).prototype,"render",[pi],Object.getOwnPropertyDescriptor(yi.prototype,"render"),yi.prototype),yi);function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Di(){return(Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zi(e,t){return(zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ii(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Li(e);if(t){var o=Li(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ni(this,n)}}function Ni(e,t){return!t||"object"!==Ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Li(e){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mi=(Ei=Object(w.c)("info."),xi=_i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zi(e,t)}(i,e);var t,n,r,o=Ii(i);function i(){return Ai(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.isActive,r=t.isContentEditing,o=t.summary,i=t.worklist;return n?s.a.createElement(P.b,Di({cls:"bllc-info-box",title:e("title")},h()(this.props,"onClose","isActive"),{canClose:!r,role:"info-dialog"}),s.a.createElement(Ho,this.props),s.a.createElement(ni,this.props),s.a.createElement(Ci,h()(this.props,["setInterfaceLang","interfaceLang"])),s.a.createElement(hi,this.props),s.a.createElement(_o,Di({},this.props,{content:o,field:"summary"})),s.a.createElement(_o,Di({},this.props,{content:i,field:"worklist"}))):null}}])&&qi(t.prototype,n),r&&qi(t,r),i}(s.a.PureComponent),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(_i,"propTypes",{onClose:u.a.func.isRequired,isContentEditing:u.a.bool.isRequired,summary:u.a.array.isRequired,worklist:u.a.array.isRequired,clipboard:u.a.object.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((ki=xi).prototype,"render",[Ei],Object.getOwnPropertyDescriptor(ki.prototype,"render"),ki.prototype),ki),Bi=n(60);function Ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(n),!0).forEach((function(t){Fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wi,Gi,Vi,$i,Ki={summary:Bi.f,worklist:Bi.i},Xi=["1-4","math","geometry","algebra","chemistry","discovery"],Yi=Object(l.f)(Mi,(function(e,t,n){var r=e.lesson,o=n.clipboard,i=r.info,c=r.data,a=Object(St.f)(r).id;return Hi(Hi(Hi({path:c.path,isContentEditing:!!a&&a.startsWith("infd"),setContent:Ki,clipboard:o},h()(r.data,"summary","worklist","label","lang","themes","interfaceLang","time")),h()(i,"isActive")),{},{themesList:Xi})}),{onClose:Bi.a,setLabel:Bi.d,setTime:Bi.h,setLang:Bi.e,setInterfaceLang:Bi.c,setThemes:Bi.g}),Ji=n(17),Zi=n.n(Ji);function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nc(e,t){return(nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cc(e);if(t){var o=cc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oc(this,n)}}function oc(e,t){return!t||"object"!==Qi(t)&&"function"!=typeof t?ic(e):t}function ic(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cc(e){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uc=(Wi=Object(w.c)("lang."),$i=Vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nc(e,t)}(i,e);var t,n,r,o=rc(i);function i(){var e;ec(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ac(ic(e=o.call.apply(o,[this].concat(n))),"toggleLang",(function(t){var n=e.props,r=n.uiLang,o=n.setLang,i=e.cx.tt.langList,c=i.findIndex((function(e){return e===r}));o(i[c+1]||i[0])})),e}return t=i,(n=[{key:"render",value:function(e){var t=this.props.uiLang;return s.a.createElement("div",{className:"bllc-mh-controls"},s.a.createElement("div",{className:"bllc-mh-lng",onClick:this.toggleLang,title:e("change",e.label)},t))}}])&&tc(t.prototype,n),r&&tc(t,r),i}(s.a.PureComponent),ac(Vi,"propTypes",{uiLang:u.a.string.isRequired,setLang:u.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Gi=$i).prototype,"render",[Wi],Object.getOwnPropertyDescriptor(Gi.prototype,"render"),Gi.prototype),Gi),lc=Object(l.f)(uc,(function(e){return{uiLang:e.lesson.uiLang}}),{setLang:Rt.q});function fc(e){return(fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yc(e,t){return(yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vc(e);if(t){var o=vc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dc(this,n)}}function dc(e,t){return!t||"object"!==fc(t)&&"function"!=typeof t?hc(e):t}function hc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vc(e){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yc(e,t)}(i,e);var t,n,r,o=bc(i);function i(){var e;sc(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mc(hc(e=o.call.apply(o,[this].concat(n))),"state",{active:!1}),mc(hc(e),"activate",(function(){e.setState({active:!0})})),mc(hc(e),"deactivate",(function(){e.setState({active:!1})})),e}return t=i,(n=[{key:"componentDidMount",value:function(){document.addEventListener("bllcAjaxStart",this.activate),document.addEventListener("bllcAjaxEnd",this.deactivate)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("bllcAjaxStart",this.activate),document.removeEventListener("bllcAjaxEnd",this.deactivate)}},{key:"render",value:function(){return this.state.active?s.a.createElement("div",{className:"bllc-mh-controls"},s.a.createElement("div",{className:"bllc-ajax-indicator"})):null}}])&&pc(t.prototype,n),r&&pc(t,r),i}(s.a.PureComponent),Oc=n(324),jc=n(148);function wc(e){return(wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pc(){return(Pc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ec(e,t){return(Ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xc(e);if(t){var o=xc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _c(this,n)}}function _c(e,t){return!t||"object"!==wc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xc(e){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ec(e,t)}(i,e);var t,n,r,o=kc(i);function i(){return Rc(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.isRenaming,n=e.aLessonRename,r=e.title,o=e.lessonTitle,i=Object(p.h)("bllc-mh-title",t&&"bllc-mh-editing");return s.a.createElement("div",{className:"bllc-mh-controls bllc-mh-rename-panel"},s.a.createElement(jc.a,{actions:n,isRenaming:t}),s.a.createElement("span",{className:i},s.a.createElement(jc.b,Pc({isRenaming:t,title:r},{actions:n,value:o}))))}}])&&Sc(t.prototype,n),r&&Sc(t,r),i}(s.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Cc,"propTypes",{title:u.a.node.isRequired,aLessonRename:u.a.shape({start:u.a.func.isRequired,commit:u.a.func.isRequired,val:u.a.func.isRequired,cancel:u.a.func.isRequired}).isRequired,isRenaming:u.a.bool.isRequired,lessonTitle:u.a.string.isRequired});var Tc,Dc,Ac,qc,zc,Ic=Object(l.f)(Cc,(function(e){var t=e.lesson,n=t.isRenaming,r=t.data,o=r.title,i=r.label,c=r.lang,a=r.id;return{isRenaming:n,lessonTitle:o,title:(i?"".concat(i," :: "):"")+"".concat(a," :: ").concat(c.toUpperCase()," :: ").concat(o),aLessonRename:Rt.m}}));function Nc(e){return(Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lc(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function Mc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){Lc(i,r,o,c,a,"next",e)}function a(e){Lc(i,r,o,c,a,"throw",e)}c(void 0)}))}}function Bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hc(e,t){return(Hc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vc(e);if(t){var o=Vc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wc(this,n)}}function Wc(e,t){return!t||"object"!==Nc(t)&&"function"!=typeof t?Gc(e):t}function Gc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vc(e){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kc=(Tc=Object(w.e)("lessonApi"),Dc=Object(w.c)("lessonHat."),zc=qc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hc(e,t)}(i,e);var t,n,r,o=Fc(i);function i(){var e;Bc(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $c(Gc(e=o.call.apply(o,[this].concat(n))),"state",{}),$c(Gc(e),"exportClick",(function(t){var n=t.ctrlKey,r=t.metaKey;n||r?e.props.importFile():e.props.exportFile()})),$c(Gc(e),"onDeployClick",function(){var t=Mc(regeneratorRuntime.mark((function t(n){var r,o,i,c,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.shiftKey,o=n.ctrlKey,i=r?"immediately":null,c=o?"dev":"prod",!confirm(e.cx.tt("deploy.ask"))){t.next=8;break}return t.next=6,e.props.deployLesson(i,c);case 6:a=t.sent,Object(l.n)(e.cx.tt("deploy.".concat(a)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),$c(Gc(e),"onNewDeploy",function(){var t=Mc(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.shiftKey){t.next=6;break}return t.next=4,e.props.newDeploy();case 4:r=t.sent,Object(l.n)(e.cx.tt("deploy.".concat(r)));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return t=i,(n=[{key:"componentDidCatch",value:function(e,t){if(window.TEST)throw e;this.setState({err:e})}},{key:"renderInfoBtn",value:function(e){return s.a.createElement(P.d,{key:"info-btn",icon:"beaker",onClick:this.props.infoOpen,role:"open-info-dialog",title:e("info")})}},{key:"renderExplorerBtn",value:function(e){return s.a.createElement(P.d,{key:"explorer-btn",cls:"bllc-rh-explorer",icon:"folder-open-empty",title:e("explorer"),onClick:this.props.explOpen},s.a.createElement(P.g,{kkb:"ctrl+o, cmd+o",action:this.props.explOpen}))}},{key:"renderResetBtn",value:function(e){return s.a.createElement(P.d,{key:"reset-btn",icon:"arrows-cw",title:e("reset"),cls:"system-reset",onClick:O.a,style:{display:"none"}})}},{key:"renderExportStateBtn",value:function(e){return s.a.createElement(P.d,{key:"export-state-btn",icon:"paper-plane-empty",title:e("exportState"),onClick:this.exportClick})}},{key:"renderSaveBtn",value:function(e){return s.a.createElement(P.d,{key:"save-btn",icon:"floppy",onClick:this.props.save,title:e("save")},s.a.createElement(P.g,{kkb:"ctrl+s, cmd+s",action:this.props.save}))}},{key:"renderBrowserBtn",value:function(e){return s.a.createElement(P.d,{key:"browser-btn",icon:"th",title:e("browser"),onClick:this.props.assetsOpen})}},{key:"renderPlatformBtn",value:function(e){return s.a.createElement(P.d,{key:"platform-btn",icon:"play",title:e("platform"),onClick:this.props.openInPlatform})}},{key:"renderFullscreenBtn",value:function(e){return s.a.createElement(P.d,{key:"fullscreen-btn",icon:"move",title:e("fullscreen"),onClick:this.props.fullscreenToggle})}},{key:"renderHelpBtn",value:function(e,t){return s.a.createElement(P.d,{key:"help-btn",icon:"help-circled",title:e("help"),href:t})}},{key:"renderFake",value:function(e){return s.a.createElement("div",{className:"bllc-main-hat"},s.a.createElement("div",{className:"bllc-mh-controls"},this.renderExplorerBtn(e)),this.state.err.message,s.a.createElement("div",{className:"bllc-mh-space"}),this.renderResetBtn(e))}},{key:"renderDeployBtn",value:function(e){return s.a.createElement(P.d,{key:"deploy",icon:"upload-cloud",title:e("deploy.action"),onClick:this.onDeployClick})}},{key:"renderDeployProdBtn",value:function(e){return s.a.createElement(P.d,{key:"deploy",icon:"link-ext-alt",title:"Новый деплой",onClick:this.onNewDeploy})}},{key:"render",value:function(e,t){if(this.state.err)return this.renderFake(t);var n=this.props,r=n.isLessonLoaded,o=n.isContentEditing,i=Object(p.h)("bllc-main-hat",o&&"bllc-nosticky");return s.a.createElement("div",{className:i},r?[s.a.createElement(Oc.a,{key:"0"}),s.a.createElement("div",{className:"bllc-mh-controls",key:"1"},this.renderExplorerBtn(t),this.renderInfoBtn(t),this.renderBrowserBtn(t),this.renderSaveBtn(t),this.renderPlatformBtn(t),this.renderDeployBtn(t),this.renderDeployProdBtn(t)),s.a.createElement(Ic,{key:"2"})]:null,r?null:[this.renderExplorerBtn(t),s.a.createElement("div",{className:"bllc-mh-space",key:"1"})],s.a.createElement(gc,null),s.a.createElement(lc,null),s.a.createElement("div",{className:"bllc-mh-controls"},this.renderHelpBtn(t,e.helpUrl),this.renderExportStateBtn(t),this.renderResetBtn(t)))}}])&&Uc(t.prototype,n),r&&Uc(t,r),i}(s.a.PureComponent),$c(qc,"propTypes",{explOpen:u.a.func.isRequired,isLessonLoaded:u.a.bool.isRequired,assetsOpen:u.a.func.isRequired,infoOpen:u.a.func.isRequired,save:u.a.func.isRequired,isContentEditing:u.a.bool.isRequired,exportFile:u.a.func.isRequired,importFile:u.a.func.isRequired,openInPlatform:u.a.func.isRequired,deployLesson:u.a.func.isRequired,newDeploy:u.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Ac=zc).prototype,"render",[Tc,Dc],Object.getOwnPropertyDescriptor(Ac.prototype,"render"),Ac.prototype),Ac);function Xc(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}var Yc,Jc,Zc,Qc,ea=Object(l.f)(Kc,(function(e){var t=e.lesson;return{isLessonLoaded:!!t.data,isContentEditing:Zi()(t,"state.content.isEditing",!1)}}),(function(e){return{explOpen:function(){e(Object(Mt.u)())},assetsOpen:function(){e(Object(y.i)())},save:function(){e(Object(Rt.o)()).catch(l.m)},infoOpen:function(){e(Object(Bi.b)())},exportFile:function(){var e=Object(l.k)(Object(l.b)()),t=Object(St.i)(Object(l.b)()).data.id,n=Number(new Date),r={st:e,actions:Object(l.a)(),info:Object(l.c)()};Object(l.h)(r,"state-".concat(t,"-").concat(n))},importFile:function(){return(t=regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.i)(".json");case 2:return n=t.sent,t.next=5,Object(l.l)(n);case 5:r=t.sent.st,o=Object(l.o)(r),e({type:"$DEV$_REPLACE_STATE",data:o});case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(e){Xc(i,r,o,c,a,"next",e)}function a(e){Xc(i,r,o,c,a,"throw",e)}c(void 0)}))})();var t},openInPlatform:function(){return e(Object(Mt.v)("%current%"))},deployLesson:function(t,n){return e(Object(Rt.h)(t,n))},newDeploy:function(){return e(Object(Rt.t)())},fullscreenToggle:function(){return e(Object(Rt.b)())}}})),ta=n(627),na=n(26),ra=Object(l.f)(ta.a,(function(e){var t=e.lesson,n=t.state.content,r=n.isEditing,o=n.mod;return{page:t.page,count:t.data.pages.length,titles:Object(St.o)(t.data.pages),contentEditPage:r&&o?Object(St.n)(t.data.pages,o.mid):-1}}),{setPage:na.u}),oa=n(256),ia=n(21),ca=Object(l.f)(oa.a,(function(e){var t=e.lesson,n=Object(ia.i)(t);return{modules:Object(St.e)(t),selMids:n,isAdaptive:Object(St.q)(t)}}));function aa(e){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ya(e);if(t){var o=ya(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pa(this,n)}}function pa(e,t){return!t||"object"!==aa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ba=(Yc=Object(w.c)("general."),Qc=Zc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(i,e);var t,n,r,o=sa(i);function i(){return ua(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.loading,r=t.err,o=t.data;return s.a.createElement("div",{className:"bllc-main-body"},o?[s.a.createElement(ra,{position:"top",key:"0"}),s.a.createElement(ca,{key:"1"}),s.a.createElement(ra,{position:"bottom",key:"2"})]:null,r?s.a.createElement("pre",{className:"bllc-root-err"},e("error")," ",r):null,n?s.a.createElement("div",{className:"bllc-root-loading"},e("loading")):null,r||o||n?null:s.a.createElement("div",null,e("noData")))}}])&&la(t.prototype,n),r&&la(t,r),i}(s.a.PureComponent),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Zc,"propTypes",{err:u.a.any,data:u.a.object,loading:u.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Jc=Qc).prototype,"render",[Yc],Object.getOwnPropertyDescriptor(Jc.prototype,"render"),Jc.prototype),Jc),da=Object(P.k)(ba),ha=Object(l.f)(da,(function(e){var t=e.lesson;return h()(t,"loading","err","data")}));function va(e){return(va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ma(){return(ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ga(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return ga=function(){return e},e}function Oa(e){if(e&&e.__esModule)return e;if(null===e||"object"!==va(e)&&"function"!=typeof e)return{default:e};var t=ga();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function ja(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(n),!0).forEach((function(t){Ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sa(e,t){return(Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xa(e);if(t){var o=xa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ka(this,n)}}function ka(e,t){return!t||"object"!==va(t)&&"function"!=typeof t?_a(e):t}function _a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xa(e){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}(u,e);var t,r,o,i,c,a=Ea(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),Ca(_a(t=a.call(this,e)),"state",{Inner:null,redux:null}),Ca(_a(t),"genLessonApi",Object(it.a)((function(e){return e}),(function(e){return Pa(Pa({},e),{},{dispatch:t.props.modDispatch,contentDispatch:t.props.contentDispatch})}))),t.connect(),t}return t=u,(r=[{key:"connect",value:(i=regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return Oa(n(1234))}));case 2:return t=e.sent,r=t.default,e.next=6,Promise.resolve().then((function(){return Oa(n(1231))}));case 6:this.setState({Inner:r});case 7:case"end":return e.stop()}}),e,this)})),c=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function c(e){ja(o,n,r,c,a,"next",e)}function a(e){ja(o,n,r,c,a,"throw",e)}c(void 0)}))},function(){return c.apply(this,arguments)})},{key:"render",value:function(e){var t=this.state.Inner;if(!t)return null;var n=this.props,r=n.module,o=n.size,i=n.isChecked,c=n.isCorrect,a=this.genLessonApi(this.props.lessonApi),u=Object(w.b)("app"),l=Object(p.h)("bllp-box","bllp-module","bllp-module-".concat(r.type),i&&"bllp-module-checked",i&&c&&"bllp-correct",i&&!c&&"bllp-incorrect",i&&"bllp-module-readonly");return s.a.createElement("div",{className:l,"data-size":o},s.a.createElement(u,{value:"platform"},s.a.createElement(t,ma({},this.props,{lessonApi:a}))))}}])&&Ra(t.prototype,r),o&&Ra(t,o),u}(s.a.PureComponent);Ca(Ta,"propTypes",{module:u.a.shape({id:u.a.string.isRequired,type:u.a.string.isRequired}).isRequired,isFinished:u.a.bool.isRequired,isReadonly:u.a.bool.isRequired,isCorrect:u.a.bool.isRequired,state:u.a.object.isRequired,contentState:u.a.object.isRequired,path:u.a.string.isRequired,assets:u.a.object.isRequired,contentDispatch:u.a.func.isRequired,modDispatch:u.a.func.isRequired,size:u.a.string.isRequired});var Da,Aa,qa,za,Ia=n(93),Na=Object(it.a)((function(e){return e.lesson.data.formulas}),(function(e){return e.lesson.data.assets}),(function(e){return e.lesson.data.path}),(function(e){return e.platformMask}),(function(e,t,n,r){return{isModuleCorrect:function(){return!1},getAssetUrl:function(e){return Object(b.a)(n,t,e)},getFormula:function(t){return e[t]},lessonLinkMask:r.replace(":lid:",":id"),isMobile:!1,lessonFinish:O.a,setPage:O.a,checkModule:O.a,setScrollLock:O.a}})),La=Object(l.f)(Ta,(function(e,t,n){var r=e.lesson,o=(t.lessonApi,n.platformMask),i=r.platform,c=r.data,a=i.mod,u=i.dialog,l=Object(St.l)(r,u.mid),f=Object(b.e)(r.data.assets),s=Ia.c[l.type](l,a.state);return{module:l,isFinished:a.isFinished,isReadonly:a.isChecked,isCorrect:s,isChecked:a.isChecked,size:u.size,state:a.state,lessonApi:Na({lesson:r,platformMask:o}),contentState:a.contentState,additionalCprops:{lang:c.lang},isHighlighted:!1,path:c.path,assets:f}}),{contentDispatch:function(e){return e},modDispatch:function(e){return e}});function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t){return(Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Va(e);if(t){var o=Va(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wa(this,n)}}function Wa(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?Ga(e):t}function Ga(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ka,Xa,Ya,Ja,Za=(Da=Object(w.c)("platformModule."),za=qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ha(e,t)}(i,e);var t,n,r,o=Fa(i);function i(){var e;Ba(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $a(Ga(e=o.call.apply(o,[this].concat(n))),"setSize",(function(t,n){e.props.setSize(n.replace("size-",""))})),e}return t=i,(n=[{key:"getStatusIcon",value:function(){var e=this.props,t=e.isChecked,n=e.isCorrect;return t?n?"ok":"cancel-circled":"play"}},{key:"render",value:function(e){var t=this.props,n=t.isChecked,r=t.size;return s.a.createElement("div",{className:"bllc-pmd-controls"},s.a.createElement(P.d,{icon:this.getStatusIcon(),disabled:!n}),n?null:s.a.createElement(P.a,{icon:"ok",label:e("check"),onClick:this.props.check}),n?s.a.createElement(P.a,{label:e("uncheck"),onClick:this.props.uncheck}):null,s.a.createElement(P.a,{icon:"block",label:e("reset"),onClick:this.props.reset}),s.a.createElement("div",{className:"bllc-pmd-vl"}),s.a.createElement(P.d,{title:e("size.big"),icon:"th",role:"size-big",disabled:"big"===r,onClick:this.setSize}),s.a.createElement(P.d,{title:e("size.medium"),icon:"th-large",role:"size-medium",disabled:"medium"===r,onClick:this.setSize}),s.a.createElement(P.d,{title:e("size.small"),icon:"stop",role:"size-small",disabled:"small"===r,onClick:this.setSize}),s.a.createElement("div",{className:"bllc-pmd-space"}),s.a.createElement(P.a,{icon:"cancel-circled",label:e("close"),onClick:this.props.close}))}}])&&Ua(t.prototype,n),r&&Ua(t,r),i}(s.a.PureComponent),$a(qa,"propTypes",{isChecked:u.a.bool.isRequired,isCorrect:u.a.bool.isRequired,close:u.a.func.isRequired,check:u.a.func.isRequired,reset:u.a.func.isRequired,uncheck:u.a.func.isRequired,setSize:u.a.func.isRequired,size:u.a.string.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Aa=za).prototype,"render",[Da],Object.getOwnPropertyDescriptor(Aa.prototype,"render"),Aa.prototype),Aa),Qa=n(76),eu=Object(l.f)(Za,(function(e){var t=e.lesson,n=t.platform,r=n.mod,o=n.dialog,i=Object(St.l)(t,o.mid),c=r.isChecked&&Ia.c[i.type](i,r.state);return{isChecked:r.isChecked,isCorrect:c,size:o.size}}),{check:Qa.a,uncheck:Qa.f,reset:Qa.d,setSize:Qa.e,close:Qa.b});function tu(e){return(tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ou(e,t){return(ou=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=au(e);if(t){var o=au(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cu(this,n)}}function cu(e,t){return!t||"object"!==tu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function au(e){return(au=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var uu,lu,fu=(Ka=Object(w.c)("platformModule."),Ja=Ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ou(e,t)}(i,e);var t,n,r,o=iu(i);function i(){return nu(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e){var t=this.props,n=t.isActive,r=t.onClose;return n?s.a.createElement(P.b,{cls:"bllc-platform-module-dialog",title:e("dialogTitle"),isActive:!0,onClose:r},s.a.createElement(La,null),s.a.createElement(eu,null)):null}}])&&ru(t.prototype,n),r&&ru(t,r),i}(s.a.PureComponent),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ya,"propTypes",{onClose:u.a.func.isRequired,isActive:u.a.bool.isRequired,mid:u.a.string}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((Xa=Ja).prototype,"render",[Ka],Object.getOwnPropertyDescriptor(Xa.prototype,"render"),Xa.prototype),Xa),su=Object(l.f)(fu,(function(e){return{isActive:e.lesson.platform.dialog.isActive}}),{onClose:Qa.b}),pu=n(64),yu=n(181);function bu(e){return(bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function du(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function hu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){du(i,r,o,c,a,"next",e)}function a(e){du(i,r,o,c,a,"throw",e)}c(void 0)}))}}function vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(n),!0).forEach((function(t){Eu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ju(e,t){return(ju=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Su(e);if(t){var o=Su(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pu(this,n)}}function Pu(e,t){return!t||"object"!==bu(t)&&"function"!=typeof t?Ru(e):t}function Ru(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Su(e){return(Su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ku,_u,xu,Cu,Tu=(uu=Object(w.c)("auth."),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((lu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ju(e,t)}(i,e);var t,n,r,o=wu(i);function i(){var e;gu(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Eu(Ru(e=o.call.apply(o,[this].concat(n))),"state",{loading:!1,error:!1,login:"",password:""}),Eu(Ru(e),"onInputChange",(function(t,n){e.setState((function(e){return mu(mu({},e),{},Eu({},n,t))}))})),Eu(Ru(e),"onSubmitClick",hu(regeneratorRuntime.mark((function t(){var n,r,o,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.submit,r=e.state,o=r.login,i=r.password,e.setState({loading:!0,error:!1}),t.next=5,n({login:o,password:i});case 5:(c=t.sent).error?e.setState({loading:!1,error:c.error}):e.setState({loading:!1});case 7:case"end":return t.stop()}}),t)})))),e}return t=i,(n=[{key:"render",value:function(e){var t=this,n=this.state,r=n.login,o=n.password,i=n.loading,c=n.error;return s.a.createElement("div",{className:"bllc-auth-wrapper"},s.a.createElement("div",{className:"bllc-auth-header"},e("header")),s.a.createElement("div",{className:"bllc-auth-form"},s.a.createElement("div",{className:"bllc-auth-field-wrapper"},s.a.createElement("div",{className:"bllc-auth-field-title"},e("login")),s.a.createElement(pu.a,{cls:"bllc-auth-field-input",type:"text",role:"auth-login",value:r,onChange:function(e){return t.onInputChange(e,"login")}})),s.a.createElement("div",{className:"bllc-auth-field-wrapper"},s.a.createElement("div",{className:"bllc-auth-field-title"},e("password")),s.a.createElement(pu.a,{cls:"bllc-auth-field-input",type:"password",role:"auth-password",value:o,onChange:function(e){return t.onInputChange(e,"password")}}))),c?s.a.createElement("div",{className:"bllc-auth-error"},e("error.".concat(c))):null,s.a.createElement(yu.a,{cls:"bllc-auth-submit-btn",disabled:!r||!o||i,role:"auth-submit",onClick:this.onSubmitClick},e("submit")))}}])&&Ou(t.prototype,n),r&&Ou(t,r),i}(s.a.Component)).prototype,"render",[uu],Object.getOwnPropertyDescriptor(lu.prototype,"render"),lu.prototype),lu),Du=Object(l.f)(Tu,(function(){return{}}),(function(e){return{submit:function(t){return e(Object(Rt.a)(t))}}}));function Au(e){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iu(e,t){return(Iu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mu(e);if(t){var o=Mu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lu(this,n)}}function Lu(e,t){return!t||"object"!==Au(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mu(e){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bu=(ku=Object(w.d)("t","lessonApi","app"),Cu=xu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iu(e,t)}(i,e);var t,n,r,o=Nu(i);function i(){return qu(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.isLessonLoaded,n=e.isAuth,r=e.isFullscreen;return s.a.createElement("div",{className:"bllc-main-box ".concat(r?"bllc-main-box-fullscreen":"")},n?[s.a.createElement(ea,{key:"0"}),s.a.createElement(Ar,{key:"1"}),t?[s.a.createElement(Yi,{key:"2-0"}),s.a.createElement(Lt,{key:"2-1"}),s.a.createElement(su,{key:"2-2"})]:null,s.a.createElement(Vr,{key:"3"}),s.a.createElement(ro,{key:"4"}),s.a.createElement(ha,{key:"5"})]:null,n?null:s.a.createElement(Du,null))}}])&&zu(t.prototype,n),r&&zu(t,r),i}(s.a.PureComponent),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xu,"propTypes",{t:u.a.func.isRequired,isLessonLoaded:u.a.bool.isRequired,lessonApi:u.a.object,isAuth:u.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((_u=Cu).prototype,"render",[ku],Object.getOwnPropertyDescriptor(_u.prototype,"render"),_u.prototype),_u),Uu=Object(l.f)(Bu,(function(e,t){var n=e.lesson,r=t.i18n,o=n.data,i=n.uiLang,c=n.isAuth;return{t:r.gen(i),isLessonLoaded:!!o,lessonApi:Object(St.c)(t),app:"constructor",isAuth:c,isFullscreen:n.isFullscreen}}));Uu.propTypes={i18n:u.a.object.isRequired,getLessonUrl:u.a.func.isRequired,rootURI:u.a.string.isRequired,helpUrl:u.a.string.isRequired,dispatch:u.a.func.isRequired};t.a=Uu},659:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r,o,i,c,a,u,l=n(1),f=n.n(l),s=n(0),p=n.n(s),y=n(9),b=n(75),d=n(109),h=n(3),v=n(157);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,_,x,C,T,D,A=(r=Object(v.a)(),o=Object(h.g)("modTools"),r((u=a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,n,r,o=w(i);function i(){var e;g(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(R(e=o.call.apply(o,[this].concat(n))),"toggleRight",(function(){var t=e.props,n=t.idx;(0,t.modDispatch)(Object(d.aToggle)(n))})),E(R(e),"del",(function(){var t=e.props,n=t.idx;(0,t.modDispatch)(Object(d.aDel)(n))})),E(R(e),"isDragDisabled",(function(){return!e.props.canMove})),e}return t=i,(n=[{key:"render",value:function(e){var t=e.c,n=this.props,r=n.opt,o=n.canDel,i=n.canMove;return f.a.createElement(this.DragItem,{className:t("opt")},i?f.a.createElement(this.DragHandle,null,f.a.createElement(y.a,{role:"drag",icon:"move"})):null,f.a.createElement(y.a,{icon:r.right?"check":"check-empty",onClick:this.toggleRight,role:"opt-right"}),f.a.createElement(b.a,{path:"options.".concat(r.id,".content")}),f.a.createElement(y.a,{icon:"trash",role:"opt-del",onClick:this.del,disabled:!o}))}}])&&O(t.prototype,n),r&&O(t,r),i}(f.a.PureComponent),E(a,"propTypes",{modDispatch:p.a.func.isRequired,opt:p.a.shape({content:p.a.array.isRequired,right:p.a.bool.isRequired}).isRequired,idx:p.a.number.isRequired,canDel:p.a.bool.isRequired,canMove:p.a.bool.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((c=u).prototype,"render",[o],Object.getOwnPropertyDescriptor(c.prototype,"render"),c.prototype),i=c))||i),q=n(156);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F,W,G,V=(k=Object(q.a)(),_=Object(h.g)("modTools"),k((D=T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(i,e);var t,n,r,o=B(i);function i(){return N(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"onDragEnd",value:function(e,t){(0,this.props.modDispatch)(Object(d.aMove)(e,t))}},{key:"render",value:function(e){var t=e.c,n=this.props,r=n.options,o=n.canHandleList,i=n.modDispatch;return f.a.createElement(this.DragRegion,{className:t("box")},r.map((function(e,t){return f.a.createElement(A,I({opt:e,idx:t,modDispatch:i},{key:t,dndIndex:t,canMove:o,canDel:r.length>1}))}),this))}}])&&L(t.prototype,n),r&&L(t,r),i}(f.a.PureComponent),F=T,W="propTypes",G={canHandleList:p.a.bool.isRequired,options:p.a.arrayOf(p.a.shape({content:p.a.array.isRequired,id:p.a.string.isRequired,right:p.a.bool.isRequired})).isRequired,modDispatch:p.a.func.isRequired},W in F?Object.defineProperty(F,W,{value:G,enumerable:!0,configurable:!0,writable:!0}):F[W]=G,function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((C=D).prototype,"render",[_],Object.getOwnPropertyDescriptor(C.prototype,"render"),C.prototype),x=C))||x)},660:function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var r,o,i,c,a,u,l=n(23),f=n.n(l),s=n(1),p=n.n(s),y=n(0),b=n.n(y),d=n(9),h=n(75),v=n(3),m=n(157);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,x,C,T,D,A,q=(r=Object(m.a)(),o=Object(v.g)("modTools"),r((u=a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,r,o=P(i);function i(){var e;O(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(S(e=o.call.apply(o,[this].concat(n))),"del",(function(){var t=e.props,n=t.idx;(0,t.del)(n)})),k(S(e),"isDragDisabled",(function(){return!e.props.canMove})),e}return t=i,(n=[{key:"render",value:function(e){var t=e.c,n=this.props,r=n.canDel,o=n.canMove,i=n.idx;return p.a.createElement(this.DragItem,{className:t("item")},o?p.a.createElement(this.DragHandle,{className:t("dnd-handle")},p.a.createElement(d.a,{icon:"move",role:"opt-move"})):null,p.a.createElement(h.a,{path:"items.".concat(i)}),p.a.createElement(d.a,{icon:"trash",onClick:this.del,disabled:!r,role:"opt-del"}))}}])&&j(t.prototype,n),r&&j(t,r),i}(p.a.PureComponent),k(a,"propTypes",{idx:b.a.number.isRequired,canMove:b.a.bool.isRequired,canDel:b.a.bool.isRequired,del:b.a.func.isRequired}),function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((c=u).prototype,"render",[o],Object.getOwnPropertyDescriptor(c.prototype,"render"),c.prototype),i=c))||i),z=n(156),I=n(160);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G,V,$,K=(_=Object(z.a)(),x=Object(v.g)("modTools"),_((A=D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,r,o=H(i);function i(){return M(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"onDragEnd",value:function(e,t){(0,this.cx.modTools.modDispatch)(Object(I.aMove)(e,t))}},{key:"render",value:function(e){e.c;var t=this.props.items;return p.a.createElement(this.DragRegion,null,t.map((function(e,t){return p.a.createElement(q,L({dndIndex:t,key:t},{idx:t},f()(this.props,"canMove","canDel","del")))}),this))}}])&&B(t.prototype,n),r&&B(t,r),i}(p.a.PureComponent),G=D,V="propTypes",$={canMove:b.a.bool.isRequired,canDel:b.a.bool.isRequired,del:b.a.func.isRequired,items:b.a.array.isRequired},V in G?Object.defineProperty(G,V,{value:$,enumerable:!0,configurable:!0,writable:!0}):G[V]=$,function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((T=A).prototype,"render",[x],Object.getOwnPropertyDescriptor(T.prototype,"render"),T.prototype),C=T))||C)},661:function(e,t,n){"use strict";n.r(t);n(433),n(662),n(663);var r=n(177);window.COMMITHASH="undefined",window.constructorInit(r.a)},69:function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g}));var r=n(57),o=n.n(r),i=n(143),c=n.n(i),a=n(36),u=n.n(a),l=n(6),f=n(248),s={group:["T:text"],text:"T:text",heading:"H:heading",paragraph:"P:text",formula:{type:"formula",fid:null,latex:"formula"},"expression:input":{type:"expression",id:null,kind:"input",value:"0"},"expression:math":{type:"expression",id:null,kind:"math",mask:"{} + {} = 4"},"expression:choice":{type:"expression",id:null,kind:"choice",right:0,list:[["T:Element 1"],["T:Element 2"]]},"expression:longMath":{type:"expression",id:null,kind:"longMath",op:"add",a:5,b:5,active:{},table:Object(f.a)(5,5)},"expression:dragitem":{type:"expression",id:null,kind:"dragitem",list:[]},"expression:nest":{type:"expression",id:null,kind:"dragnest",list:[],value:[]},"expression:sortable":{type:"expression",kind:"sortable",id:null,list:[{type:"sortableItem",list:["P:Text1"]},{type:"sortableItem",list:["P:Text2"]}]},sortableItem:{type:"sortableItem",list:["P:Text"]},image:"I:none",video:{type:"video",video:"none",preview:"none"},model:{type:"model",asset:"none"},widget:{type:"widget",asset:"none"},plot:{type:"plot",graph:{bg:{axis:{hor:{useGrid:!0,isEnabled:!0,bounds:[-5,5],step:1,legendStep:1,legendPlace:"before"},ver:{useGrid:!0,isEnabled:!0,bounds:[-5,5],step:1,legendStep:1,legendPlace:"before"}}},curves:[{fnY:"x^2",color:"red"}],points:[]}},table:{type:"table",columnWidths:{},columnAligns:{},columnValigns:{},list:[{type:"tableRow",list:[{type:"tableCell",list:["P:1"]},{type:"tableCell",list:["P:2"]}]}]},link:{type:"link",text:"text",href:"http://example.com"},assetLink:{type:"assetLink",text:"text",asset:"none"},list:{type:"list",list:[{type:"listItem",list:["P:item 1"]},{type:"listItem",list:["P:item 2"]}]},listItem:{type:"listItem",list:["P:item"]},toggleBlock:{type:"toggleBlock",label:["T:label"],list:["P:text"]},set:{type:"set",list:[{type:"setItem",list:["P:text"]}]},setItem:{type:"setItem",list:["P:Text"]},gallery:{type:"gallery",list:[{type:"galleryItem",label:["T:caption"],list:["I:none"]}]},galleryItem:{type:"galleryItem",label:["T:caption"],list:["I:none"]},tip:{type:"tip",text:"text",list:["P:text"]},inlineGroup:{type:"inlineGroup",list:["T:text"]}};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=l.a.get(e,l.a.up(t))||e;if(u()(t)in n)return t;var r=l.a.length(n);return r?l.a.childCid(n,l.a.up(t),r-1):l.a.up(t)}function h(e){return e=function(e,t){return l.a.walk(e,(function(n,r){if("dragnest"===n.kind){var o=n.value.filter((function(e){return!function(e,t){return e.has(t)&&"dragitem"===e.get(t).kind}(t,e)}));if(o.length){var i=n.value.filter((function(e){return!o.includes(e)})),c=y(y({},n),{},{value:i});e=l.a.upd(e,r,c)}}})),e}(e,function(e){return l.a.transformDeep(e,(function(e,t){"expression"===t.type&&e.set(t.id,t)}),new Map)}(e))}function v(e){var t=c()(e);return l.a.formulas.updFids(t),t}function m(e,t){var n=s[t];if(l.a.isExpression(n)){var r=l.a.getNextExpId(e.data);n=y(y({},n),{},{id:r})}return l.a.pack(n)}var g=function(e,t){return!o()(l.a.normalize(e),t)}},7:function(e,t,n){"use strict";n.d(t,"d",(function(){return r.f})),n.d(t,"a",(function(){return r.a})),n.d(t,"e",(function(){return r.h})),n.d(t,"c",(function(){return r.d})),n.d(t,"k",(function(){return r.n})),n.d(t,"f",(function(){return r.i})),n.d(t,"i",(function(){return r.l})),n.d(t,"b",(function(){return o.a})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return L})),n.d(t,"g",(function(){return M.a}));var r=n(30),o=n(295),i=n(1),c=n.n(i),a=n(0),u=n.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,v,m,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,n,r,o=y(i);function i(){return f(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.progress;return c.a.createElement("div",{className:"bllc-pbar"},c.a.createElement("div",{className:"bllc-pbar-thumb",style:{width:e+"%"}}))}}])&&s(t.prototype,n),r&&s(t,r),i}(c.a.PureComponent);h=g,v="propTypes",m={progress:u.a.number.isRequired},v in h?Object.defineProperty(h,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[v]=m;var O=n(23),j=n.n(O),w=n(39),P=n.n(w),R=n(2);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?q(e):t}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){C(n,e);var t=D(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return I(q(e=t.call.apply(t,[this].concat(o))),"onSelect",(function(){var t=e.props,n=t.el.id;(0,t.onSelect)(n)})),I(q(e),"onExpand",(function(t){t.stopPropagation();var n=e.props;(0,n.onExpand)(n.el)})),I(q(e),"onCollapse",(function(t){t.stopPropagation();var n=e.props;(0,n.onCollapse)(n.el)})),I(q(e),"onToggle",(function(t){e.isExpanded()?e.onCollapse(t):e.onExpand(t)})),e}return x(n,[{key:"isExpanded",value:function(){var e=this.props,t=e.isExpanded,n=e.el;return!t||t(n)}},{key:"render",value:function(){var e=this.props,t=e.selected,o=e.el,i=e.lang,a=o.title,u=o.id,l=o.children,f=Object(R.h)("bllc-tree-item",t===o.id&&"bllc-active"),s=this.isExpanded(),p=P()(a)?a:a[i];return c.a.createElement("div",{className:f,"data-id":u},c.a.createElement("div",{className:"bllc-tree-item-self",onClick:this.onSelect,onDoubleClick:this.onToggle},l.length?[s?null:c.a.createElement(r.f,{icon:"plus-squared-alt",onClick:this.onExpand,key:"0"}),s?c.a.createElement(r.f,{icon:"minus",onClick:this.onCollapse,key:"1"}):null]:null,l.length?null:c.a.createElement("div",{className:"bllc-tree-vline"}),c.a.createElement(r.f,{icon:"dot-circled"}),c.a.createElement("span",{className:"bllc-tree-is-label"},p)),l&&s?c.a.createElement("div",{className:"bllc-tree-list"},l.map((function(e,t){return c.a.createElement(n,E({el:e,key:e.id},n.props(this.props)))}),this)):null)}}],[{key:"props",value:function(e){return j()(e,"onSelect","selected","isExpanded","onExpand","onCollapse","lang")}}]),n}(c.a.PureComponent);I(N,"propTypes",{el:u.a.shape({id:u.a.number.isRequired}).isRequired,onSelect:u.a.func.isRequired,selected:u.a.number,lang:u.a.string});var L=function(e){C(n,e);var t=D(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return I(q(e=t.call.apply(t,[this].concat(o))),"setBlock",(function(t){e.block=t})),e}return x(n,[{key:"render",value:function(){var e=this.props.tree;return c.a.createElement("div",{className:"bllc-tree",ref:this.setBlock},e.map((function(e,t){return c.a.createElement(N,E({el:e,key:e.id},N.props(this.props)))}),this))}},{key:"scrollTo",value:function(e){var t=this.block.querySelector('[data-id="'.concat(e,'"]'));t&&t.scrollIntoView()}}]),n}(c.a.PureComponent);I(L,"propTypes",{tree:u.a.array.isRequired,onSelect:u.a.func.isRequired,onExpand:u.a.func.isRequired,onCollapse:u.a.func.isRequired,selected:u.a.number,isExpanded:u.a.func,lang:u.a.string});var M=n(142)},72:function(e,t,n){"use strict";n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"h",(function(){return j}));var r=n(78),o=n.n(r),i=n(28),c=n.n(i),a=n(176),u=n.n(a),l=n(46),f=n.n(l),s=n(8);function p(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=Object(s.a)((function(e){return e}),(function(e){return function e(t,n){return function(e){return"string"==typeof e&&/^(\w:)?[\w\d]+\.\w[\w\d]{1,3}(:.+)?$/.test(e)}(t)&&(n[function(e){return e.match(/^(\w:)?([\w\d]+\.\w[\w\d]{1,3})(:.+)?$/)[2]}(t)]=1),f()(t)&&u()(t,(function(t){e(t,n)})),n}(c()(e,"assets"),{})})),d=function(e){var t=e.assets.map((function(e){return e.name})),n=Object.keys(b(e));return t.filter((function(e){return!n.includes(e)}))},h=Object(s.a)((function(e){return e}),(function(e){return o()(e,"name")})),v=function(e,t){return h(e.data.assets)[t]||{}},m=function(e,t,n){var r=h(t)[n]||{name:n};return"".concat(e).concat(r.name,"?v").concat(r.hash)},g=function(e,t){var n=e.data,r=n.assets,o=n.path;return m(o,r,t)},O=Object(s.a)((function(e){return e.data.assets}),(function(e){return e.assets.atype}),(function(e,t){return(t?e.filter((function(e){return"model"===(n=t)&&(n="fake/3d"),"widget"===n&&(n="fake/widget"),e.mime.startsWith(n);var n})):p(e)).sort((function(e,t){return parseInt(e.name,10)<parseInt(t.name,10)?-1:1}))})),j=Object(s.a)(O,(function(e){return e.assets.selected}),(function(e,t){return t&&e.some((function(e){return e.name===t}))}))},74:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return K})),n.d(t,"d",(function(){return X}));var r,o,i,c,a,u=n(23),l=n.n(u),f=n(46),s=n.n(f),p=n(1),y=n.n(p),b=n(0),d=n.n(b),h=n(8),v=n(204),m=n(322),g=n(9),O=n(40),j=n(35),w=n(2),P=n(25),R=n(34),S=n(249),E=n(6),k=n(3),_=n(210),x=n(626);n(1186);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U,H,F,W,G,V,$=function(e,t){return"m:".concat(e,":").concat(t)},K=function(e,t){return Object(P.b)(e).querySelector('[data-name="'.concat(t,'"]'))},X=function(e,t){var n=$(e,t);J._map[n].edit()},Y={kind:null,data:null},J=(r=Object(k.f)(["rapi","regionApi"],["cpayload","genCpayload"],["t","genT"]),o=Object(k.g)("lessonApi"),a=c=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(c,t);var n,r,o,i=I(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),B(L(t=i.call(this,e)),"state",{err:null}),B(L(t),"dispatch",(function(e){return(0,t.cx.lessonApi.modDispatch)("content",e)})),B(L(t),"edit",(function(){var e=t.props,n=e.id,r=e.mid,o=e.data,i=e.withExpressions,c=e.payload,a=null;r&&((a={mid:r}).statePath=c.statePath),t.dispatch(Object(R.n)(n,o,i,a))})),B(L(t),"url",(function(e,n){var r=t.props.path,o=e[n];return r+n+(o?"?v".concat(o.hash):"")})),B(L(t),"updateAsset",(function(e,n){t.cx.lessonApi.updateAsset(e,n)})),B(L(t),"genCpayload",Object(h.a)((function(e){return e.assets}),(function(e){return e.isEditing}),(function(e){return e.sel}),(function(e){return e.clipboard}),(function(e){return e.clipboardType}),(function(e){return e.sub}),(function(e){return e.selType}),(function(e){return s()(e.payload)&&e.payload}),(function(e,n,r,o,i,c,a,u){return A(A({},u),{},{isEditing:n,selected:r,assets:e,url:t.url.bind(L(t),e),clipboard:o,sub:c,selType:a,clipboardType:i,updateAsset:t.updateAsset.bind(L(t))})}))),B(L(t),"genT",(function(){return _.a.gen(t.props.lang)})),B(L(t),"setBlock",(function(e){t.block=e})),t.block=y.a.createRef(),t.regionApi=new x.a({block:t.block,dispatch:t.dispatch,getProps:function(){return t.props},getLessonApi:function(){return t.cx.lessonApi},regionId:t.props.id,withExpressions:t.props.withExpressions,path:t.props.path}),t}return n=c,o=[{key:"getClipboard",value:function(e){return e&&this.clipboardTypes.includes(e.kind)?e:Y}},{key:"getClipboardType",value:function(e,t){var n=e.data,r=e.kind;return t&&"content"===r?E.a.fullType(n):this.clipboardTypes.includes(r)?r:null}},{key:"map",value:function(e,t){var n=e.contentState,r=e.assets,o=e.clipboard,i=e.lang,c=e.path,a=n.isEditing&&n.id===t.id,u={path:c,assets:r,isEditing:a,lang:i,isAnyEditing:n.isEditing};return A(A({},u),{},a?{data:n.data,sel:n.sel,selType:n.selType,clipboardType:this.getClipboardType(o,a),clipboard:this.getClipboard(o),sub:n.sub}:{data:t.data,sel:null,selType:null,clipboardType:null,clipboard:null,sub:S.c})}}],(r=[{key:"componentDidMount",value:function(){this.constructor._map[this.props.id]=this}},{key:"componentWillUnmount",value:function(){this.unmounted=!0,this.constructor._map[this.props.id]=null}},{key:"componentWillReceiveProps",value:function(t){var n=this,r=this.props,o=r.data,i=r.sel,c=E.a.get(o,i),a=E.a.get(t.data,t.sel);!window.TEST&&a&&c!==a&&e((function(){n.unmounted||n.regionApi.tryToFocusSelected()}))}},{key:"componentDidCatch",value:function(e){this.setState({err:e})}},{key:"render",value:function(e){if(this.state.err)return y.a.createElement(O.a,{err:this.state.err});var t=this.props,n=t.isEditing;return t.withPanel&&n?y.a.createElement("div",{className:"bllc-content-block"},y.a.createElement("div",{className:"bllc-c-block-hat"},y.a.createElement(v.a,l()(this.props,"payload","clipboard","lang"))),this.renderBlock()):this.renderBlock()}},{key:"renderBlock",value:function(){var e=this.props,t=e.id,n=e.data,r=e.name,o=e.path,i=e.isAnyEditing,c=e.isEditing,a=Object(w.h)("bllc-content-region",c&&"bllc-cr-editing",!c&&"bllc-cr-nonediting");return y.a.createElement("div",{className:a,onClick:this.onClick,"data-name":r,"data-con-id":t,ref:this.block},n.map((function(e,t){return y.a.createElement(m.a,T({key:t,cid:String(t),data:e},{path:o}))}),this),y.a.createElement(j.a,{cid:null,parentType:"root"}),i?null:y.a.createElement("div",{className:"bllc-cr-edit-wrapper"},y.a.createElement(g.a,{cls:"bllc-c-edit-btn",icon:"pencil",onClick:this.edit,role:"conect-edit"})))}}])&&q(n.prototype,r),o&&q(n,o),c}(y.a.PureComponent),B(c,"_map",{}),B(c,"propTypes",{id:d.a.string.isRequired,mid:d.a.string,data:d.a.array.isRequired,lang:d.a.string.isRequired,withExpressions:d.a.bool,path:d.a.string.isRequired,payload:d.a.object,name:d.a.string,withPanel:d.a.bool,isAnyEditing:d.a.bool.isRequired,isEditing:d.a.bool.isRequired,sel:d.a.string,selType:d.a.string,assets:d.a.object.isRequired,sub:d.a.object.isRequired}),B(c,"cxPropTypes",{lessonApi:d.a.shape({getLessonUrl:d.a.func.isRequired,connect:d.a.func.isRequired,updateAsset:d.a.func}).isRequired}),B(c,"clipboardTypes",["content","plot-curve","plot-point"]),U=(i=a).prototype,H="render",F=[r,o],W=Object.getOwnPropertyDescriptor(i.prototype,"render"),G=i.prototype,V={},Object.keys(W).forEach((function(e){V[e]=W[e]})),V.enumerable=!!V.enumerable,V.configurable=!!V.configurable,("value"in V||V.initializer)&&(V.writable=!0),V=F.slice().reverse().reduce((function(e,t){return t(U,H,e)||e}),V),G&&void 0!==V.initializer&&(V.value=V.initializer?V.initializer.call(G):void 0,V.initializer=void 0),void 0===V.initializer&&(Object.defineProperty(U,H,V),V=null),i);t.a=Object(P.c)(J,["contentState","assets","clipboard","lang","path"])}).call(this,n(62).setImmediate)},75:function(e,t,n){"use strict";var r,o,i,c,a=n(17),u=n.n(a),l=n(1),f=n.n(l),s=n(0),p=n.n(s),y=n(8),b=n(74),d=n(25),h=n(3);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,x,C,T,D,A,q=(r=Object(h.g)("mid"),c=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,r,o=P(i);function i(){var e;O(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(S(e=o.call.apply(o,[this].concat(n))),"genPayload",Object(y.a)((function(e){return e.payload}),(function(e){return e.path}),(function(e,t){return g(g({},e),{},{statePath:t})}))),e}return t=i,r=[{key:"map",value:function(e,t){var n=e.module,r=t.path;return{data:u()(n,r)}}}],(n=[{key:"render",value:function(e){var t=this.props,n=t.path,r=t.data,o=t.withExpressions,i=t.children,c=n,a=Object(b.b)(e,n),u=this.genPayload(this.props);return f.a.createElement(b.a,{id:a,mid:e,payload:u,name:c,data:r,withExpressions:o},i)}}])&&j(t.prototype,n),r&&j(t,r),i}(f.a.PureComponent),k(i,"propTypes",{withExpressions:p.a.bool,path:p.a.string.isRequired,children:p.a.node}),_=(o=c).prototype,x="render",C=[r],T=Object.getOwnPropertyDescriptor(o.prototype,"render"),D=o.prototype,A={},Object.keys(T).forEach((function(e){A[e]=T[e]})),A.enumerable=!!A.enumerable,A.configurable=!!A.configurable,("value"in A||A.initializer)&&(A.writable=!0),A=C.slice().reverse().reduce((function(e,t){return t(_,x,e)||e}),A),D&&void 0!==A.initializer&&(A.value=A.initializer?A.initializer.call(D):void 0,A.initializer=void 0),void 0===A.initializer&&(Object.defineProperty(_,x,A),A=null),o);t.a=Object(d.c)(q,["module"])},76:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return f}));var r=n(2),o=Object(r.b)("PL"),i=o.createIgnore("OPEN_DLG","mid"),c=o.createIgnore("CLOSE_DLG"),a=o.createIgnore("CHECK"),u=o.createIgnore("UNCHECK"),l=o.createIgnore("RESET"),f=o.createIgnore("SET_SIZE","size")},83:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n(602),o=new CustomEvent("bllx-resize"),i=function(){return window.dispatchEvent(o)},c=function(e,t,n){var o;return window.TEST?{dispose:function(){}}:(e._ro_=new r.a(n),e._ro_.observe(t),o=n,window.addEventListener("bllx-resize",o),window.addEventListener("resize",n),setTimeout(n,10),{dispose:function(){var t;e._ro_&&(e._ro_.disconnect(),e._ro_=null),t=n,window.removeEventListener("bllx-resize",t),window.removeEventListener("resize",n)}})}},84:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"a",(function(){return w})),n.d(t,"f",(function(){return P}));var r,o=n(36),i=n.n(o),c=n(203),a=n.n(c),u=n(2);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={isActive:!1,graph:null,tab:"grid"},y=["red","blue","green","orange","violet"],b=function(e){var t=new Set(a()(e,"color"));return y.find((function(e){return!t.has(e)}))||y[0]},d=function(e){return{fnX:"x",color:b(e)}},h=function(e){var t=e.map((function(e){return e.label.toUpperCase()})).filter((function(e){return 1===e.length})).sort(),n=i()(t),r=n&&n.charCodeAt(0);return r>=65&&r<=89?String.fromCharCode(r+1):"A"},v=function(e){return{x:0,y:0,color:b(e),label:h(e)}},m=Object(u.b)("PLOT"),g=m.createIgnore("OPEN","graph"),O=m.createIgnore("CLOSE","graph"),j=m.createIgnore("UPD","graph"),w=m.createIgnore("CHOOSE_TAB","tab"),P=(m.createIgnore("COPY","kind, data"),s(r={},g.type,(function(e,t){var n=t.graph;return f(f({},e),{},{graph:n,isActive:!0})})),s(r,O.type,(function(){return p})),s(r,j.type,(function(e,t){var n=t.graph;return f(f({},e),{},{graph:n})})),s(r,w.type,(function(e,t){var n=t.tab;return f(f({},e),{},{tab:n})})),r)},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"c",(function(){return O})),n.d(t,"i",(function(){return j})),n.d(t,"b",(function(){return w})),n.d(t,"g",(function(){return P}));var r=n(71),o=n.n(r),i=n(122),c=n.n(i),a=n(5),u=n(8),l=n(14),f=n(21);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={simple:"A",medium:"B",hard:"C"},d=function(){return Object.values(b).map((function(e){return e}))},h=function(e){return e.adaptiveLevelCount},v=function(e,t,n){var r,o=null!==(r=Object(f.d)(e)[t][n])&&void 0!==r?r:[];return Object(f.g)(e).map((function(e){return o.includes(e.id)?e:null})).filter((function(e){return null!==e}))},m=function(e,t){var n=h(e);return c()(1,n+1).reduce((function(n,r){return n[r]=v(e,t,r),n}),{})},g=Object(u.a)(f.b,h,(function(e,t){var n=!1;return e.forEach((function(e){var r;(null!==(r=Object.values(e.categories))&&void 0!==r?r:[]).forEach((function(e){var r,o=null!==(r=Object.values(e))&&void 0!==r?r:[];o.length<t&&(n=!0),o.forEach((function(e){e.length<2&&(n=!0)}))}))})),!n})),O=function(e,t){var n=Object(f.d)(e),r=null;return Object.keys(n).forEach((function(e){var o=n[e];Object.values(o).forEach((function(n){n.includes(t)&&(r=e)}))})),r},j=function(e,t){var n=Object(f.a)(e),r=Object(f.d)(e)[n],o={};return Object.keys(r).forEach((function(e){var n=r[e];t.forEach((function(e){n.includes(e)&&(n=Object(a.e)(n,e))})),o[e]=n})),o},w=function(e,t){var n=Object(f.a)(e),r=Object(f.d)(e),i=Object(l.e)(e).length,c=Object.keys(r),a=c.indexOf(n);return c.slice(0,a+1).reduce((function(i,c){var a=r[c];if(o()(a))return i;var u=Object.keys(a),l=c===n?u.indexOf(String(t)):u.length;return i+u.splice(0,l).reduce((function(t,n){var r=v(e,c,n).map((function(e){return e.id}));return t+a[n].map((function(e){return r.includes(e)?e:null})).filter((function(e){return null!==e})).length}),0)}),i)},P=function(e,t){var n=Object(f.c)(e).modules,r=Object(f.a)(e),o=Object(l.e)(e),i=o.findIndex((function(e){return e.id===t})),c={isFirst:0===i,isLast:i===o.length-1},a=n.findIndex((function(e){return e.id===t}));if(n[a].isAdaptive){var u=m(e,r);Object.values(u).forEach((function(e){var n=e.findIndex((function(e){return e.id===t}));-1!==n&&(c.isFirst=0===n,c.isLast=n===e.length-1)}))}return p(p({},c),{},{idx:a})}},9:function(e,t,n){"use strict";var r=n(30);t.a=r.f},916:function(e,t,n){},917:function(e,t){HTMLElement.prototype.animate||(HTMLElement.prototype.animate=function(e,t){var n={};return setTimeout((function(){n.onfinish&&n.onfinish()}),0),n})},918:function(e,t){HTMLElement.prototype.scrollBy||(HTMLElement.prototype.scrollBy=function(e,t){e&&(this.scrollLeft+=e),t&&(this.scrollTop+=t)})},92:function(e,t,n){"use strict";var r=n(30);t.a=r.b},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return x}));var r={};n.r(r),n.d(r,"def",(function(){return h})),n.d(r,"isCorrect",(function(){return v})),n.d(r,"getCorrect",(function(){return m})),n.d(r,"map",(function(){return g}));var o=n(50),i=n.n(o),c=n(652),a=n.n(c),u=n(48),l=n.n(u),f=n(315),s=n(149),p=n(320),y=n(222),b=n(257),d=n(255),h={},v=function(){return!0},m=function(){},g={},O=n(319),j=n(223),w=n(321),P=O,R={simple:f,connection:s,select:p,choice:y,expressions:b,sort:d,unknown:r,markWords:j,essay:w},S=l()(R,"def"),E=l()(R,"isCorrect"),k=(l()(R,"getCorrect"),a()(l()(R,"genCustomHints"),(function(e){return!e})),i()(R,(function(e,t){for(var n=0,r=Object.keys(t.map);n<r.length;n++){var o=r[n];e[o]=t.map[o]}}),{})),_=function(e,t,n){var r=k[t.type];if(!r)throw new Error("Unknown mod-action: ".concat(t.type));return r(e,t,n)},x=function(e){return e.type.startsWith("PLMOD")}},931:function(e,t){},94:function(e,t,n){"use strict";var r=n(33),o=n.n(r),i=n(78),c=n.n(i),a=n(39),u=n.n(a),l=n(2);function f(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b={isChoosing:!1,chooseCallback:null,chooseItems:null,block:null,choose:function(e,t,n,r){if(b.isChoosing)b._chooseEnd();else{b.chooseCallback=r,b.isChoosing=!0,b.chooseItems=b.getList(e,t);var o,i=s(b.chooseItems);try{for(i.s();!(o=i.n()).done;){var c=o.value;n&&n.has(c.eid)&&b.hightlight(c,!0),c.block.setAttribute("data-exp-choosable",!0)}}catch(e){i.e(e)}finally{i.f()}document.body.style.cursor="crosshair",Object(l.f)("click",b._chooseEnd,{once:!0})}},_chooseEnd:function(e){e&&(e.stopPropagation(),e.preventDefault()),document.body.style.cursor="";var t,n=s(b.chooseItems);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.block.removeAttribute("data-exp-choosable"),b.hightlight(r,!1)}}catch(e){n.e(e)}finally{n.f()}var o=b.chooseItems.find((function(t){return t.block.contains(e.target)}));b.chooseCallback(o),b.isChoosing=!1,b.chooseItems=null,b.chooseCallback=null},filter:function(e,t){var n=t||function(){return!0};if(u()(t)){var r=new Set(t.split(","));n=function(e){return r.has(e.kind)}}return e.filter(n)},byEid:function(e,t){return b.getList(e,(function(e){return e.eid===t}))[0]},getList:function(e,t){var n=f(e.querySelectorAll("[data-exp-kind]")).map((function(e){return{eid:e.dataset.expId,kind:e.dataset.expKind,block:e,type:"exp"}}));return this.filter(n,t)},getHash:function(){return c()(this.getList.apply(this,arguments),"eid")},hightlight:function(e,t){var n,r=s((o()(e)?e:[e]).filter(Boolean));try{for(r.s();!(n=r.n()).done;){var i=n.value.block;t?i.setAttribute("data-exp-hl",!0):i.removeAttribute("data-exp-hl")}}catch(e){r.e(e)}finally{r.f()}}};t.a=b}});